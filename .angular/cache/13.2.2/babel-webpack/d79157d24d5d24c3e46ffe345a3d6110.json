{"ast":null,"code":"!function (e, t) {\n  if (\"object\" == typeof exports && \"object\" == typeof module) module.exports = t();else if (\"function\" == typeof define && define.amd) define([], t);else {\n    var r = t();\n\n    for (var i in r) (\"object\" == typeof exports ? exports : e)[i] = r[i];\n  }\n}(self, function () {\n  return (() => {\n    \"use strict\";\n\n    var e = {\n      4567: function (e, t, r) {\n        var i,\n            n = this && this.__extends || (i = function (e, t) {\n          return i = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (e, t) {\n            e.__proto__ = t;\n          } || function (e, t) {\n            for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);\n          }, i(e, t);\n        }, function (e, t) {\n          if (\"function\" != typeof t && null !== t) throw new TypeError(\"Class extends value \" + String(t) + \" is not a constructor or null\");\n\n          function r() {\n            this.constructor = e;\n          }\n\n          i(e, t), e.prototype = null === t ? Object.create(t) : (r.prototype = t.prototype, new r());\n        });\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.AccessibilityManager = void 0;\n\n        var o = r(9042),\n            s = r(6114),\n            a = r(9924),\n            c = r(3656),\n            l = r(844),\n            h = r(5596),\n            u = r(9631),\n            f = function (e) {\n          function t(t, r) {\n            var i = e.call(this) || this;\n            i._terminal = t, i._renderService = r, i._liveRegionLineCount = 0, i._charsToConsume = [], i._charsToAnnounce = \"\", i._accessibilityTreeRoot = document.createElement(\"div\"), i._accessibilityTreeRoot.setAttribute(\"role\", \"document\"), i._accessibilityTreeRoot.classList.add(\"xterm-accessibility\"), i._accessibilityTreeRoot.tabIndex = 0, i._rowContainer = document.createElement(\"div\"), i._rowContainer.setAttribute(\"role\", \"list\"), i._rowContainer.classList.add(\"xterm-accessibility-tree\"), i._rowElements = [];\n\n            for (var n = 0; n < i._terminal.rows; n++) i._rowElements[n] = i._createAccessibilityTreeNode(), i._rowContainer.appendChild(i._rowElements[n]);\n\n            if (i._topBoundaryFocusListener = function (e) {\n              return i._onBoundaryFocus(e, 0);\n            }, i._bottomBoundaryFocusListener = function (e) {\n              return i._onBoundaryFocus(e, 1);\n            }, i._rowElements[0].addEventListener(\"focus\", i._topBoundaryFocusListener), i._rowElements[i._rowElements.length - 1].addEventListener(\"focus\", i._bottomBoundaryFocusListener), i._refreshRowsDimensions(), i._accessibilityTreeRoot.appendChild(i._rowContainer), i._renderRowsDebouncer = new a.TimeBasedDebouncer(i._renderRows.bind(i)), i._refreshRows(), i._liveRegion = document.createElement(\"div\"), i._liveRegion.classList.add(\"live-region\"), i._liveRegion.setAttribute(\"aria-live\", \"assertive\"), i._accessibilityTreeRoot.appendChild(i._liveRegion), !i._terminal.element) throw new Error(\"Cannot enable accessibility before Terminal.open\");\n            return i._terminal.element.insertAdjacentElement(\"afterbegin\", i._accessibilityTreeRoot), i.register(i._renderRowsDebouncer), i.register(i._terminal.onResize(function (e) {\n              return i._onResize(e.rows);\n            })), i.register(i._terminal.onRender(function (e) {\n              return i._refreshRows(e.start, e.end);\n            })), i.register(i._terminal.onScroll(function () {\n              return i._refreshRows();\n            })), i.register(i._terminal.onA11yChar(function (e) {\n              return i._onChar(e);\n            })), i.register(i._terminal.onLineFeed(function () {\n              return i._onChar(\"\\n\");\n            })), i.register(i._terminal.onA11yTab(function (e) {\n              return i._onTab(e);\n            })), i.register(i._terminal.onKey(function (e) {\n              return i._onKey(e.key);\n            })), i.register(i._terminal.onBlur(function () {\n              return i._clearLiveRegion();\n            })), i.register(i._renderService.onDimensionsChange(function () {\n              return i._refreshRowsDimensions();\n            })), i._screenDprMonitor = new h.ScreenDprMonitor(), i.register(i._screenDprMonitor), i._screenDprMonitor.setListener(function () {\n              return i._refreshRowsDimensions();\n            }), i.register((0, c.addDisposableDomListener)(window, \"resize\", function () {\n              return i._refreshRowsDimensions();\n            })), i;\n          }\n\n          return n(t, e), t.prototype.dispose = function () {\n            e.prototype.dispose.call(this), (0, u.removeElementFromParent)(this._accessibilityTreeRoot), this._rowElements.length = 0;\n          }, t.prototype._onBoundaryFocus = function (e, t) {\n            var r = e.target,\n                i = this._rowElements[0 === t ? 1 : this._rowElements.length - 2];\n\n            if (r.getAttribute(\"aria-posinset\") !== (0 === t ? \"1\" : \"\" + this._terminal.buffer.lines.length) && e.relatedTarget === i) {\n              var n, o;\n\n              if (0 === t ? (n = r, o = this._rowElements.pop(), this._rowContainer.removeChild(o)) : (n = this._rowElements.shift(), o = r, this._rowContainer.removeChild(n)), n.removeEventListener(\"focus\", this._topBoundaryFocusListener), o.removeEventListener(\"focus\", this._bottomBoundaryFocusListener), 0 === t) {\n                var s = this._createAccessibilityTreeNode();\n\n                this._rowElements.unshift(s), this._rowContainer.insertAdjacentElement(\"afterbegin\", s);\n              } else s = this._createAccessibilityTreeNode(), this._rowElements.push(s), this._rowContainer.appendChild(s);\n\n              this._rowElements[0].addEventListener(\"focus\", this._topBoundaryFocusListener), this._rowElements[this._rowElements.length - 1].addEventListener(\"focus\", this._bottomBoundaryFocusListener), this._terminal.scrollLines(0 === t ? -1 : 1), this._rowElements[0 === t ? 1 : this._rowElements.length - 2].focus(), e.preventDefault(), e.stopImmediatePropagation();\n            }\n          }, t.prototype._onResize = function (e) {\n            this._rowElements[this._rowElements.length - 1].removeEventListener(\"focus\", this._bottomBoundaryFocusListener);\n\n            for (var t = this._rowContainer.children.length; t < this._terminal.rows; t++) this._rowElements[t] = this._createAccessibilityTreeNode(), this._rowContainer.appendChild(this._rowElements[t]);\n\n            for (; this._rowElements.length > e;) this._rowContainer.removeChild(this._rowElements.pop());\n\n            this._rowElements[this._rowElements.length - 1].addEventListener(\"focus\", this._bottomBoundaryFocusListener), this._refreshRowsDimensions();\n          }, t.prototype._createAccessibilityTreeNode = function () {\n            var e = document.createElement(\"div\");\n            return e.setAttribute(\"role\", \"listitem\"), e.tabIndex = -1, this._refreshRowDimensions(e), e;\n          }, t.prototype._onTab = function (e) {\n            for (var t = 0; t < e; t++) this._onChar(\" \");\n          }, t.prototype._onChar = function (e) {\n            var t = this;\n            this._liveRegionLineCount < 21 && (this._charsToConsume.length > 0 ? this._charsToConsume.shift() !== e && (this._charsToAnnounce += e) : this._charsToAnnounce += e, \"\\n\" === e && (this._liveRegionLineCount++, 21 === this._liveRegionLineCount && (this._liveRegion.textContent += o.tooMuchOutput)), s.isMac && this._liveRegion.textContent && this._liveRegion.textContent.length > 0 && !this._liveRegion.parentNode && setTimeout(function () {\n              t._accessibilityTreeRoot.appendChild(t._liveRegion);\n            }, 0));\n          }, t.prototype._clearLiveRegion = function () {\n            this._liveRegion.textContent = \"\", this._liveRegionLineCount = 0, s.isMac && (0, u.removeElementFromParent)(this._liveRegion);\n          }, t.prototype._onKey = function (e) {\n            this._clearLiveRegion(), this._charsToConsume.push(e);\n          }, t.prototype._refreshRows = function (e, t) {\n            this._renderRowsDebouncer.refresh(e, t, this._terminal.rows);\n          }, t.prototype._renderRows = function (e, t) {\n            for (var r = this._terminal.buffer, i = r.lines.length.toString(), n = e; n <= t; n++) {\n              var o = r.translateBufferLineToString(r.ydisp + n, !0),\n                  s = (r.ydisp + n + 1).toString(),\n                  a = this._rowElements[n];\n              a && (0 === o.length ? a.innerText = \"Â \" : a.textContent = o, a.setAttribute(\"aria-posinset\", s), a.setAttribute(\"aria-setsize\", i));\n            }\n\n            this._announceCharacters();\n          }, t.prototype._refreshRowsDimensions = function () {\n            if (this._renderService.dimensions.actualCellHeight) {\n              this._rowElements.length !== this._terminal.rows && this._onResize(this._terminal.rows);\n\n              for (var e = 0; e < this._terminal.rows; e++) this._refreshRowDimensions(this._rowElements[e]);\n            }\n          }, t.prototype._refreshRowDimensions = function (e) {\n            e.style.height = this._renderService.dimensions.actualCellHeight + \"px\";\n          }, t.prototype._announceCharacters = function () {\n            0 !== this._charsToAnnounce.length && (this._liveRegion.textContent += this._charsToAnnounce, this._charsToAnnounce = \"\");\n          }, t;\n        }(l.Disposable);\n\n        t.AccessibilityManager = f;\n      },\n      3614: (e, t) => {\n        function r(e) {\n          return e.replace(/\\r?\\n/g, \"\\r\");\n        }\n\n        function i(e, t) {\n          return t ? \"\u001b[200~\" + e + \"\u001b[201~\" : e;\n        }\n\n        function n(e, t, n) {\n          e = i(e = r(e), n.decPrivateModes.bracketedPasteMode), n.triggerDataEvent(e, !0), t.value = \"\";\n        }\n\n        function o(e, t, r) {\n          var i = r.getBoundingClientRect(),\n              n = e.clientX - i.left - 10,\n              o = e.clientY - i.top - 10;\n          t.style.width = \"20px\", t.style.height = \"20px\", t.style.left = n + \"px\", t.style.top = o + \"px\", t.style.zIndex = \"1000\", t.focus();\n        }\n\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.rightClickHandler = t.moveTextAreaUnderMouseCursor = t.paste = t.handlePasteEvent = t.copyHandler = t.bracketTextForPaste = t.prepareTextForTerminal = void 0, t.prepareTextForTerminal = r, t.bracketTextForPaste = i, t.copyHandler = function (e, t) {\n          e.clipboardData && e.clipboardData.setData(\"text/plain\", t.selectionText), e.preventDefault();\n        }, t.handlePasteEvent = function (e, t, r) {\n          e.stopPropagation(), e.clipboardData && n(e.clipboardData.getData(\"text/plain\"), t, r);\n        }, t.paste = n, t.moveTextAreaUnderMouseCursor = o, t.rightClickHandler = function (e, t, r, i, n) {\n          o(e, t, r), n && i.rightClickSelect(e), t.value = i.selectionText, t.select();\n        };\n      },\n      4774: (e, t) => {\n        var r, i, n, o;\n\n        function s(e) {\n          var t = e.toString(16);\n          return t.length < 2 ? \"0\" + t : t;\n        }\n\n        function a(e, t) {\n          return e < t ? (t + .05) / (e + .05) : (e + .05) / (t + .05);\n        }\n\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.contrastRatio = t.toPaddedHex = t.rgba = t.rgb = t.css = t.color = t.channels = void 0, function (e) {\n          e.toCss = function (e, t, r, i) {\n            return void 0 !== i ? \"#\" + s(e) + s(t) + s(r) + s(i) : \"#\" + s(e) + s(t) + s(r);\n          }, e.toRgba = function (e, t, r, i) {\n            return void 0 === i && (i = 255), (e << 24 | t << 16 | r << 8 | i) >>> 0;\n          };\n        }(r = t.channels || (t.channels = {})), (i = t.color || (t.color = {})).blend = function (e, t) {\n          var i = (255 & t.rgba) / 255;\n          if (1 === i) return {\n            css: t.css,\n            rgba: t.rgba\n          };\n          var n = t.rgba >> 24 & 255,\n              o = t.rgba >> 16 & 255,\n              s = t.rgba >> 8 & 255,\n              a = e.rgba >> 24 & 255,\n              c = e.rgba >> 16 & 255,\n              l = e.rgba >> 8 & 255,\n              h = a + Math.round((n - a) * i),\n              u = c + Math.round((o - c) * i),\n              f = l + Math.round((s - l) * i);\n          return {\n            css: r.toCss(h, u, f),\n            rgba: r.toRgba(h, u, f)\n          };\n        }, i.isOpaque = function (e) {\n          return 255 == (255 & e.rgba);\n        }, i.ensureContrastRatio = function (e, t, r) {\n          var i = o.ensureContrastRatio(e.rgba, t.rgba, r);\n          if (i) return o.toColor(i >> 24 & 255, i >> 16 & 255, i >> 8 & 255);\n        }, i.opaque = function (e) {\n          var t = (255 | e.rgba) >>> 0,\n              i = o.toChannels(t),\n              n = i[0],\n              s = i[1],\n              a = i[2];\n          return {\n            css: r.toCss(n, s, a),\n            rgba: t\n          };\n        }, i.opacity = function (e, t) {\n          var i = Math.round(255 * t),\n              n = o.toChannels(e.rgba),\n              s = n[0],\n              a = n[1],\n              c = n[2];\n          return {\n            css: r.toCss(s, a, c, i),\n            rgba: r.toRgba(s, a, c, i)\n          };\n        }, i.toColorRGB = function (e) {\n          return [e.rgba >> 24 & 255, e.rgba >> 16 & 255, e.rgba >> 8 & 255];\n        }, (t.css || (t.css = {})).toColor = function (e) {\n          switch (e.length) {\n            case 7:\n              return {\n                css: e,\n                rgba: (parseInt(e.slice(1), 16) << 8 | 255) >>> 0\n              };\n\n            case 9:\n              return {\n                css: e,\n                rgba: parseInt(e.slice(1), 16) >>> 0\n              };\n          }\n\n          throw new Error(\"css.toColor: Unsupported css format\");\n        }, function (e) {\n          function t(e, t, r) {\n            var i = e / 255,\n                n = t / 255,\n                o = r / 255;\n            return .2126 * (i <= .03928 ? i / 12.92 : Math.pow((i + .055) / 1.055, 2.4)) + .7152 * (n <= .03928 ? n / 12.92 : Math.pow((n + .055) / 1.055, 2.4)) + .0722 * (o <= .03928 ? o / 12.92 : Math.pow((o + .055) / 1.055, 2.4));\n          }\n\n          e.relativeLuminance = function (e) {\n            return t(e >> 16 & 255, e >> 8 & 255, 255 & e);\n          }, e.relativeLuminance2 = t;\n        }(n = t.rgb || (t.rgb = {})), function (e) {\n          function t(e, t, r) {\n            for (var i = e >> 24 & 255, o = e >> 16 & 255, s = e >> 8 & 255, c = t >> 24 & 255, l = t >> 16 & 255, h = t >> 8 & 255, u = a(n.relativeLuminance2(c, h, l), n.relativeLuminance2(i, o, s)); u < r && (c > 0 || l > 0 || h > 0);) c -= Math.max(0, Math.ceil(.1 * c)), l -= Math.max(0, Math.ceil(.1 * l)), h -= Math.max(0, Math.ceil(.1 * h)), u = a(n.relativeLuminance2(c, h, l), n.relativeLuminance2(i, o, s));\n\n            return (c << 24 | l << 16 | h << 8 | 255) >>> 0;\n          }\n\n          function i(e, t, r) {\n            for (var i = e >> 24 & 255, o = e >> 16 & 255, s = e >> 8 & 255, c = t >> 24 & 255, l = t >> 16 & 255, h = t >> 8 & 255, u = a(n.relativeLuminance2(c, h, l), n.relativeLuminance2(i, o, s)); u < r && (c < 255 || l < 255 || h < 255);) c = Math.min(255, c + Math.ceil(.1 * (255 - c))), l = Math.min(255, l + Math.ceil(.1 * (255 - l))), h = Math.min(255, h + Math.ceil(.1 * (255 - h))), u = a(n.relativeLuminance2(c, h, l), n.relativeLuminance2(i, o, s));\n\n            return (c << 24 | l << 16 | h << 8 | 255) >>> 0;\n          }\n\n          e.ensureContrastRatio = function (e, r, o) {\n            var s = n.relativeLuminance(e >> 8),\n                c = n.relativeLuminance(r >> 8);\n            if (a(s, c) < o) return c < s ? t(e, r, o) : i(e, r, o);\n          }, e.reduceLuminance = t, e.increaseLuminance = i, e.toChannels = function (e) {\n            return [e >> 24 & 255, e >> 16 & 255, e >> 8 & 255, 255 & e];\n          }, e.toColor = function (e, t, i) {\n            return {\n              css: r.toCss(e, t, i),\n              rgba: r.toRgba(e, t, i)\n            };\n          };\n        }(o = t.rgba || (t.rgba = {})), t.toPaddedHex = s, t.contrastRatio = a;\n      },\n      7239: (e, t) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.ColorContrastCache = void 0;\n\n        var r = function () {\n          function e() {\n            this._color = {}, this._rgba = {};\n          }\n\n          return e.prototype.clear = function () {\n            this._color = {}, this._rgba = {};\n          }, e.prototype.setCss = function (e, t, r) {\n            this._rgba[e] || (this._rgba[e] = {}), this._rgba[e][t] = r;\n          }, e.prototype.getCss = function (e, t) {\n            return this._rgba[e] ? this._rgba[e][t] : void 0;\n          }, e.prototype.setColor = function (e, t, r) {\n            this._color[e] || (this._color[e] = {}), this._color[e][t] = r;\n          }, e.prototype.getColor = function (e, t) {\n            return this._color[e] ? this._color[e][t] : void 0;\n          }, e;\n        }();\n\n        t.ColorContrastCache = r;\n      },\n      5680: function (e, t, r) {\n        var i = this && this.__spreadArray || function (e, t, r) {\n          if (r || 2 === arguments.length) for (var i, n = 0, o = t.length; n < o; n++) !i && n in t || (i || (i = Array.prototype.slice.call(t, 0, n)), i[n] = t[n]);\n          return e.concat(i || Array.prototype.slice.call(t));\n        };\n\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.ColorManager = t.DEFAULT_ANSI_COLORS = void 0;\n        var n = r(4774),\n            o = r(7239),\n            s = n.css.toColor(\"#ffffff\"),\n            a = n.css.toColor(\"#000000\"),\n            c = n.css.toColor(\"#ffffff\"),\n            l = n.css.toColor(\"#000000\"),\n            h = {\n          css: \"rgba(255, 255, 255, 0.3)\",\n          rgba: 4294967117\n        };\n        t.DEFAULT_ANSI_COLORS = Object.freeze(function () {\n          for (var e = [n.css.toColor(\"#2e3436\"), n.css.toColor(\"#cc0000\"), n.css.toColor(\"#4e9a06\"), n.css.toColor(\"#c4a000\"), n.css.toColor(\"#3465a4\"), n.css.toColor(\"#75507b\"), n.css.toColor(\"#06989a\"), n.css.toColor(\"#d3d7cf\"), n.css.toColor(\"#555753\"), n.css.toColor(\"#ef2929\"), n.css.toColor(\"#8ae234\"), n.css.toColor(\"#fce94f\"), n.css.toColor(\"#729fcf\"), n.css.toColor(\"#ad7fa8\"), n.css.toColor(\"#34e2e2\"), n.css.toColor(\"#eeeeec\")], t = [0, 95, 135, 175, 215, 255], r = 0; r < 216; r++) {\n            var i = t[r / 36 % 6 | 0],\n                o = t[r / 6 % 6 | 0],\n                s = t[r % 6];\n            e.push({\n              css: n.channels.toCss(i, o, s),\n              rgba: n.channels.toRgba(i, o, s)\n            });\n          }\n\n          for (r = 0; r < 24; r++) {\n            var a = 8 + 10 * r;\n            e.push({\n              css: n.channels.toCss(a, a, a),\n              rgba: n.channels.toRgba(a, a, a)\n            });\n          }\n\n          return e;\n        }());\n\n        var u = function () {\n          function e(e, r) {\n            this.allowTransparency = r;\n            var i = e.createElement(\"canvas\");\n            i.width = 1, i.height = 1;\n            var u = i.getContext(\"2d\");\n            if (!u) throw new Error(\"Could not get rendering context\");\n            this._ctx = u, this._ctx.globalCompositeOperation = \"copy\", this._litmusColor = this._ctx.createLinearGradient(0, 0, 1, 1), this._contrastCache = new o.ColorContrastCache(), this.colors = {\n              foreground: s,\n              background: a,\n              cursor: c,\n              cursorAccent: l,\n              selectionTransparent: h,\n              selectionOpaque: n.color.blend(a, h),\n              ansi: t.DEFAULT_ANSI_COLORS.slice(),\n              contrastCache: this._contrastCache\n            }, this._updateRestoreColors();\n          }\n\n          return e.prototype.onOptionsChange = function (e) {\n            \"minimumContrastRatio\" === e && this._contrastCache.clear();\n          }, e.prototype.setTheme = function (e) {\n            void 0 === e && (e = {}), this.colors.foreground = this._parseColor(e.foreground, s), this.colors.background = this._parseColor(e.background, a), this.colors.cursor = this._parseColor(e.cursor, c, !0), this.colors.cursorAccent = this._parseColor(e.cursorAccent, l, !0), this.colors.selectionTransparent = this._parseColor(e.selection, h, !0), this.colors.selectionOpaque = n.color.blend(this.colors.background, this.colors.selectionTransparent), n.color.isOpaque(this.colors.selectionTransparent) && (this.colors.selectionTransparent = n.color.opacity(this.colors.selectionTransparent, .3)), this.colors.ansi[0] = this._parseColor(e.black, t.DEFAULT_ANSI_COLORS[0]), this.colors.ansi[1] = this._parseColor(e.red, t.DEFAULT_ANSI_COLORS[1]), this.colors.ansi[2] = this._parseColor(e.green, t.DEFAULT_ANSI_COLORS[2]), this.colors.ansi[3] = this._parseColor(e.yellow, t.DEFAULT_ANSI_COLORS[3]), this.colors.ansi[4] = this._parseColor(e.blue, t.DEFAULT_ANSI_COLORS[4]), this.colors.ansi[5] = this._parseColor(e.magenta, t.DEFAULT_ANSI_COLORS[5]), this.colors.ansi[6] = this._parseColor(e.cyan, t.DEFAULT_ANSI_COLORS[6]), this.colors.ansi[7] = this._parseColor(e.white, t.DEFAULT_ANSI_COLORS[7]), this.colors.ansi[8] = this._parseColor(e.brightBlack, t.DEFAULT_ANSI_COLORS[8]), this.colors.ansi[9] = this._parseColor(e.brightRed, t.DEFAULT_ANSI_COLORS[9]), this.colors.ansi[10] = this._parseColor(e.brightGreen, t.DEFAULT_ANSI_COLORS[10]), this.colors.ansi[11] = this._parseColor(e.brightYellow, t.DEFAULT_ANSI_COLORS[11]), this.colors.ansi[12] = this._parseColor(e.brightBlue, t.DEFAULT_ANSI_COLORS[12]), this.colors.ansi[13] = this._parseColor(e.brightMagenta, t.DEFAULT_ANSI_COLORS[13]), this.colors.ansi[14] = this._parseColor(e.brightCyan, t.DEFAULT_ANSI_COLORS[14]), this.colors.ansi[15] = this._parseColor(e.brightWhite, t.DEFAULT_ANSI_COLORS[15]), this._contrastCache.clear(), this._updateRestoreColors();\n          }, e.prototype.restoreColor = function (e) {\n            if (void 0 !== e) switch (e) {\n              case 256:\n                this.colors.foreground = this._restoreColors.foreground;\n                break;\n\n              case 257:\n                this.colors.background = this._restoreColors.background;\n                break;\n\n              case 258:\n                this.colors.cursor = this._restoreColors.cursor;\n                break;\n\n              default:\n                this.colors.ansi[e] = this._restoreColors.ansi[e];\n            } else for (var t = 0; t < this._restoreColors.ansi.length; ++t) this.colors.ansi[t] = this._restoreColors.ansi[t];\n          }, e.prototype._updateRestoreColors = function () {\n            this._restoreColors = {\n              foreground: this.colors.foreground,\n              background: this.colors.background,\n              cursor: this.colors.cursor,\n              ansi: i([], this.colors.ansi, !0)\n            };\n          }, e.prototype._parseColor = function (e, t, r) {\n            if (void 0 === r && (r = this.allowTransparency), void 0 === e) return t;\n            if (this._ctx.fillStyle = this._litmusColor, this._ctx.fillStyle = e, \"string\" != typeof this._ctx.fillStyle) return console.warn(\"Color: \" + e + \" is invalid using fallback \" + t.css), t;\n\n            this._ctx.fillRect(0, 0, 1, 1);\n\n            var i = this._ctx.getImageData(0, 0, 1, 1).data;\n\n            if (255 !== i[3]) {\n              if (!r) return console.warn(\"Color: \" + e + \" is using transparency, but allowTransparency is false. Using fallback \" + t.css + \".\"), t;\n\n              var o = this._ctx.fillStyle.substring(5, this._ctx.fillStyle.length - 1).split(\",\").map(function (e) {\n                return Number(e);\n              }),\n                  s = o[0],\n                  a = o[1],\n                  c = o[2],\n                  l = o[3],\n                  h = Math.round(255 * l);\n\n              return {\n                rgba: n.channels.toRgba(s, a, c, h),\n                css: e\n              };\n            }\n\n            return {\n              css: this._ctx.fillStyle,\n              rgba: n.channels.toRgba(i[0], i[1], i[2], i[3])\n            };\n          }, e;\n        }();\n\n        t.ColorManager = u;\n      },\n      9631: (e, t) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.removeElementFromParent = void 0, t.removeElementFromParent = function () {\n          for (var e, t = [], r = 0; r < arguments.length; r++) t[r] = arguments[r];\n\n          for (var i = 0, n = t; i < n.length; i++) {\n            var o = n[i];\n            null === (e = null == o ? void 0 : o.parentElement) || void 0 === e || e.removeChild(o);\n          }\n        };\n      },\n      3656: (e, t) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.addDisposableDomListener = void 0, t.addDisposableDomListener = function (e, t, r, i) {\n          e.addEventListener(t, r, i);\n          var n = !1;\n          return {\n            dispose: function () {\n              n || (n = !0, e.removeEventListener(t, r, i));\n            }\n          };\n        };\n      },\n      3551: function (e, t, r) {\n        var i = this && this.__decorate || function (e, t, r, i) {\n          var n,\n              o = arguments.length,\n              s = o < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, r) : i;\n          if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.decorate) s = Reflect.decorate(e, t, r, i);else for (var a = e.length - 1; a >= 0; a--) (n = e[a]) && (s = (o < 3 ? n(s) : o > 3 ? n(t, r, s) : n(t, r)) || s);\n          return o > 3 && s && Object.defineProperty(t, r, s), s;\n        },\n            n = this && this.__param || function (e, t) {\n          return function (r, i) {\n            t(r, i, e);\n          };\n        };\n\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.MouseZone = t.Linkifier = void 0;\n\n        var o = r(8460),\n            s = r(2585),\n            a = function () {\n          function e(e, t, r) {\n            this._bufferService = e, this._logService = t, this._unicodeService = r, this._linkMatchers = [], this._nextLinkMatcherId = 0, this._onShowLinkUnderline = new o.EventEmitter(), this._onHideLinkUnderline = new o.EventEmitter(), this._onLinkTooltip = new o.EventEmitter(), this._rowsToLinkify = {\n              start: void 0,\n              end: void 0\n            };\n          }\n\n          return Object.defineProperty(e.prototype, \"onShowLinkUnderline\", {\n            get: function () {\n              return this._onShowLinkUnderline.event;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(e.prototype, \"onHideLinkUnderline\", {\n            get: function () {\n              return this._onHideLinkUnderline.event;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(e.prototype, \"onLinkTooltip\", {\n            get: function () {\n              return this._onLinkTooltip.event;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), e.prototype.attachToDom = function (e, t) {\n            this._element = e, this._mouseZoneManager = t;\n          }, e.prototype.linkifyRows = function (t, r) {\n            var i = this;\n            this._mouseZoneManager && (void 0 === this._rowsToLinkify.start || void 0 === this._rowsToLinkify.end ? (this._rowsToLinkify.start = t, this._rowsToLinkify.end = r) : (this._rowsToLinkify.start = Math.min(this._rowsToLinkify.start, t), this._rowsToLinkify.end = Math.max(this._rowsToLinkify.end, r)), this._mouseZoneManager.clearAll(t, r), this._rowsTimeoutId && clearTimeout(this._rowsTimeoutId), this._rowsTimeoutId = setTimeout(function () {\n              return i._linkifyRows();\n            }, e._timeBeforeLatency));\n          }, e.prototype._linkifyRows = function () {\n            this._rowsTimeoutId = void 0;\n            var e = this._bufferService.buffer;\n\n            if (void 0 !== this._rowsToLinkify.start && void 0 !== this._rowsToLinkify.end) {\n              var t = e.ydisp + this._rowsToLinkify.start;\n\n              if (!(t >= e.lines.length)) {\n                for (var r = e.ydisp + Math.min(this._rowsToLinkify.end, this._bufferService.rows) + 1, i = Math.ceil(2e3 / this._bufferService.cols), n = this._bufferService.buffer.iterator(!1, t, r, i, i); n.hasNext();) for (var o = n.next(), s = 0; s < this._linkMatchers.length; s++) this._doLinkifyRow(o.range.first, o.content, this._linkMatchers[s]);\n\n                this._rowsToLinkify.start = void 0, this._rowsToLinkify.end = void 0;\n              }\n            } else this._logService.debug(\"_rowToLinkify was unset before _linkifyRows was called\");\n          }, e.prototype.registerLinkMatcher = function (e, t, r) {\n            if (void 0 === r && (r = {}), !t) throw new Error(\"handler must be defined\");\n            var i = {\n              id: this._nextLinkMatcherId++,\n              regex: e,\n              handler: t,\n              matchIndex: r.matchIndex,\n              validationCallback: r.validationCallback,\n              hoverTooltipCallback: r.tooltipCallback,\n              hoverLeaveCallback: r.leaveCallback,\n              willLinkActivate: r.willLinkActivate,\n              priority: r.priority || 0\n            };\n            return this._addLinkMatcherToList(i), i.id;\n          }, e.prototype._addLinkMatcherToList = function (e) {\n            if (0 !== this._linkMatchers.length) {\n              for (var t = this._linkMatchers.length - 1; t >= 0; t--) if (e.priority <= this._linkMatchers[t].priority) return void this._linkMatchers.splice(t + 1, 0, e);\n\n              this._linkMatchers.splice(0, 0, e);\n            } else this._linkMatchers.push(e);\n          }, e.prototype.deregisterLinkMatcher = function (e) {\n            for (var t = 0; t < this._linkMatchers.length; t++) if (this._linkMatchers[t].id === e) return this._linkMatchers.splice(t, 1), !0;\n\n            return !1;\n          }, e.prototype._doLinkifyRow = function (e, t, r) {\n            for (var i, n = this, o = new RegExp(r.regex.source, (r.regex.flags || \"\") + \"g\"), s = -1, a = function () {\n              var a = i[\"number\" != typeof r.matchIndex ? 0 : r.matchIndex];\n              if (!a) return c._logService.debug(\"match found without corresponding matchIndex\", i, r), \"break\";\n              if (s = t.indexOf(a, s + 1), o.lastIndex = s + a.length, s < 0) return \"break\";\n\n              var l = c._bufferService.buffer.stringIndexToBufferIndex(e, s);\n\n              if (l[0] < 0) return \"break\";\n\n              var h = c._bufferService.buffer.lines.get(l[0]);\n\n              if (!h) return \"break\";\n              var u = h.getFg(l[1]),\n                  f = u ? u >> 9 & 511 : void 0;\n              r.validationCallback ? r.validationCallback(a, function (e) {\n                n._rowsTimeoutId || e && n._addLink(l[1], l[0] - n._bufferService.buffer.ydisp, a, r, f);\n              }) : c._addLink(l[1], l[0] - c._bufferService.buffer.ydisp, a, r, f);\n            }, c = this; null !== (i = o.exec(t)) && \"break\" !== a(););\n          }, e.prototype._addLink = function (e, t, r, i, n) {\n            var o = this;\n\n            if (this._mouseZoneManager && this._element) {\n              var s = this._unicodeService.getStringCellWidth(r),\n                  a = e % this._bufferService.cols,\n                  l = t + Math.floor(e / this._bufferService.cols),\n                  h = (a + s) % this._bufferService.cols,\n                  u = l + Math.floor((a + s) / this._bufferService.cols);\n\n              0 === h && (h = this._bufferService.cols, u--), this._mouseZoneManager.add(new c(a + 1, l + 1, h + 1, u + 1, function (e) {\n                if (i.handler) return i.handler(e, r);\n                var t = window.open();\n                t ? (t.opener = null, t.location.href = r) : console.warn(\"Opening link blocked as opener could not be cleared\");\n              }, function () {\n                o._onShowLinkUnderline.fire(o._createLinkHoverEvent(a, l, h, u, n)), o._element.classList.add(\"xterm-cursor-pointer\");\n              }, function (e) {\n                o._onLinkTooltip.fire(o._createLinkHoverEvent(a, l, h, u, n)), i.hoverTooltipCallback && i.hoverTooltipCallback(e, r, {\n                  start: {\n                    x: a,\n                    y: l\n                  },\n                  end: {\n                    x: h,\n                    y: u\n                  }\n                });\n              }, function () {\n                o._onHideLinkUnderline.fire(o._createLinkHoverEvent(a, l, h, u, n)), o._element.classList.remove(\"xterm-cursor-pointer\"), i.hoverLeaveCallback && i.hoverLeaveCallback();\n              }, function (e) {\n                return !i.willLinkActivate || i.willLinkActivate(e, r);\n              }));\n            }\n          }, e.prototype._createLinkHoverEvent = function (e, t, r, i, n) {\n            return {\n              x1: e,\n              y1: t,\n              x2: r,\n              y2: i,\n              cols: this._bufferService.cols,\n              fg: n\n            };\n          }, e._timeBeforeLatency = 200, e = i([n(0, s.IBufferService), n(1, s.ILogService), n(2, s.IUnicodeService)], e);\n        }();\n\n        t.Linkifier = a;\n\n        var c = function (e, t, r, i, n, o, s, a, c) {\n          this.x1 = e, this.y1 = t, this.x2 = r, this.y2 = i, this.clickCallback = n, this.hoverCallback = o, this.tooltipCallback = s, this.leaveCallback = a, this.willLinkActivate = c;\n        };\n\n        t.MouseZone = c;\n      },\n      6465: function (e, t, r) {\n        var i,\n            n = this && this.__extends || (i = function (e, t) {\n          return i = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (e, t) {\n            e.__proto__ = t;\n          } || function (e, t) {\n            for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);\n          }, i(e, t);\n        }, function (e, t) {\n          if (\"function\" != typeof t && null !== t) throw new TypeError(\"Class extends value \" + String(t) + \" is not a constructor or null\");\n\n          function r() {\n            this.constructor = e;\n          }\n\n          i(e, t), e.prototype = null === t ? Object.create(t) : (r.prototype = t.prototype, new r());\n        }),\n            o = this && this.__decorate || function (e, t, r, i) {\n          var n,\n              o = arguments.length,\n              s = o < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, r) : i;\n          if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.decorate) s = Reflect.decorate(e, t, r, i);else for (var a = e.length - 1; a >= 0; a--) (n = e[a]) && (s = (o < 3 ? n(s) : o > 3 ? n(t, r, s) : n(t, r)) || s);\n          return o > 3 && s && Object.defineProperty(t, r, s), s;\n        },\n            s = this && this.__param || function (e, t) {\n          return function (r, i) {\n            t(r, i, e);\n          };\n        };\n\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.Linkifier2 = void 0;\n\n        var a = r(2585),\n            c = r(8460),\n            l = r(844),\n            h = r(3656),\n            u = function (e) {\n          function t(t) {\n            var r = e.call(this) || this;\n            return r._bufferService = t, r._linkProviders = [], r._linkCacheDisposables = [], r._isMouseOut = !0, r._activeLine = -1, r._onShowLinkUnderline = r.register(new c.EventEmitter()), r._onHideLinkUnderline = r.register(new c.EventEmitter()), r.register((0, l.getDisposeArrayDisposable)(r._linkCacheDisposables)), r;\n          }\n\n          return n(t, e), Object.defineProperty(t.prototype, \"currentLink\", {\n            get: function () {\n              return this._currentLink;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(t.prototype, \"onShowLinkUnderline\", {\n            get: function () {\n              return this._onShowLinkUnderline.event;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(t.prototype, \"onHideLinkUnderline\", {\n            get: function () {\n              return this._onHideLinkUnderline.event;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), t.prototype.registerLinkProvider = function (e) {\n            var t = this;\n            return this._linkProviders.push(e), {\n              dispose: function () {\n                var r = t._linkProviders.indexOf(e);\n\n                -1 !== r && t._linkProviders.splice(r, 1);\n              }\n            };\n          }, t.prototype.attachToDom = function (e, t, r) {\n            var i = this;\n            this._element = e, this._mouseService = t, this._renderService = r, this.register((0, h.addDisposableDomListener)(this._element, \"mouseleave\", function () {\n              i._isMouseOut = !0, i._clearCurrentLink();\n            })), this.register((0, h.addDisposableDomListener)(this._element, \"mousemove\", this._onMouseMove.bind(this))), this.register((0, h.addDisposableDomListener)(this._element, \"click\", this._onClick.bind(this)));\n          }, t.prototype._onMouseMove = function (e) {\n            if (this._lastMouseEvent = e, this._element && this._mouseService) {\n              var t = this._positionFromMouseEvent(e, this._element, this._mouseService);\n\n              if (t) {\n                this._isMouseOut = !1;\n\n                for (var r = e.composedPath(), i = 0; i < r.length; i++) {\n                  var n = r[i];\n                  if (n.classList.contains(\"xterm\")) break;\n                  if (n.classList.contains(\"xterm-hover\")) return;\n                }\n\n                this._lastBufferCell && t.x === this._lastBufferCell.x && t.y === this._lastBufferCell.y || (this._onHover(t), this._lastBufferCell = t);\n              }\n            }\n          }, t.prototype._onHover = function (e) {\n            if (this._activeLine !== e.y) return this._clearCurrentLink(), void this._askForLink(e, !1);\n            this._currentLink && this._linkAtPosition(this._currentLink.link, e) || (this._clearCurrentLink(), this._askForLink(e, !0));\n          }, t.prototype._askForLink = function (e, t) {\n            var r,\n                i = this;\n            this._activeProviderReplies && t || (null === (r = this._activeProviderReplies) || void 0 === r || r.forEach(function (e) {\n              null == e || e.forEach(function (e) {\n                e.link.dispose && e.link.dispose();\n              });\n            }), this._activeProviderReplies = new Map(), this._activeLine = e.y);\n            var n = !1;\n\n            this._linkProviders.forEach(function (r, o) {\n              var s;\n              t ? (null === (s = i._activeProviderReplies) || void 0 === s ? void 0 : s.get(o)) && (n = i._checkLinkProviderResult(o, e, n)) : r.provideLinks(e.y, function (t) {\n                var r, s;\n\n                if (!i._isMouseOut) {\n                  var a = null == t ? void 0 : t.map(function (e) {\n                    return {\n                      link: e\n                    };\n                  });\n                  null === (r = i._activeProviderReplies) || void 0 === r || r.set(o, a), n = i._checkLinkProviderResult(o, e, n), (null === (s = i._activeProviderReplies) || void 0 === s ? void 0 : s.size) === i._linkProviders.length && i._removeIntersectingLinks(e.y, i._activeProviderReplies);\n                }\n              });\n            });\n          }, t.prototype._removeIntersectingLinks = function (e, t) {\n            for (var r = new Set(), i = 0; i < t.size; i++) {\n              var n = t.get(i);\n              if (n) for (var o = 0; o < n.length; o++) for (var s = n[o], a = s.link.range.start.y < e ? 0 : s.link.range.start.x, c = s.link.range.end.y > e ? this._bufferService.cols : s.link.range.end.x, l = a; l <= c; l++) {\n                if (r.has(l)) {\n                  n.splice(o--, 1);\n                  break;\n                }\n\n                r.add(l);\n              }\n            }\n          }, t.prototype._checkLinkProviderResult = function (e, t, r) {\n            var i,\n                n = this;\n            if (!this._activeProviderReplies) return r;\n\n            for (var o = this._activeProviderReplies.get(e), s = !1, a = 0; a < e; a++) this._activeProviderReplies.has(a) && !this._activeProviderReplies.get(a) || (s = !0);\n\n            if (!s && o) {\n              var c = o.find(function (e) {\n                return n._linkAtPosition(e.link, t);\n              });\n              c && (r = !0, this._handleNewLink(c));\n            }\n\n            if (this._activeProviderReplies.size === this._linkProviders.length && !r) for (a = 0; a < this._activeProviderReplies.size; a++) {\n              var l = null === (i = this._activeProviderReplies.get(a)) || void 0 === i ? void 0 : i.find(function (e) {\n                return n._linkAtPosition(e.link, t);\n              });\n\n              if (l) {\n                r = !0, this._handleNewLink(l);\n                break;\n              }\n            }\n            return r;\n          }, t.prototype._onClick = function (e) {\n            if (this._element && this._mouseService && this._currentLink) {\n              var t = this._positionFromMouseEvent(e, this._element, this._mouseService);\n\n              t && this._linkAtPosition(this._currentLink.link, t) && this._currentLink.link.activate(e, this._currentLink.link.text);\n            }\n          }, t.prototype._clearCurrentLink = function (e, t) {\n            this._element && this._currentLink && this._lastMouseEvent && (!e || !t || this._currentLink.link.range.start.y >= e && this._currentLink.link.range.end.y <= t) && (this._linkLeave(this._element, this._currentLink.link, this._lastMouseEvent), this._currentLink = void 0, (0, l.disposeArray)(this._linkCacheDisposables));\n          }, t.prototype._handleNewLink = function (e) {\n            var t = this;\n\n            if (this._element && this._lastMouseEvent && this._mouseService) {\n              var r = this._positionFromMouseEvent(this._lastMouseEvent, this._element, this._mouseService);\n\n              r && this._linkAtPosition(e.link, r) && (this._currentLink = e, this._currentLink.state = {\n                decorations: {\n                  underline: void 0 === e.link.decorations || e.link.decorations.underline,\n                  pointerCursor: void 0 === e.link.decorations || e.link.decorations.pointerCursor\n                },\n                isHovered: !0\n              }, this._linkHover(this._element, e.link, this._lastMouseEvent), e.link.decorations = {}, Object.defineProperties(e.link.decorations, {\n                pointerCursor: {\n                  get: function () {\n                    var e, r;\n                    return null === (r = null === (e = t._currentLink) || void 0 === e ? void 0 : e.state) || void 0 === r ? void 0 : r.decorations.pointerCursor;\n                  },\n                  set: function (e) {\n                    var r, i;\n                    (null === (r = t._currentLink) || void 0 === r ? void 0 : r.state) && t._currentLink.state.decorations.pointerCursor !== e && (t._currentLink.state.decorations.pointerCursor = e, t._currentLink.state.isHovered && (null === (i = t._element) || void 0 === i || i.classList.toggle(\"xterm-cursor-pointer\", e)));\n                  }\n                },\n                underline: {\n                  get: function () {\n                    var e, r;\n                    return null === (r = null === (e = t._currentLink) || void 0 === e ? void 0 : e.state) || void 0 === r ? void 0 : r.decorations.underline;\n                  },\n                  set: function (r) {\n                    var i, n, o;\n                    (null === (i = t._currentLink) || void 0 === i ? void 0 : i.state) && (null === (o = null === (n = t._currentLink) || void 0 === n ? void 0 : n.state) || void 0 === o ? void 0 : o.decorations.underline) !== r && (t._currentLink.state.decorations.underline = r, t._currentLink.state.isHovered && t._fireUnderlineEvent(e.link, r));\n                  }\n                }\n              }), this._renderService && this._linkCacheDisposables.push(this._renderService.onRenderedBufferChange(function (e) {\n                var r = 0 === e.start ? 0 : e.start + 1 + t._bufferService.buffer.ydisp;\n\n                t._clearCurrentLink(r, e.end + 1 + t._bufferService.buffer.ydisp);\n              })));\n            }\n          }, t.prototype._linkHover = function (e, t, r) {\n            var i;\n            (null === (i = this._currentLink) || void 0 === i ? void 0 : i.state) && (this._currentLink.state.isHovered = !0, this._currentLink.state.decorations.underline && this._fireUnderlineEvent(t, !0), this._currentLink.state.decorations.pointerCursor && e.classList.add(\"xterm-cursor-pointer\")), t.hover && t.hover(r, t.text);\n          }, t.prototype._fireUnderlineEvent = function (e, t) {\n            var r = e.range,\n                i = this._bufferService.buffer.ydisp,\n                n = this._createLinkUnderlineEvent(r.start.x - 1, r.start.y - i - 1, r.end.x, r.end.y - i - 1, void 0);\n\n            (t ? this._onShowLinkUnderline : this._onHideLinkUnderline).fire(n);\n          }, t.prototype._linkLeave = function (e, t, r) {\n            var i;\n            (null === (i = this._currentLink) || void 0 === i ? void 0 : i.state) && (this._currentLink.state.isHovered = !1, this._currentLink.state.decorations.underline && this._fireUnderlineEvent(t, !1), this._currentLink.state.decorations.pointerCursor && e.classList.remove(\"xterm-cursor-pointer\")), t.leave && t.leave(r, t.text);\n          }, t.prototype._linkAtPosition = function (e, t) {\n            var r = e.range.start.y === e.range.end.y,\n                i = e.range.start.y < t.y,\n                n = e.range.end.y > t.y;\n            return (r && e.range.start.x <= t.x && e.range.end.x >= t.x || i && e.range.end.x >= t.x || n && e.range.start.x <= t.x || i && n) && e.range.start.y <= t.y && e.range.end.y >= t.y;\n          }, t.prototype._positionFromMouseEvent = function (e, t, r) {\n            var i = r.getCoords(e, t, this._bufferService.cols, this._bufferService.rows);\n            if (i) return {\n              x: i[0],\n              y: i[1] + this._bufferService.buffer.ydisp\n            };\n          }, t.prototype._createLinkUnderlineEvent = function (e, t, r, i, n) {\n            return {\n              x1: e,\n              y1: t,\n              x2: r,\n              y2: i,\n              cols: this._bufferService.cols,\n              fg: n\n            };\n          }, o([s(0, a.IBufferService)], t);\n        }(l.Disposable);\n\n        t.Linkifier2 = u;\n      },\n      9042: (e, t) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.tooMuchOutput = t.promptLabel = void 0, t.promptLabel = \"Terminal input\", t.tooMuchOutput = \"Too much output to announce, navigate to rows manually to read\";\n      },\n      6954: function (e, t, r) {\n        var i,\n            n = this && this.__extends || (i = function (e, t) {\n          return i = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (e, t) {\n            e.__proto__ = t;\n          } || function (e, t) {\n            for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);\n          }, i(e, t);\n        }, function (e, t) {\n          if (\"function\" != typeof t && null !== t) throw new TypeError(\"Class extends value \" + String(t) + \" is not a constructor or null\");\n\n          function r() {\n            this.constructor = e;\n          }\n\n          i(e, t), e.prototype = null === t ? Object.create(t) : (r.prototype = t.prototype, new r());\n        }),\n            o = this && this.__decorate || function (e, t, r, i) {\n          var n,\n              o = arguments.length,\n              s = o < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, r) : i;\n          if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.decorate) s = Reflect.decorate(e, t, r, i);else for (var a = e.length - 1; a >= 0; a--) (n = e[a]) && (s = (o < 3 ? n(s) : o > 3 ? n(t, r, s) : n(t, r)) || s);\n          return o > 3 && s && Object.defineProperty(t, r, s), s;\n        },\n            s = this && this.__param || function (e, t) {\n          return function (r, i) {\n            t(r, i, e);\n          };\n        };\n\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.MouseZoneManager = void 0;\n\n        var a = r(844),\n            c = r(3656),\n            l = r(4725),\n            h = r(2585),\n            u = function (e) {\n          function t(t, r, i, n, o, s) {\n            var a = e.call(this) || this;\n            return a._element = t, a._screenElement = r, a._bufferService = i, a._mouseService = n, a._selectionService = o, a._optionsService = s, a._zones = [], a._areZonesActive = !1, a._lastHoverCoords = [void 0, void 0], a._initialSelectionLength = 0, a.register((0, c.addDisposableDomListener)(a._element, \"mousedown\", function (e) {\n              return a._onMouseDown(e);\n            })), a._mouseMoveListener = function (e) {\n              return a._onMouseMove(e);\n            }, a._mouseLeaveListener = function (e) {\n              return a._onMouseLeave(e);\n            }, a._clickListener = function (e) {\n              return a._onClick(e);\n            }, a;\n          }\n\n          return n(t, e), t.prototype.dispose = function () {\n            e.prototype.dispose.call(this), this._deactivate();\n          }, t.prototype.add = function (e) {\n            this._zones.push(e), 1 === this._zones.length && this._activate();\n          }, t.prototype.clearAll = function (e, t) {\n            if (0 !== this._zones.length) {\n              e && t || (e = 0, t = this._bufferService.rows - 1);\n\n              for (var r = 0; r < this._zones.length; r++) {\n                var i = this._zones[r];\n                (i.y1 > e && i.y1 <= t + 1 || i.y2 > e && i.y2 <= t + 1 || i.y1 < e && i.y2 > t + 1) && (this._currentZone && this._currentZone === i && (this._currentZone.leaveCallback(), this._currentZone = void 0), this._zones.splice(r--, 1));\n              }\n\n              0 === this._zones.length && this._deactivate();\n            }\n          }, t.prototype._activate = function () {\n            this._areZonesActive || (this._areZonesActive = !0, this._element.addEventListener(\"mousemove\", this._mouseMoveListener), this._element.addEventListener(\"mouseleave\", this._mouseLeaveListener), this._element.addEventListener(\"click\", this._clickListener));\n          }, t.prototype._deactivate = function () {\n            this._areZonesActive && (this._areZonesActive = !1, this._element.removeEventListener(\"mousemove\", this._mouseMoveListener), this._element.removeEventListener(\"mouseleave\", this._mouseLeaveListener), this._element.removeEventListener(\"click\", this._clickListener));\n          }, t.prototype._onMouseMove = function (e) {\n            this._lastHoverCoords[0] === e.pageX && this._lastHoverCoords[1] === e.pageY || (this._onHover(e), this._lastHoverCoords = [e.pageX, e.pageY]);\n          }, t.prototype._onHover = function (e) {\n            var t = this,\n                r = this._findZoneEventAt(e);\n\n            r !== this._currentZone && (this._currentZone && (this._currentZone.leaveCallback(), this._currentZone = void 0, this._tooltipTimeout && clearTimeout(this._tooltipTimeout)), r && (this._currentZone = r, r.hoverCallback && r.hoverCallback(e), this._tooltipTimeout = window.setTimeout(function () {\n              return t._onTooltip(e);\n            }, this._optionsService.rawOptions.linkTooltipHoverDuration)));\n          }, t.prototype._onTooltip = function (e) {\n            this._tooltipTimeout = void 0;\n\n            var t = this._findZoneEventAt(e);\n\n            null == t || t.tooltipCallback(e);\n          }, t.prototype._onMouseDown = function (e) {\n            if (this._initialSelectionLength = this._getSelectionLength(), this._areZonesActive) {\n              var t = this._findZoneEventAt(e);\n\n              (null == t ? void 0 : t.willLinkActivate(e)) && (e.preventDefault(), e.stopImmediatePropagation());\n            }\n          }, t.prototype._onMouseLeave = function (e) {\n            this._currentZone && (this._currentZone.leaveCallback(), this._currentZone = void 0, this._tooltipTimeout && clearTimeout(this._tooltipTimeout));\n          }, t.prototype._onClick = function (e) {\n            var t = this._findZoneEventAt(e),\n                r = this._getSelectionLength();\n\n            t && r === this._initialSelectionLength && (t.clickCallback(e), e.preventDefault(), e.stopImmediatePropagation());\n          }, t.prototype._getSelectionLength = function () {\n            var e = this._selectionService.selectionText;\n            return e ? e.length : 0;\n          }, t.prototype._findZoneEventAt = function (e) {\n            var t = this._mouseService.getCoords(e, this._screenElement, this._bufferService.cols, this._bufferService.rows);\n\n            if (t) for (var r = t[0], i = t[1], n = 0; n < this._zones.length; n++) {\n              var o = this._zones[n];\n\n              if (o.y1 === o.y2) {\n                if (i === o.y1 && r >= o.x1 && r < o.x2) return o;\n              } else if (i === o.y1 && r >= o.x1 || i === o.y2 && r < o.x2 || i > o.y1 && i < o.y2) return o;\n            }\n          }, o([s(2, h.IBufferService), s(3, l.IMouseService), s(4, l.ISelectionService), s(5, h.IOptionsService)], t);\n        }(a.Disposable);\n\n        t.MouseZoneManager = u;\n      },\n      6193: (e, t) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.RenderDebouncer = void 0;\n\n        var r = function () {\n          function e(e) {\n            this._renderCallback = e;\n          }\n\n          return e.prototype.dispose = function () {\n            this._animationFrame && (window.cancelAnimationFrame(this._animationFrame), this._animationFrame = void 0);\n          }, e.prototype.refresh = function (e, t, r) {\n            var i = this;\n            this._rowCount = r, e = void 0 !== e ? e : 0, t = void 0 !== t ? t : this._rowCount - 1, this._rowStart = void 0 !== this._rowStart ? Math.min(this._rowStart, e) : e, this._rowEnd = void 0 !== this._rowEnd ? Math.max(this._rowEnd, t) : t, this._animationFrame || (this._animationFrame = window.requestAnimationFrame(function () {\n              return i._innerRefresh();\n            }));\n          }, e.prototype._innerRefresh = function () {\n            if (void 0 !== this._rowStart && void 0 !== this._rowEnd && void 0 !== this._rowCount) {\n              var e = Math.max(this._rowStart, 0),\n                  t = Math.min(this._rowEnd, this._rowCount - 1);\n              this._rowStart = void 0, this._rowEnd = void 0, this._animationFrame = void 0, this._renderCallback(e, t);\n            }\n          }, e;\n        }();\n\n        t.RenderDebouncer = r;\n      },\n      5596: function (e, t, r) {\n        var i,\n            n = this && this.__extends || (i = function (e, t) {\n          return i = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (e, t) {\n            e.__proto__ = t;\n          } || function (e, t) {\n            for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);\n          }, i(e, t);\n        }, function (e, t) {\n          if (\"function\" != typeof t && null !== t) throw new TypeError(\"Class extends value \" + String(t) + \" is not a constructor or null\");\n\n          function r() {\n            this.constructor = e;\n          }\n\n          i(e, t), e.prototype = null === t ? Object.create(t) : (r.prototype = t.prototype, new r());\n        });\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.ScreenDprMonitor = void 0;\n\n        var o = function (e) {\n          function t() {\n            var t = null !== e && e.apply(this, arguments) || this;\n            return t._currentDevicePixelRatio = window.devicePixelRatio, t;\n          }\n\n          return n(t, e), t.prototype.setListener = function (e) {\n            var t = this;\n            this._listener && this.clearListener(), this._listener = e, this._outerListener = function () {\n              t._listener && (t._listener(window.devicePixelRatio, t._currentDevicePixelRatio), t._updateDpr());\n            }, this._updateDpr();\n          }, t.prototype.dispose = function () {\n            e.prototype.dispose.call(this), this.clearListener();\n          }, t.prototype._updateDpr = function () {\n            var e;\n            this._outerListener && (null === (e = this._resolutionMediaMatchList) || void 0 === e || e.removeListener(this._outerListener), this._currentDevicePixelRatio = window.devicePixelRatio, this._resolutionMediaMatchList = window.matchMedia(\"screen and (resolution: \" + window.devicePixelRatio + \"dppx)\"), this._resolutionMediaMatchList.addListener(this._outerListener));\n          }, t.prototype.clearListener = function () {\n            this._resolutionMediaMatchList && this._listener && this._outerListener && (this._resolutionMediaMatchList.removeListener(this._outerListener), this._resolutionMediaMatchList = void 0, this._listener = void 0, this._outerListener = void 0);\n          }, t;\n        }(r(844).Disposable);\n\n        t.ScreenDprMonitor = o;\n      },\n      3236: function (e, t, r) {\n        var i,\n            n = this && this.__extends || (i = function (e, t) {\n          return i = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (e, t) {\n            e.__proto__ = t;\n          } || function (e, t) {\n            for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);\n          }, i(e, t);\n        }, function (e, t) {\n          if (\"function\" != typeof t && null !== t) throw new TypeError(\"Class extends value \" + String(t) + \" is not a constructor or null\");\n\n          function r() {\n            this.constructor = e;\n          }\n\n          i(e, t), e.prototype = null === t ? Object.create(t) : (r.prototype = t.prototype, new r());\n        });\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.Terminal = void 0;\n\n        var o = r(2950),\n            s = r(1680),\n            a = r(3614),\n            c = r(2584),\n            l = r(5435),\n            h = r(3525),\n            u = r(3551),\n            f = r(9312),\n            _ = r(6114),\n            d = r(3656),\n            p = r(9042),\n            v = r(357),\n            g = r(6954),\n            y = r(4567),\n            m = r(1296),\n            S = r(7399),\n            C = r(8460),\n            b = r(8437),\n            w = r(5680),\n            L = r(3230),\n            E = r(4725),\n            x = r(428),\n            M = r(8934),\n            k = r(6465),\n            A = r(5114),\n            R = r(8969),\n            O = r(4774),\n            T = r(4269),\n            B = r(5941),\n            D = \"undefined\" != typeof window ? window.document : null,\n            P = function (e) {\n          function t(t) {\n            void 0 === t && (t = {});\n            var r = e.call(this, t) || this;\n            return r.browser = _, r._keyDownHandled = !1, r._keyPressHandled = !1, r._unprocessedDeadKey = !1, r._onCursorMove = new C.EventEmitter(), r._onKey = new C.EventEmitter(), r._onRender = new C.EventEmitter(), r._onSelectionChange = new C.EventEmitter(), r._onTitleChange = new C.EventEmitter(), r._onBell = new C.EventEmitter(), r._onFocus = new C.EventEmitter(), r._onBlur = new C.EventEmitter(), r._onA11yCharEmitter = new C.EventEmitter(), r._onA11yTabEmitter = new C.EventEmitter(), r._setup(), r.linkifier = r._instantiationService.createInstance(u.Linkifier), r.linkifier2 = r.register(r._instantiationService.createInstance(k.Linkifier2)), r.register(r._inputHandler.onRequestBell(function () {\n              return r.bell();\n            })), r.register(r._inputHandler.onRequestRefreshRows(function (e, t) {\n              return r.refresh(e, t);\n            })), r.register(r._inputHandler.onRequestSendFocus(function () {\n              return r._reportFocus();\n            })), r.register(r._inputHandler.onRequestReset(function () {\n              return r.reset();\n            })), r.register(r._inputHandler.onRequestWindowsOptionsReport(function (e) {\n              return r._reportWindowsOptions(e);\n            })), r.register(r._inputHandler.onColor(function (e) {\n              return r._handleColorEvent(e);\n            })), r.register((0, C.forwardEvent)(r._inputHandler.onCursorMove, r._onCursorMove)), r.register((0, C.forwardEvent)(r._inputHandler.onTitleChange, r._onTitleChange)), r.register((0, C.forwardEvent)(r._inputHandler.onA11yChar, r._onA11yCharEmitter)), r.register((0, C.forwardEvent)(r._inputHandler.onA11yTab, r._onA11yTabEmitter)), r.register(r._bufferService.onResize(function (e) {\n              return r._afterResize(e.cols, e.rows);\n            })), r;\n          }\n\n          return n(t, e), Object.defineProperty(t.prototype, \"onCursorMove\", {\n            get: function () {\n              return this._onCursorMove.event;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(t.prototype, \"onKey\", {\n            get: function () {\n              return this._onKey.event;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(t.prototype, \"onRender\", {\n            get: function () {\n              return this._onRender.event;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(t.prototype, \"onSelectionChange\", {\n            get: function () {\n              return this._onSelectionChange.event;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(t.prototype, \"onTitleChange\", {\n            get: function () {\n              return this._onTitleChange.event;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(t.prototype, \"onBell\", {\n            get: function () {\n              return this._onBell.event;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(t.prototype, \"onFocus\", {\n            get: function () {\n              return this._onFocus.event;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(t.prototype, \"onBlur\", {\n            get: function () {\n              return this._onBlur.event;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(t.prototype, \"onA11yChar\", {\n            get: function () {\n              return this._onA11yCharEmitter.event;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(t.prototype, \"onA11yTab\", {\n            get: function () {\n              return this._onA11yTabEmitter.event;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), t.prototype._handleColorEvent = function (e) {\n            var t, r;\n\n            if (this._colorManager) {\n              for (var i = 0, n = e; i < n.length; i++) {\n                var o = n[i],\n                    s = void 0,\n                    a = \"\";\n\n                switch (o.index) {\n                  case 256:\n                    s = \"foreground\", a = \"10\";\n                    break;\n\n                  case 257:\n                    s = \"background\", a = \"11\";\n                    break;\n\n                  case 258:\n                    s = \"cursor\", a = \"12\";\n                    break;\n\n                  default:\n                    s = \"ansi\", a = \"4;\" + o.index;\n                }\n\n                if (s) switch (o.type) {\n                  case 0:\n                    var l = O.color.toColorRGB(\"ansi\" === s ? this._colorManager.colors.ansi[o.index] : this._colorManager.colors[s]);\n                    this.coreService.triggerDataEvent(c.C0.ESC + \"]\" + a + \";\" + (0, B.toRgbString)(l) + c.C0.BEL);\n                    break;\n\n                  case 1:\n                    \"ansi\" === s ? this._colorManager.colors.ansi[o.index] = O.rgba.toColor.apply(O.rgba, o.color) : this._colorManager.colors[s] = O.rgba.toColor.apply(O.rgba, o.color);\n                    break;\n\n                  case 2:\n                    this._colorManager.restoreColor(o.index);\n\n                }\n              }\n\n              null === (t = this._renderService) || void 0 === t || t.setColors(this._colorManager.colors), null === (r = this.viewport) || void 0 === r || r.onThemeChange(this._colorManager.colors);\n            }\n          }, t.prototype.dispose = function () {\n            var t, r, i;\n            this._isDisposed || (e.prototype.dispose.call(this), null === (t = this._renderService) || void 0 === t || t.dispose(), this._customKeyEventHandler = void 0, this.write = function () {}, null === (i = null === (r = this.element) || void 0 === r ? void 0 : r.parentNode) || void 0 === i || i.removeChild(this.element));\n          }, t.prototype._setup = function () {\n            e.prototype._setup.call(this), this._customKeyEventHandler = void 0;\n          }, Object.defineProperty(t.prototype, \"buffer\", {\n            get: function () {\n              return this.buffers.active;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), t.prototype.focus = function () {\n            this.textarea && this.textarea.focus({\n              preventScroll: !0\n            });\n          }, t.prototype._updateOptions = function (t) {\n            var r, i, n, o;\n\n            switch (e.prototype._updateOptions.call(this, t), t) {\n              case \"fontFamily\":\n              case \"fontSize\":\n                null === (r = this._renderService) || void 0 === r || r.clear(), null === (i = this._charSizeService) || void 0 === i || i.measure();\n                break;\n\n              case \"cursorBlink\":\n              case \"cursorStyle\":\n                this.refresh(this.buffer.y, this.buffer.y);\n                break;\n\n              case \"customGlyphs\":\n              case \"drawBoldTextInBrightColors\":\n              case \"letterSpacing\":\n              case \"lineHeight\":\n              case \"fontWeight\":\n              case \"fontWeightBold\":\n              case \"minimumContrastRatio\":\n                this._renderService && (this._renderService.clear(), this._renderService.onResize(this.cols, this.rows), this.refresh(0, this.rows - 1));\n                break;\n\n              case \"rendererType\":\n                this._renderService && (this._renderService.setRenderer(this._createRenderer()), this._renderService.onResize(this.cols, this.rows));\n                break;\n\n              case \"scrollback\":\n                null === (n = this.viewport) || void 0 === n || n.syncScrollArea();\n                break;\n\n              case \"screenReaderMode\":\n                this.optionsService.rawOptions.screenReaderMode ? !this._accessibilityManager && this._renderService && (this._accessibilityManager = new y.AccessibilityManager(this, this._renderService)) : (null === (o = this._accessibilityManager) || void 0 === o || o.dispose(), this._accessibilityManager = void 0);\n                break;\n\n              case \"tabStopWidth\":\n                this.buffers.setupTabStops();\n                break;\n\n              case \"theme\":\n                this._setTheme(this.optionsService.rawOptions.theme);\n\n            }\n          }, t.prototype._onTextAreaFocus = function (e) {\n            this.coreService.decPrivateModes.sendFocus && this.coreService.triggerDataEvent(c.C0.ESC + \"[I\"), this.updateCursorStyle(e), this.element.classList.add(\"focus\"), this._showCursor(), this._onFocus.fire();\n          }, t.prototype.blur = function () {\n            var e;\n            return null === (e = this.textarea) || void 0 === e ? void 0 : e.blur();\n          }, t.prototype._onTextAreaBlur = function () {\n            this.textarea.value = \"\", this.refresh(this.buffer.y, this.buffer.y), this.coreService.decPrivateModes.sendFocus && this.coreService.triggerDataEvent(c.C0.ESC + \"[O\"), this.element.classList.remove(\"focus\"), this._onBlur.fire();\n          }, t.prototype._syncTextArea = function () {\n            if (this.textarea && this.buffer.isCursorInViewport && !this._compositionHelper.isComposing && this._renderService) {\n              var e = this.buffer.ybase + this.buffer.y,\n                  t = this.buffer.lines.get(e);\n\n              if (t) {\n                var r = Math.min(this.buffer.x, this.cols - 1),\n                    i = this._renderService.dimensions.actualCellHeight,\n                    n = t.getWidth(r),\n                    o = this._renderService.dimensions.actualCellWidth * n,\n                    s = this.buffer.y * this._renderService.dimensions.actualCellHeight,\n                    a = r * this._renderService.dimensions.actualCellWidth;\n                this.textarea.style.left = a + \"px\", this.textarea.style.top = s + \"px\", this.textarea.style.width = o + \"px\", this.textarea.style.height = i + \"px\", this.textarea.style.lineHeight = i + \"px\", this.textarea.style.zIndex = \"-5\";\n              }\n            }\n          }, t.prototype._initGlobal = function () {\n            var e = this;\n            this._bindKeys(), this.register((0, d.addDisposableDomListener)(this.element, \"copy\", function (t) {\n              e.hasSelection() && (0, a.copyHandler)(t, e._selectionService);\n            }));\n\n            var t = function (t) {\n              return (0, a.handlePasteEvent)(t, e.textarea, e.coreService);\n            };\n\n            this.register((0, d.addDisposableDomListener)(this.textarea, \"paste\", t)), this.register((0, d.addDisposableDomListener)(this.element, \"paste\", t)), _.isFirefox ? this.register((0, d.addDisposableDomListener)(this.element, \"mousedown\", function (t) {\n              2 === t.button && (0, a.rightClickHandler)(t, e.textarea, e.screenElement, e._selectionService, e.options.rightClickSelectsWord);\n            })) : this.register((0, d.addDisposableDomListener)(this.element, \"contextmenu\", function (t) {\n              (0, a.rightClickHandler)(t, e.textarea, e.screenElement, e._selectionService, e.options.rightClickSelectsWord);\n            })), _.isLinux && this.register((0, d.addDisposableDomListener)(this.element, \"auxclick\", function (t) {\n              1 === t.button && (0, a.moveTextAreaUnderMouseCursor)(t, e.textarea, e.screenElement);\n            }));\n          }, t.prototype._bindKeys = function () {\n            var e = this;\n            this.register((0, d.addDisposableDomListener)(this.textarea, \"keyup\", function (t) {\n              return e._keyUp(t);\n            }, !0)), this.register((0, d.addDisposableDomListener)(this.textarea, \"keydown\", function (t) {\n              return e._keyDown(t);\n            }, !0)), this.register((0, d.addDisposableDomListener)(this.textarea, \"keypress\", function (t) {\n              return e._keyPress(t);\n            }, !0)), this.register((0, d.addDisposableDomListener)(this.textarea, \"compositionstart\", function () {\n              return e._compositionHelper.compositionstart();\n            })), this.register((0, d.addDisposableDomListener)(this.textarea, \"compositionupdate\", function (t) {\n              return e._compositionHelper.compositionupdate(t);\n            })), this.register((0, d.addDisposableDomListener)(this.textarea, \"compositionend\", function () {\n              return e._compositionHelper.compositionend();\n            })), this.register((0, d.addDisposableDomListener)(this.textarea, \"input\", function (t) {\n              return e._inputEvent(t);\n            }, !0)), this.register(this.onRender(function () {\n              return e._compositionHelper.updateCompositionElements();\n            })), this.register(this.onRender(function (t) {\n              return e._queueLinkification(t.start, t.end);\n            }));\n          }, t.prototype.open = function (e) {\n            var t = this;\n            if (!e) throw new Error(\"Terminal requires a parent element.\");\n            e.isConnected || this._logService.debug(\"Terminal.open was called on an element that was not attached to the DOM\"), this._document = e.ownerDocument, this.element = this._document.createElement(\"div\"), this.element.dir = \"ltr\", this.element.classList.add(\"terminal\"), this.element.classList.add(\"xterm\"), this.element.setAttribute(\"tabindex\", \"0\"), e.appendChild(this.element);\n            var r = D.createDocumentFragment();\n            this._viewportElement = D.createElement(\"div\"), this._viewportElement.classList.add(\"xterm-viewport\"), r.appendChild(this._viewportElement), this._viewportScrollArea = D.createElement(\"div\"), this._viewportScrollArea.classList.add(\"xterm-scroll-area\"), this._viewportElement.appendChild(this._viewportScrollArea), this.screenElement = D.createElement(\"div\"), this.screenElement.classList.add(\"xterm-screen\"), this._helperContainer = D.createElement(\"div\"), this._helperContainer.classList.add(\"xterm-helpers\"), this.screenElement.appendChild(this._helperContainer), r.appendChild(this.screenElement), this.textarea = D.createElement(\"textarea\"), this.textarea.classList.add(\"xterm-helper-textarea\"), this.textarea.setAttribute(\"aria-label\", p.promptLabel), this.textarea.setAttribute(\"aria-multiline\", \"false\"), this.textarea.setAttribute(\"autocorrect\", \"off\"), this.textarea.setAttribute(\"autocapitalize\", \"off\"), this.textarea.setAttribute(\"spellcheck\", \"false\"), this.textarea.tabIndex = 0, this.register((0, d.addDisposableDomListener)(this.textarea, \"focus\", function (e) {\n              return t._onTextAreaFocus(e);\n            })), this.register((0, d.addDisposableDomListener)(this.textarea, \"blur\", function () {\n              return t._onTextAreaBlur();\n            })), this._helperContainer.appendChild(this.textarea);\n\n            var i = this._instantiationService.createInstance(A.CoreBrowserService, this.textarea);\n\n            this._instantiationService.setService(E.ICoreBrowserService, i), this._charSizeService = this._instantiationService.createInstance(x.CharSizeService, this._document, this._helperContainer), this._instantiationService.setService(E.ICharSizeService, this._charSizeService), this._theme = this.options.theme || this._theme, this._colorManager = new w.ColorManager(D, this.options.allowTransparency), this.register(this.optionsService.onOptionChange(function (e) {\n              return t._colorManager.onOptionsChange(e);\n            })), this._colorManager.setTheme(this._theme), this._characterJoinerService = this._instantiationService.createInstance(T.CharacterJoinerService), this._instantiationService.setService(E.ICharacterJoinerService, this._characterJoinerService);\n\n            var n = this._createRenderer();\n\n            this._renderService = this.register(this._instantiationService.createInstance(L.RenderService, n, this.rows, this.screenElement)), this._instantiationService.setService(E.IRenderService, this._renderService), this.register(this._renderService.onRenderedBufferChange(function (e) {\n              return t._onRender.fire(e);\n            })), this.onResize(function (e) {\n              return t._renderService.resize(e.cols, e.rows);\n            }), this._compositionView = D.createElement(\"div\"), this._compositionView.classList.add(\"composition-view\"), this._compositionHelper = this._instantiationService.createInstance(o.CompositionHelper, this.textarea, this._compositionView), this._helperContainer.appendChild(this._compositionView), this.element.appendChild(r), this._soundService = this._instantiationService.createInstance(v.SoundService), this._instantiationService.setService(E.ISoundService, this._soundService), this._mouseService = this._instantiationService.createInstance(M.MouseService), this._instantiationService.setService(E.IMouseService, this._mouseService), this.viewport = this._instantiationService.createInstance(s.Viewport, function (e) {\n              return t.scrollLines(e, !0, 1);\n            }, this._viewportElement, this._viewportScrollArea, this.element), this.viewport.onThemeChange(this._colorManager.colors), this.register(this._inputHandler.onRequestSyncScrollBar(function () {\n              return t.viewport.syncScrollArea();\n            })), this.register(this.viewport), this.register(this.onCursorMove(function () {\n              t._renderService.onCursorMove(), t._syncTextArea();\n            })), this.register(this.onResize(function () {\n              return t._renderService.onResize(t.cols, t.rows);\n            })), this.register(this.onBlur(function () {\n              return t._renderService.onBlur();\n            })), this.register(this.onFocus(function () {\n              return t._renderService.onFocus();\n            })), this.register(this._renderService.onDimensionsChange(function () {\n              return t.viewport.syncScrollArea();\n            })), this._selectionService = this.register(this._instantiationService.createInstance(f.SelectionService, this.element, this.screenElement, this.linkifier2)), this._instantiationService.setService(E.ISelectionService, this._selectionService), this.register(this._selectionService.onRequestScrollLines(function (e) {\n              return t.scrollLines(e.amount, e.suppressScrollEvent);\n            })), this.register(this._selectionService.onSelectionChange(function () {\n              return t._onSelectionChange.fire();\n            })), this.register(this._selectionService.onRequestRedraw(function (e) {\n              return t._renderService.onSelectionChanged(e.start, e.end, e.columnSelectMode);\n            })), this.register(this._selectionService.onLinuxMouseSelection(function (e) {\n              t.textarea.value = e, t.textarea.focus(), t.textarea.select();\n            })), this.register(this._onScroll.event(function (e) {\n              t.viewport.syncScrollArea(), t._selectionService.refresh();\n            })), this.register((0, d.addDisposableDomListener)(this._viewportElement, \"scroll\", function () {\n              return t._selectionService.refresh();\n            })), this._mouseZoneManager = this._instantiationService.createInstance(g.MouseZoneManager, this.element, this.screenElement), this.register(this._mouseZoneManager), this.register(this.onScroll(function () {\n              return t._mouseZoneManager.clearAll();\n            })), this.linkifier.attachToDom(this.element, this._mouseZoneManager), this.linkifier2.attachToDom(this.screenElement, this._mouseService, this._renderService), this.register((0, d.addDisposableDomListener)(this.element, \"mousedown\", function (e) {\n              return t._selectionService.onMouseDown(e);\n            })), this.coreMouseService.areMouseEventsActive ? (this._selectionService.disable(), this.element.classList.add(\"enable-mouse-events\")) : this._selectionService.enable(), this.options.screenReaderMode && (this._accessibilityManager = new y.AccessibilityManager(this, this._renderService)), this._charSizeService.measure(), this.refresh(0, this.rows - 1), this._initGlobal(), this.bindMouse();\n          }, t.prototype._createRenderer = function () {\n            switch (this.options.rendererType) {\n              case \"canvas\":\n                return this._instantiationService.createInstance(h.Renderer, this._colorManager.colors, this.screenElement, this.linkifier, this.linkifier2);\n\n              case \"dom\":\n                return this._instantiationService.createInstance(m.DomRenderer, this._colorManager.colors, this.element, this.screenElement, this._viewportElement, this.linkifier, this.linkifier2);\n\n              default:\n                throw new Error('Unrecognized rendererType \"' + this.options.rendererType + '\"');\n            }\n          }, t.prototype._setTheme = function (e) {\n            var t, r, i;\n            this._theme = e, null === (t = this._colorManager) || void 0 === t || t.setTheme(e), null === (r = this._renderService) || void 0 === r || r.setColors(this._colorManager.colors), null === (i = this.viewport) || void 0 === i || i.onThemeChange(this._colorManager.colors);\n          }, t.prototype.bindMouse = function () {\n            var e = this,\n                t = this,\n                r = this.element;\n\n            function i(e) {\n              var r,\n                  i,\n                  n = t._mouseService.getRawByteCoords(e, t.screenElement, t.cols, t.rows);\n\n              if (!n) return !1;\n\n              switch (e.overrideType || e.type) {\n                case \"mousemove\":\n                  i = 32, void 0 === e.buttons ? (r = 3, void 0 !== e.button && (r = e.button < 3 ? e.button : 3)) : r = 1 & e.buttons ? 0 : 4 & e.buttons ? 1 : 2 & e.buttons ? 2 : 3;\n                  break;\n\n                case \"mouseup\":\n                  i = 0, r = e.button < 3 ? e.button : 3;\n                  break;\n\n                case \"mousedown\":\n                  i = 1, r = e.button < 3 ? e.button : 3;\n                  break;\n\n                case \"wheel\":\n                  0 !== e.deltaY && (i = e.deltaY < 0 ? 0 : 1), r = 4;\n                  break;\n\n                default:\n                  return !1;\n              }\n\n              return !(void 0 === i || void 0 === r || r > 4) && t.coreMouseService.triggerMouseEvent({\n                col: n.x - 33,\n                row: n.y - 33,\n                button: r,\n                action: i,\n                ctrl: e.ctrlKey,\n                alt: e.altKey,\n                shift: e.shiftKey\n              });\n            }\n\n            var n = {\n              mouseup: null,\n              wheel: null,\n              mousedrag: null,\n              mousemove: null\n            },\n                o = function (t) {\n              return i(t), t.buttons || (e._document.removeEventListener(\"mouseup\", n.mouseup), n.mousedrag && e._document.removeEventListener(\"mousemove\", n.mousedrag)), e.cancel(t);\n            },\n                s = function (t) {\n              return i(t), e.cancel(t, !0);\n            },\n                a = function (e) {\n              e.buttons && i(e);\n            },\n                l = function (e) {\n              e.buttons || i(e);\n            };\n\n            this.register(this.coreMouseService.onProtocolChange(function (t) {\n              t ? (\"debug\" === e.optionsService.rawOptions.logLevel && e._logService.debug(\"Binding to mouse events:\", e.coreMouseService.explainEvents(t)), e.element.classList.add(\"enable-mouse-events\"), e._selectionService.disable()) : (e._logService.debug(\"Unbinding from mouse events.\"), e.element.classList.remove(\"enable-mouse-events\"), e._selectionService.enable()), 8 & t ? n.mousemove || (r.addEventListener(\"mousemove\", l), n.mousemove = l) : (r.removeEventListener(\"mousemove\", n.mousemove), n.mousemove = null), 16 & t ? n.wheel || (r.addEventListener(\"wheel\", s, {\n                passive: !1\n              }), n.wheel = s) : (r.removeEventListener(\"wheel\", n.wheel), n.wheel = null), 2 & t ? n.mouseup || (n.mouseup = o) : (e._document.removeEventListener(\"mouseup\", n.mouseup), n.mouseup = null), 4 & t ? n.mousedrag || (n.mousedrag = a) : (e._document.removeEventListener(\"mousemove\", n.mousedrag), n.mousedrag = null);\n            })), this.coreMouseService.activeProtocol = this.coreMouseService.activeProtocol, this.register((0, d.addDisposableDomListener)(r, \"mousedown\", function (t) {\n              if (t.preventDefault(), e.focus(), e.coreMouseService.areMouseEventsActive && !e._selectionService.shouldForceSelection(t)) return i(t), n.mouseup && e._document.addEventListener(\"mouseup\", n.mouseup), n.mousedrag && e._document.addEventListener(\"mousemove\", n.mousedrag), e.cancel(t);\n            })), this.register((0, d.addDisposableDomListener)(r, \"wheel\", function (t) {\n              if (!n.wheel) {\n                if (!e.buffer.hasScrollback) {\n                  var r = e.viewport.getLinesScrolled(t);\n                  if (0 === r) return;\n\n                  for (var i = c.C0.ESC + (e.coreService.decPrivateModes.applicationCursorKeys ? \"O\" : \"[\") + (t.deltaY < 0 ? \"A\" : \"B\"), o = \"\", s = 0; s < Math.abs(r); s++) o += i;\n\n                  return e.coreService.triggerDataEvent(o, !0), e.cancel(t, !0);\n                }\n\n                return e.viewport.onWheel(t) ? e.cancel(t) : void 0;\n              }\n            }, {\n              passive: !1\n            })), this.register((0, d.addDisposableDomListener)(r, \"touchstart\", function (t) {\n              if (!e.coreMouseService.areMouseEventsActive) return e.viewport.onTouchStart(t), e.cancel(t);\n            }, {\n              passive: !0\n            })), this.register((0, d.addDisposableDomListener)(r, \"touchmove\", function (t) {\n              if (!e.coreMouseService.areMouseEventsActive) return e.viewport.onTouchMove(t) ? void 0 : e.cancel(t);\n            }, {\n              passive: !1\n            }));\n          }, t.prototype.refresh = function (e, t) {\n            var r;\n            null === (r = this._renderService) || void 0 === r || r.refreshRows(e, t);\n          }, t.prototype._queueLinkification = function (e, t) {\n            var r;\n            null === (r = this.linkifier) || void 0 === r || r.linkifyRows(e, t);\n          }, t.prototype.updateCursorStyle = function (e) {\n            var t;\n            (null === (t = this._selectionService) || void 0 === t ? void 0 : t.shouldColumnSelect(e)) ? this.element.classList.add(\"column-select\") : this.element.classList.remove(\"column-select\");\n          }, t.prototype._showCursor = function () {\n            this.coreService.isCursorInitialized || (this.coreService.isCursorInitialized = !0, this.refresh(this.buffer.y, this.buffer.y));\n          }, t.prototype.scrollLines = function (t, r, i) {\n            void 0 === i && (i = 0), e.prototype.scrollLines.call(this, t, r, i), this.refresh(0, this.rows - 1);\n          }, t.prototype.paste = function (e) {\n            (0, a.paste)(e, this.textarea, this.coreService);\n          }, t.prototype.attachCustomKeyEventHandler = function (e) {\n            this._customKeyEventHandler = e;\n          }, t.prototype.registerLinkMatcher = function (e, t, r) {\n            var i = this.linkifier.registerLinkMatcher(e, t, r);\n            return this.refresh(0, this.rows - 1), i;\n          }, t.prototype.deregisterLinkMatcher = function (e) {\n            this.linkifier.deregisterLinkMatcher(e) && this.refresh(0, this.rows - 1);\n          }, t.prototype.registerLinkProvider = function (e) {\n            return this.linkifier2.registerLinkProvider(e);\n          }, t.prototype.registerCharacterJoiner = function (e) {\n            if (!this._characterJoinerService) throw new Error(\"Terminal must be opened first\");\n\n            var t = this._characterJoinerService.register(e);\n\n            return this.refresh(0, this.rows - 1), t;\n          }, t.prototype.deregisterCharacterJoiner = function (e) {\n            if (!this._characterJoinerService) throw new Error(\"Terminal must be opened first\");\n            this._characterJoinerService.deregister(e) && this.refresh(0, this.rows - 1);\n          }, Object.defineProperty(t.prototype, \"markers\", {\n            get: function () {\n              return this.buffer.markers;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), t.prototype.addMarker = function (e) {\n            if (this.buffer === this.buffers.normal) return this.buffer.addMarker(this.buffer.ybase + this.buffer.y + e);\n          }, t.prototype.hasSelection = function () {\n            return !!this._selectionService && this._selectionService.hasSelection;\n          }, t.prototype.select = function (e, t, r) {\n            this._selectionService.setSelection(e, t, r);\n          }, t.prototype.getSelection = function () {\n            return this._selectionService ? this._selectionService.selectionText : \"\";\n          }, t.prototype.getSelectionPosition = function () {\n            if (this._selectionService && this._selectionService.hasSelection) return {\n              startColumn: this._selectionService.selectionStart[0],\n              startRow: this._selectionService.selectionStart[1],\n              endColumn: this._selectionService.selectionEnd[0],\n              endRow: this._selectionService.selectionEnd[1]\n            };\n          }, t.prototype.clearSelection = function () {\n            var e;\n            null === (e = this._selectionService) || void 0 === e || e.clearSelection();\n          }, t.prototype.selectAll = function () {\n            var e;\n            null === (e = this._selectionService) || void 0 === e || e.selectAll();\n          }, t.prototype.selectLines = function (e, t) {\n            var r;\n            null === (r = this._selectionService) || void 0 === r || r.selectLines(e, t);\n          }, t.prototype._keyDown = function (e) {\n            if (this._keyDownHandled = !1, this._customKeyEventHandler && !1 === this._customKeyEventHandler(e)) return !1;\n            if (!this._compositionHelper.keydown(e)) return this.buffer.ybase !== this.buffer.ydisp && this._bufferService.scrollToBottom(), !1;\n            \"Dead\" !== e.key && \"AltGraph\" !== e.key || (this._unprocessedDeadKey = !0);\n            var t = (0, S.evaluateKeyboardEvent)(e, this.coreService.decPrivateModes.applicationCursorKeys, this.browser.isMac, this.options.macOptionIsMeta);\n\n            if (this.updateCursorStyle(e), 3 === t.type || 2 === t.type) {\n              var r = this.rows - 1;\n              return this.scrollLines(2 === t.type ? -r : r), this.cancel(e, !0);\n            }\n\n            return 1 === t.type && this.selectAll(), !!this._isThirdLevelShift(this.browser, e) || (t.cancel && this.cancel(e, !0), !t.key || (this._unprocessedDeadKey ? (this._unprocessedDeadKey = !1, !0) : (t.key !== c.C0.ETX && t.key !== c.C0.CR || (this.textarea.value = \"\"), this._onKey.fire({\n              key: t.key,\n              domEvent: e\n            }), this._showCursor(), this.coreService.triggerDataEvent(t.key, !0), this.optionsService.rawOptions.screenReaderMode ? void (this._keyDownHandled = !0) : this.cancel(e, !0))));\n          }, t.prototype._isThirdLevelShift = function (e, t) {\n            var r = e.isMac && !this.options.macOptionIsMeta && t.altKey && !t.ctrlKey && !t.metaKey || e.isWindows && t.altKey && t.ctrlKey && !t.metaKey || e.isWindows && t.getModifierState(\"AltGraph\");\n            return \"keypress\" === t.type ? r : r && (!t.keyCode || t.keyCode > 47);\n          }, t.prototype._keyUp = function (e) {\n            this._customKeyEventHandler && !1 === this._customKeyEventHandler(e) || (function (e) {\n              return 16 === e.keyCode || 17 === e.keyCode || 18 === e.keyCode;\n            }(e) || this.focus(), this.updateCursorStyle(e), this._keyPressHandled = !1);\n          }, t.prototype._keyPress = function (e) {\n            var t;\n            if (this._keyPressHandled = !1, this._keyDownHandled) return !1;\n            if (this._customKeyEventHandler && !1 === this._customKeyEventHandler(e)) return !1;\n            if (this.cancel(e), e.charCode) t = e.charCode;else if (null === e.which || void 0 === e.which) t = e.keyCode;else {\n              if (0 === e.which || 0 === e.charCode) return !1;\n              t = e.which;\n            }\n            return !(!t || (e.altKey || e.ctrlKey || e.metaKey) && !this._isThirdLevelShift(this.browser, e) || (t = String.fromCharCode(t), this._onKey.fire({\n              key: t,\n              domEvent: e\n            }), this._showCursor(), this.coreService.triggerDataEvent(t, !0), this._keyPressHandled = !0, this._unprocessedDeadKey = !1, 0));\n          }, t.prototype._inputEvent = function (e) {\n            if (e.data && \"insertText\" === e.inputType && !e.composed && !this.optionsService.rawOptions.screenReaderMode) {\n              if (this._keyPressHandled) return !1;\n              this._unprocessedDeadKey = !1;\n              var t = e.data;\n              return this.coreService.triggerDataEvent(t, !0), this.cancel(e), !0;\n            }\n\n            return !1;\n          }, t.prototype.bell = function () {\n            var e;\n            this._soundBell() && (null === (e = this._soundService) || void 0 === e || e.playBellSound()), this._onBell.fire();\n          }, t.prototype.resize = function (t, r) {\n            t !== this.cols || r !== this.rows ? e.prototype.resize.call(this, t, r) : this._charSizeService && !this._charSizeService.hasValidSize && this._charSizeService.measure();\n          }, t.prototype._afterResize = function (e, t) {\n            var r, i;\n            null === (r = this._charSizeService) || void 0 === r || r.measure(), null === (i = this.viewport) || void 0 === i || i.syncScrollArea(!0);\n          }, t.prototype.clear = function () {\n            if (0 !== this.buffer.ybase || 0 !== this.buffer.y) {\n              this.buffer.lines.set(0, this.buffer.lines.get(this.buffer.ybase + this.buffer.y)), this.buffer.lines.length = 1, this.buffer.ydisp = 0, this.buffer.ybase = 0, this.buffer.y = 0;\n\n              for (var e = 1; e < this.rows; e++) this.buffer.lines.push(this.buffer.getBlankLine(b.DEFAULT_ATTR_DATA));\n\n              this.refresh(0, this.rows - 1), this._onScroll.fire({\n                position: this.buffer.ydisp,\n                source: 0\n              });\n            }\n          }, t.prototype.reset = function () {\n            var t, r;\n            this.options.rows = this.rows, this.options.cols = this.cols;\n            var i = this._customKeyEventHandler;\n            this._setup(), e.prototype.reset.call(this), null === (t = this._selectionService) || void 0 === t || t.reset(), this._customKeyEventHandler = i, this.refresh(0, this.rows - 1), null === (r = this.viewport) || void 0 === r || r.syncScrollArea();\n          }, t.prototype.clearTextureAtlas = function () {\n            var e;\n            null === (e = this._renderService) || void 0 === e || e.clearTextureAtlas();\n          }, t.prototype._reportFocus = function () {\n            var e;\n            (null === (e = this.element) || void 0 === e ? void 0 : e.classList.contains(\"focus\")) ? this.coreService.triggerDataEvent(c.C0.ESC + \"[I\") : this.coreService.triggerDataEvent(c.C0.ESC + \"[O\");\n          }, t.prototype._reportWindowsOptions = function (e) {\n            if (this._renderService) switch (e) {\n              case l.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:\n                var t = this._renderService.dimensions.scaledCanvasWidth.toFixed(0),\n                    r = this._renderService.dimensions.scaledCanvasHeight.toFixed(0);\n\n                this.coreService.triggerDataEvent(c.C0.ESC + \"[4;\" + r + \";\" + t + \"t\");\n                break;\n\n              case l.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:\n                var i = this._renderService.dimensions.scaledCellWidth.toFixed(0),\n                    n = this._renderService.dimensions.scaledCellHeight.toFixed(0);\n\n                this.coreService.triggerDataEvent(c.C0.ESC + \"[6;\" + n + \";\" + i + \"t\");\n            }\n          }, t.prototype.cancel = function (e, t) {\n            if (this.options.cancelEvents || t) return e.preventDefault(), e.stopPropagation(), !1;\n          }, t.prototype._visualBell = function () {\n            return !1;\n          }, t.prototype._soundBell = function () {\n            return \"sound\" === this.options.bellStyle;\n          }, t;\n        }(R.CoreTerminal);\n\n        t.Terminal = P;\n      },\n      9924: (e, t) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.TimeBasedDebouncer = void 0;\n\n        var r = function () {\n          function e(e, t) {\n            void 0 === t && (t = 1e3), this._renderCallback = e, this._debounceThresholdMS = t, this._lastRefreshMs = 0, this._additionalRefreshRequested = !1;\n          }\n\n          return e.prototype.dispose = function () {\n            this._refreshTimeoutID && clearTimeout(this._refreshTimeoutID);\n          }, e.prototype.refresh = function (e, t, r) {\n            var i = this;\n            this._rowCount = r, e = void 0 !== e ? e : 0, t = void 0 !== t ? t : this._rowCount - 1, this._rowStart = void 0 !== this._rowStart ? Math.min(this._rowStart, e) : e, this._rowEnd = void 0 !== this._rowEnd ? Math.max(this._rowEnd, t) : t;\n            var n = Date.now();\n            if (n - this._lastRefreshMs >= this._debounceThresholdMS) this._lastRefreshMs = n, this._innerRefresh();else if (!this._additionalRefreshRequested) {\n              var o = n - this._lastRefreshMs,\n                  s = this._debounceThresholdMS - o;\n              this._additionalRefreshRequested = !0, this._refreshTimeoutID = window.setTimeout(function () {\n                i._lastRefreshMs = Date.now(), i._innerRefresh(), i._additionalRefreshRequested = !1, i._refreshTimeoutID = void 0;\n              }, s);\n            }\n          }, e.prototype._innerRefresh = function () {\n            if (void 0 !== this._rowStart && void 0 !== this._rowEnd && void 0 !== this._rowCount) {\n              var e = Math.max(this._rowStart, 0),\n                  t = Math.min(this._rowEnd, this._rowCount - 1);\n              this._rowStart = void 0, this._rowEnd = void 0, this._renderCallback(e, t);\n            }\n          }, e;\n        }();\n\n        t.TimeBasedDebouncer = r;\n      },\n      1680: function (e, t, r) {\n        var i,\n            n = this && this.__extends || (i = function (e, t) {\n          return i = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (e, t) {\n            e.__proto__ = t;\n          } || function (e, t) {\n            for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);\n          }, i(e, t);\n        }, function (e, t) {\n          if (\"function\" != typeof t && null !== t) throw new TypeError(\"Class extends value \" + String(t) + \" is not a constructor or null\");\n\n          function r() {\n            this.constructor = e;\n          }\n\n          i(e, t), e.prototype = null === t ? Object.create(t) : (r.prototype = t.prototype, new r());\n        }),\n            o = this && this.__decorate || function (e, t, r, i) {\n          var n,\n              o = arguments.length,\n              s = o < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, r) : i;\n          if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.decorate) s = Reflect.decorate(e, t, r, i);else for (var a = e.length - 1; a >= 0; a--) (n = e[a]) && (s = (o < 3 ? n(s) : o > 3 ? n(t, r, s) : n(t, r)) || s);\n          return o > 3 && s && Object.defineProperty(t, r, s), s;\n        },\n            s = this && this.__param || function (e, t) {\n          return function (r, i) {\n            t(r, i, e);\n          };\n        };\n\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.Viewport = void 0;\n\n        var a = r(844),\n            c = r(3656),\n            l = r(4725),\n            h = r(2585),\n            u = function (e) {\n          function t(t, r, i, n, o, s, a, l) {\n            var h = e.call(this) || this;\n            return h._scrollLines = t, h._viewportElement = r, h._scrollArea = i, h._element = n, h._bufferService = o, h._optionsService = s, h._charSizeService = a, h._renderService = l, h.scrollBarWidth = 0, h._currentRowHeight = 0, h._currentScaledCellHeight = 0, h._lastRecordedBufferLength = 0, h._lastRecordedViewportHeight = 0, h._lastRecordedBufferHeight = 0, h._lastTouchY = 0, h._lastScrollTop = 0, h._lastHadScrollBar = !1, h._wheelPartialScroll = 0, h._refreshAnimationFrame = null, h._ignoreNextScrollEvent = !1, h.scrollBarWidth = h._viewportElement.offsetWidth - h._scrollArea.offsetWidth || 15, h._lastHadScrollBar = !0, h.register((0, c.addDisposableDomListener)(h._viewportElement, \"scroll\", h._onScroll.bind(h))), h._activeBuffer = h._bufferService.buffer, h.register(h._bufferService.buffers.onBufferActivate(function (e) {\n              return h._activeBuffer = e.activeBuffer;\n            })), h._renderDimensions = h._renderService.dimensions, h.register(h._renderService.onDimensionsChange(function (e) {\n              return h._renderDimensions = e;\n            })), setTimeout(function () {\n              return h.syncScrollArea();\n            }, 0), h;\n          }\n\n          return n(t, e), t.prototype.onThemeChange = function (e) {\n            this._viewportElement.style.backgroundColor = e.background.css;\n          }, t.prototype._refresh = function (e) {\n            var t = this;\n            if (e) return this._innerRefresh(), void (null !== this._refreshAnimationFrame && cancelAnimationFrame(this._refreshAnimationFrame));\n            null === this._refreshAnimationFrame && (this._refreshAnimationFrame = requestAnimationFrame(function () {\n              return t._innerRefresh();\n            }));\n          }, t.prototype._innerRefresh = function () {\n            if (this._charSizeService.height > 0) {\n              this._currentRowHeight = this._renderService.dimensions.scaledCellHeight / window.devicePixelRatio, this._currentScaledCellHeight = this._renderService.dimensions.scaledCellHeight, this._lastRecordedViewportHeight = this._viewportElement.offsetHeight;\n\n              var e = Math.round(this._currentRowHeight * this._lastRecordedBufferLength) + (this._lastRecordedViewportHeight - this._renderService.dimensions.canvasHeight);\n\n              this._lastRecordedBufferHeight !== e && (this._lastRecordedBufferHeight = e, this._scrollArea.style.height = this._lastRecordedBufferHeight + \"px\");\n            }\n\n            var t = this._bufferService.buffer.ydisp * this._currentRowHeight;\n            this._viewportElement.scrollTop !== t && (this._ignoreNextScrollEvent = !0, this._viewportElement.scrollTop = t), 0 === this._optionsService.rawOptions.scrollback ? this.scrollBarWidth = 0 : this.scrollBarWidth = this._viewportElement.offsetWidth - this._scrollArea.offsetWidth || 15, this._lastHadScrollBar = this.scrollBarWidth > 0;\n            var r = window.getComputedStyle(this._element),\n                i = parseInt(r.paddingLeft) + parseInt(r.paddingRight);\n            this._viewportElement.style.width = (this._renderService.dimensions.actualCellWidth * this._bufferService.cols + this.scrollBarWidth + (this._lastHadScrollBar ? i : 0)).toString() + \"px\", this._refreshAnimationFrame = null;\n          }, t.prototype.syncScrollArea = function (e) {\n            if (void 0 === e && (e = !1), this._lastRecordedBufferLength !== this._bufferService.buffer.lines.length) return this._lastRecordedBufferLength = this._bufferService.buffer.lines.length, void this._refresh(e);\n            this._lastRecordedViewportHeight === this._renderService.dimensions.canvasHeight && this._lastScrollTop === this._activeBuffer.ydisp * this._currentRowHeight && this._renderDimensions.scaledCellHeight === this._currentScaledCellHeight ? this._lastHadScrollBar !== this._optionsService.rawOptions.scrollback > 0 && this._refresh(e) : this._refresh(e);\n          }, t.prototype._onScroll = function (e) {\n            if (this._lastScrollTop = this._viewportElement.scrollTop, this._viewportElement.offsetParent) {\n              if (this._ignoreNextScrollEvent) return this._ignoreNextScrollEvent = !1, void this._scrollLines(0);\n\n              var t = Math.round(this._lastScrollTop / this._currentRowHeight) - this._bufferService.buffer.ydisp;\n\n              this._scrollLines(t);\n            }\n          }, t.prototype._bubbleScroll = function (e, t) {\n            var r = this._viewportElement.scrollTop + this._lastRecordedViewportHeight;\n            return !(t < 0 && 0 !== this._viewportElement.scrollTop || t > 0 && r < this._lastRecordedBufferHeight) || (e.cancelable && e.preventDefault(), !1);\n          }, t.prototype.onWheel = function (e) {\n            var t = this._getPixelsScrolled(e);\n\n            return 0 !== t && (this._viewportElement.scrollTop += t, this._bubbleScroll(e, t));\n          }, t.prototype._getPixelsScrolled = function (e) {\n            if (0 === e.deltaY || e.shiftKey) return 0;\n\n            var t = this._applyScrollModifier(e.deltaY, e);\n\n            return e.deltaMode === WheelEvent.DOM_DELTA_LINE ? t *= this._currentRowHeight : e.deltaMode === WheelEvent.DOM_DELTA_PAGE && (t *= this._currentRowHeight * this._bufferService.rows), t;\n          }, t.prototype.getLinesScrolled = function (e) {\n            if (0 === e.deltaY || e.shiftKey) return 0;\n\n            var t = this._applyScrollModifier(e.deltaY, e);\n\n            return e.deltaMode === WheelEvent.DOM_DELTA_PIXEL ? (t /= this._currentRowHeight + 0, this._wheelPartialScroll += t, t = Math.floor(Math.abs(this._wheelPartialScroll)) * (this._wheelPartialScroll > 0 ? 1 : -1), this._wheelPartialScroll %= 1) : e.deltaMode === WheelEvent.DOM_DELTA_PAGE && (t *= this._bufferService.rows), t;\n          }, t.prototype._applyScrollModifier = function (e, t) {\n            var r = this._optionsService.rawOptions.fastScrollModifier;\n            return \"alt\" === r && t.altKey || \"ctrl\" === r && t.ctrlKey || \"shift\" === r && t.shiftKey ? e * this._optionsService.rawOptions.fastScrollSensitivity * this._optionsService.rawOptions.scrollSensitivity : e * this._optionsService.rawOptions.scrollSensitivity;\n          }, t.prototype.onTouchStart = function (e) {\n            this._lastTouchY = e.touches[0].pageY;\n          }, t.prototype.onTouchMove = function (e) {\n            var t = this._lastTouchY - e.touches[0].pageY;\n            return this._lastTouchY = e.touches[0].pageY, 0 !== t && (this._viewportElement.scrollTop += t, this._bubbleScroll(e, t));\n          }, o([s(4, h.IBufferService), s(5, h.IOptionsService), s(6, l.ICharSizeService), s(7, l.IRenderService)], t);\n        }(a.Disposable);\n\n        t.Viewport = u;\n      },\n      2950: function (e, t, r) {\n        var i = this && this.__decorate || function (e, t, r, i) {\n          var n,\n              o = arguments.length,\n              s = o < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, r) : i;\n          if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.decorate) s = Reflect.decorate(e, t, r, i);else for (var a = e.length - 1; a >= 0; a--) (n = e[a]) && (s = (o < 3 ? n(s) : o > 3 ? n(t, r, s) : n(t, r)) || s);\n          return o > 3 && s && Object.defineProperty(t, r, s), s;\n        },\n            n = this && this.__param || function (e, t) {\n          return function (r, i) {\n            t(r, i, e);\n          };\n        };\n\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.CompositionHelper = void 0;\n\n        var o = r(4725),\n            s = r(2585),\n            a = function () {\n          function e(e, t, r, i, n, o) {\n            this._textarea = e, this._compositionView = t, this._bufferService = r, this._optionsService = i, this._coreService = n, this._renderService = o, this._isComposing = !1, this._isSendingComposition = !1, this._compositionPosition = {\n              start: 0,\n              end: 0\n            }, this._dataAlreadySent = \"\";\n          }\n\n          return Object.defineProperty(e.prototype, \"isComposing\", {\n            get: function () {\n              return this._isComposing;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), e.prototype.compositionstart = function () {\n            this._isComposing = !0, this._compositionPosition.start = this._textarea.value.length, this._compositionView.textContent = \"\", this._dataAlreadySent = \"\", this._compositionView.classList.add(\"active\");\n          }, e.prototype.compositionupdate = function (e) {\n            var t = this;\n            this._compositionView.textContent = e.data, this.updateCompositionElements(), setTimeout(function () {\n              t._compositionPosition.end = t._textarea.value.length;\n            }, 0);\n          }, e.prototype.compositionend = function () {\n            this._finalizeComposition(!0);\n          }, e.prototype.keydown = function (e) {\n            if (this._isComposing || this._isSendingComposition) {\n              if (229 === e.keyCode) return !1;\n              if (16 === e.keyCode || 17 === e.keyCode || 18 === e.keyCode) return !1;\n\n              this._finalizeComposition(!1);\n            }\n\n            return 229 !== e.keyCode || (this._handleAnyTextareaChanges(), !1);\n          }, e.prototype._finalizeComposition = function (e) {\n            var t = this;\n\n            if (this._compositionView.classList.remove(\"active\"), this._isComposing = !1, e) {\n              var r = {\n                start: this._compositionPosition.start,\n                end: this._compositionPosition.end\n              };\n              this._isSendingComposition = !0, setTimeout(function () {\n                if (t._isSendingComposition) {\n                  t._isSendingComposition = !1;\n                  var e;\n                  r.start += t._dataAlreadySent.length, (e = t._isComposing ? t._textarea.value.substring(r.start, r.end) : t._textarea.value.substring(r.start)).length > 0 && t._coreService.triggerDataEvent(e, !0);\n                }\n              }, 0);\n            } else {\n              this._isSendingComposition = !1;\n\n              var i = this._textarea.value.substring(this._compositionPosition.start, this._compositionPosition.end);\n\n              this._coreService.triggerDataEvent(i, !0);\n            }\n          }, e.prototype._handleAnyTextareaChanges = function () {\n            var e = this,\n                t = this._textarea.value;\n            setTimeout(function () {\n              if (!e._isComposing) {\n                var r = e._textarea.value.replace(t, \"\");\n\n                r.length > 0 && (e._dataAlreadySent = r, e._coreService.triggerDataEvent(r, !0));\n              }\n            }, 0);\n          }, e.prototype.updateCompositionElements = function (e) {\n            var t = this;\n\n            if (this._isComposing) {\n              if (this._bufferService.buffer.isCursorInViewport) {\n                var r = Math.min(this._bufferService.buffer.x, this._bufferService.cols - 1),\n                    i = this._renderService.dimensions.actualCellHeight,\n                    n = this._bufferService.buffer.y * this._renderService.dimensions.actualCellHeight,\n                    o = r * this._renderService.dimensions.actualCellWidth;\n                this._compositionView.style.left = o + \"px\", this._compositionView.style.top = n + \"px\", this._compositionView.style.height = i + \"px\", this._compositionView.style.lineHeight = i + \"px\", this._compositionView.style.fontFamily = this._optionsService.rawOptions.fontFamily, this._compositionView.style.fontSize = this._optionsService.rawOptions.fontSize + \"px\";\n\n                var s = this._compositionView.getBoundingClientRect();\n\n                this._textarea.style.left = o + \"px\", this._textarea.style.top = n + \"px\", this._textarea.style.width = Math.max(s.width, 1) + \"px\", this._textarea.style.height = Math.max(s.height, 1) + \"px\", this._textarea.style.lineHeight = s.height + \"px\";\n              }\n\n              e || setTimeout(function () {\n                return t.updateCompositionElements(!0);\n              }, 0);\n            }\n          }, i([n(2, s.IBufferService), n(3, s.IOptionsService), n(4, s.ICoreService), n(5, o.IRenderService)], e);\n        }();\n\n        t.CompositionHelper = a;\n      },\n      9806: (e, t) => {\n        function r(e, t) {\n          var r = t.getBoundingClientRect();\n          return [e.clientX - r.left, e.clientY - r.top];\n        }\n\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.getRawByteCoords = t.getCoords = t.getCoordsRelativeToElement = void 0, t.getCoordsRelativeToElement = r, t.getCoords = function (e, t, i, n, o, s, a, c) {\n          if (o) {\n            var l = r(e, t);\n            if (l) return l[0] = Math.ceil((l[0] + (c ? s / 2 : 0)) / s), l[1] = Math.ceil(l[1] / a), l[0] = Math.min(Math.max(l[0], 1), i + (c ? 1 : 0)), l[1] = Math.min(Math.max(l[1], 1), n), l;\n          }\n        }, t.getRawByteCoords = function (e) {\n          if (e) return {\n            x: e[0] + 32,\n            y: e[1] + 32\n          };\n        };\n      },\n      9504: (e, t, r) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.moveToCellSequence = void 0;\n        var i = r(2584);\n\n        function n(e, t, r, i) {\n          var n = e - o(r, e),\n              a = t - o(r, t),\n              h = Math.abs(n - a) - function (e, t, r) {\n            for (var i = 0, n = e - o(r, e), a = t - o(r, t), c = 0; c < Math.abs(n - a); c++) {\n              var l = \"A\" === s(e, t) ? -1 : 1,\n                  h = r.buffer.lines.get(n + l * c);\n              (null == h ? void 0 : h.isWrapped) && i++;\n            }\n\n            return i;\n          }(e, t, r);\n\n          return l(h, c(s(e, t), i));\n        }\n\n        function o(e, t) {\n          for (var r = 0, i = e.buffer.lines.get(t), n = null == i ? void 0 : i.isWrapped; n && t >= 0 && t < e.rows;) r++, n = null == (i = e.buffer.lines.get(--t)) ? void 0 : i.isWrapped;\n\n          return r;\n        }\n\n        function s(e, t) {\n          return e > t ? \"A\" : \"B\";\n        }\n\n        function a(e, t, r, i, n, o) {\n          for (var s = e, a = t, c = \"\"; s !== r || a !== i;) s += n ? 1 : -1, n && s > o.cols - 1 ? (c += o.buffer.translateBufferLineToString(a, !1, e, s), s = 0, e = 0, a++) : !n && s < 0 && (c += o.buffer.translateBufferLineToString(a, !1, 0, e + 1), e = s = o.cols - 1, a--);\n\n          return c + o.buffer.translateBufferLineToString(a, !1, e, s);\n        }\n\n        function c(e, t) {\n          var r = t ? \"O\" : \"[\";\n          return i.C0.ESC + r + e;\n        }\n\n        function l(e, t) {\n          e = Math.floor(e);\n\n          for (var r = \"\", i = 0; i < e; i++) r += t;\n\n          return r;\n        }\n\n        t.moveToCellSequence = function (e, t, r, i) {\n          var s,\n              h = r.buffer.x,\n              u = r.buffer.y;\n          if (!r.buffer.hasScrollback) return function (e, t, r, i, s, h) {\n            return 0 === n(t, i, s, h).length ? \"\" : l(a(e, t, e, t - o(s, t), !1, s).length, c(\"D\", h));\n          }(h, u, 0, t, r, i) + n(u, t, r, i) + function (e, t, r, i, s, h) {\n            var u;\n            u = n(t, i, s, h).length > 0 ? i - o(s, i) : t;\n\n            var f = i,\n                _ = function (e, t, r, i, s, a) {\n              var c;\n              return c = n(r, i, s, a).length > 0 ? i - o(s, i) : t, e < r && c <= i || e >= r && c < i ? \"C\" : \"D\";\n            }(e, t, r, i, s, h);\n\n            return l(a(e, u, r, f, \"C\" === _, s).length, c(_, h));\n          }(h, u, e, t, r, i);\n          if (u === t) return s = h > e ? \"D\" : \"C\", l(Math.abs(h - e), c(s, i));\n          s = u > t ? \"D\" : \"C\";\n          var f = Math.abs(u - t);\n          return l(function (e, t) {\n            return t.cols - e;\n          }(u > t ? e : h, r) + (f - 1) * r.cols + 1 + ((u > t ? h : e) - 1), c(s, i));\n        };\n      },\n      4389: function (e, t, r) {\n        var i = this && this.__assign || function () {\n          return i = Object.assign || function (e) {\n            for (var t, r = 1, i = arguments.length; r < i; r++) for (var n in t = arguments[r]) Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);\n\n            return e;\n          }, i.apply(this, arguments);\n        };\n\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.Terminal = void 0;\n\n        var n = r(3236),\n            o = r(9042),\n            s = r(7975),\n            a = r(7090),\n            c = r(5741),\n            l = r(8285),\n            h = [\"cols\", \"rows\"],\n            u = function () {\n          function e(e) {\n            var t = this;\n            this._core = new n.Terminal(e), this._addonManager = new c.AddonManager(), this._publicOptions = i({}, this._core.options);\n\n            var r = function (e) {\n              return t._core.options[e];\n            },\n                o = function (e, r) {\n              t._checkReadonlyOptions(e), t._core.options[e] = r;\n            };\n\n            for (var s in this._core.options) {\n              var a = {\n                get: r.bind(this, s),\n                set: o.bind(this, s)\n              };\n              Object.defineProperty(this._publicOptions, s, a);\n            }\n          }\n\n          return e.prototype._checkReadonlyOptions = function (e) {\n            if (h.includes(e)) throw new Error('Option \"' + e + '\" can only be set in the constructor');\n          }, e.prototype._checkProposedApi = function () {\n            if (!this._core.optionsService.rawOptions.allowProposedApi) throw new Error(\"You must set the allowProposedApi option to true to use proposed API\");\n          }, Object.defineProperty(e.prototype, \"onBell\", {\n            get: function () {\n              return this._core.onBell;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(e.prototype, \"onBinary\", {\n            get: function () {\n              return this._core.onBinary;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(e.prototype, \"onCursorMove\", {\n            get: function () {\n              return this._core.onCursorMove;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(e.prototype, \"onData\", {\n            get: function () {\n              return this._core.onData;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(e.prototype, \"onKey\", {\n            get: function () {\n              return this._core.onKey;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(e.prototype, \"onLineFeed\", {\n            get: function () {\n              return this._core.onLineFeed;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(e.prototype, \"onRender\", {\n            get: function () {\n              return this._core.onRender;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(e.prototype, \"onResize\", {\n            get: function () {\n              return this._core.onResize;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(e.prototype, \"onScroll\", {\n            get: function () {\n              return this._core.onScroll;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(e.prototype, \"onSelectionChange\", {\n            get: function () {\n              return this._core.onSelectionChange;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(e.prototype, \"onTitleChange\", {\n            get: function () {\n              return this._core.onTitleChange;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(e.prototype, \"element\", {\n            get: function () {\n              return this._core.element;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(e.prototype, \"parser\", {\n            get: function () {\n              return this._checkProposedApi(), this._parser || (this._parser = new s.ParserApi(this._core)), this._parser;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(e.prototype, \"unicode\", {\n            get: function () {\n              return this._checkProposedApi(), new a.UnicodeApi(this._core);\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(e.prototype, \"textarea\", {\n            get: function () {\n              return this._core.textarea;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(e.prototype, \"rows\", {\n            get: function () {\n              return this._core.rows;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(e.prototype, \"cols\", {\n            get: function () {\n              return this._core.cols;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(e.prototype, \"buffer\", {\n            get: function () {\n              return this._checkProposedApi(), this._buffer || (this._buffer = new l.BufferNamespaceApi(this._core)), this._buffer;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(e.prototype, \"markers\", {\n            get: function () {\n              return this._checkProposedApi(), this._core.markers;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(e.prototype, \"modes\", {\n            get: function () {\n              var e = this._core.coreService.decPrivateModes,\n                  t = \"none\";\n\n              switch (this._core.coreMouseService.activeProtocol) {\n                case \"X10\":\n                  t = \"x10\";\n                  break;\n\n                case \"VT200\":\n                  t = \"vt200\";\n                  break;\n\n                case \"DRAG\":\n                  t = \"drag\";\n                  break;\n\n                case \"ANY\":\n                  t = \"any\";\n              }\n\n              return {\n                applicationCursorKeysMode: e.applicationCursorKeys,\n                applicationKeypadMode: e.applicationKeypad,\n                bracketedPasteMode: e.bracketedPasteMode,\n                insertMode: this._core.coreService.modes.insertMode,\n                mouseTrackingMode: t,\n                originMode: e.origin,\n                reverseWraparoundMode: e.reverseWraparound,\n                sendFocusMode: e.sendFocus,\n                wraparoundMode: e.wraparound\n              };\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(e.prototype, \"options\", {\n            get: function () {\n              return this._publicOptions;\n            },\n            set: function (e) {\n              for (var t in e) this._publicOptions[t] = e[t];\n            },\n            enumerable: !1,\n            configurable: !0\n          }), e.prototype.blur = function () {\n            this._core.blur();\n          }, e.prototype.focus = function () {\n            this._core.focus();\n          }, e.prototype.resize = function (e, t) {\n            this._verifyIntegers(e, t), this._core.resize(e, t);\n          }, e.prototype.open = function (e) {\n            this._core.open(e);\n          }, e.prototype.attachCustomKeyEventHandler = function (e) {\n            this._core.attachCustomKeyEventHandler(e);\n          }, e.prototype.registerLinkMatcher = function (e, t, r) {\n            return this._checkProposedApi(), this._core.registerLinkMatcher(e, t, r);\n          }, e.prototype.deregisterLinkMatcher = function (e) {\n            this._checkProposedApi(), this._core.deregisterLinkMatcher(e);\n          }, e.prototype.registerLinkProvider = function (e) {\n            return this._checkProposedApi(), this._core.registerLinkProvider(e);\n          }, e.prototype.registerCharacterJoiner = function (e) {\n            return this._checkProposedApi(), this._core.registerCharacterJoiner(e);\n          }, e.prototype.deregisterCharacterJoiner = function (e) {\n            this._checkProposedApi(), this._core.deregisterCharacterJoiner(e);\n          }, e.prototype.registerMarker = function (e) {\n            return this._checkProposedApi(), this._verifyIntegers(e), this._core.addMarker(e);\n          }, e.prototype.addMarker = function (e) {\n            return this.registerMarker(e);\n          }, e.prototype.hasSelection = function () {\n            return this._core.hasSelection();\n          }, e.prototype.select = function (e, t, r) {\n            this._verifyIntegers(e, t, r), this._core.select(e, t, r);\n          }, e.prototype.getSelection = function () {\n            return this._core.getSelection();\n          }, e.prototype.getSelectionPosition = function () {\n            return this._core.getSelectionPosition();\n          }, e.prototype.clearSelection = function () {\n            this._core.clearSelection();\n          }, e.prototype.selectAll = function () {\n            this._core.selectAll();\n          }, e.prototype.selectLines = function (e, t) {\n            this._verifyIntegers(e, t), this._core.selectLines(e, t);\n          }, e.prototype.dispose = function () {\n            this._addonManager.dispose(), this._core.dispose();\n          }, e.prototype.scrollLines = function (e) {\n            this._verifyIntegers(e), this._core.scrollLines(e);\n          }, e.prototype.scrollPages = function (e) {\n            this._verifyIntegers(e), this._core.scrollPages(e);\n          }, e.prototype.scrollToTop = function () {\n            this._core.scrollToTop();\n          }, e.prototype.scrollToBottom = function () {\n            this._core.scrollToBottom();\n          }, e.prototype.scrollToLine = function (e) {\n            this._verifyIntegers(e), this._core.scrollToLine(e);\n          }, e.prototype.clear = function () {\n            this._core.clear();\n          }, e.prototype.write = function (e, t) {\n            this._core.write(e, t);\n          }, e.prototype.writeUtf8 = function (e, t) {\n            this._core.write(e, t);\n          }, e.prototype.writeln = function (e, t) {\n            this._core.write(e), this._core.write(\"\\r\\n\", t);\n          }, e.prototype.paste = function (e) {\n            this._core.paste(e);\n          }, e.prototype.getOption = function (e) {\n            return this._core.optionsService.getOption(e);\n          }, e.prototype.setOption = function (e, t) {\n            this._checkReadonlyOptions(e), this._core.optionsService.setOption(e, t);\n          }, e.prototype.refresh = function (e, t) {\n            this._verifyIntegers(e, t), this._core.refresh(e, t);\n          }, e.prototype.reset = function () {\n            this._core.reset();\n          }, e.prototype.clearTextureAtlas = function () {\n            this._core.clearTextureAtlas();\n          }, e.prototype.loadAddon = function (e) {\n            return this._addonManager.loadAddon(this, e);\n          }, Object.defineProperty(e, \"strings\", {\n            get: function () {\n              return o;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), e.prototype._verifyIntegers = function () {\n            for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];\n\n            for (var r = 0, i = e; r < i.length; r++) {\n              var n = i[r];\n              if (n === 1 / 0 || isNaN(n) || n % 1 != 0) throw new Error(\"This API only accepts integers\");\n            }\n          }, e;\n        }();\n\n        t.Terminal = u;\n      },\n      1546: (e, t, r) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.BaseRenderLayer = void 0;\n\n        var i = r(643),\n            n = r(8803),\n            o = r(1420),\n            s = r(3734),\n            a = r(1752),\n            c = r(4774),\n            l = r(9631),\n            h = r(8978),\n            u = function () {\n          function e(e, t, r, i, n, o, s, a) {\n            this._container = e, this._alpha = i, this._colors = n, this._rendererId = o, this._bufferService = s, this._optionsService = a, this._scaledCharWidth = 0, this._scaledCharHeight = 0, this._scaledCellWidth = 0, this._scaledCellHeight = 0, this._scaledCharLeft = 0, this._scaledCharTop = 0, this._currentGlyphIdentifier = {\n              chars: \"\",\n              code: 0,\n              bg: 0,\n              fg: 0,\n              bold: !1,\n              dim: !1,\n              italic: !1\n            }, this._canvas = document.createElement(\"canvas\"), this._canvas.classList.add(\"xterm-\" + t + \"-layer\"), this._canvas.style.zIndex = r.toString(), this._initCanvas(), this._container.appendChild(this._canvas);\n          }\n\n          return e.prototype.dispose = function () {\n            var e;\n            (0, l.removeElementFromParent)(this._canvas), null === (e = this._charAtlas) || void 0 === e || e.dispose();\n          }, e.prototype._initCanvas = function () {\n            this._ctx = (0, a.throwIfFalsy)(this._canvas.getContext(\"2d\", {\n              alpha: this._alpha\n            })), this._alpha || this._clearAll();\n          }, e.prototype.onOptionsChanged = function () {}, e.prototype.onBlur = function () {}, e.prototype.onFocus = function () {}, e.prototype.onCursorMove = function () {}, e.prototype.onGridChanged = function (e, t) {}, e.prototype.onSelectionChanged = function (e, t, r) {\n            void 0 === r && (r = !1);\n          }, e.prototype.setColors = function (e) {\n            this._refreshCharAtlas(e);\n          }, e.prototype._setTransparency = function (e) {\n            if (e !== this._alpha) {\n              var t = this._canvas;\n              this._alpha = e, this._canvas = this._canvas.cloneNode(), this._initCanvas(), this._container.replaceChild(this._canvas, t), this._refreshCharAtlas(this._colors), this.onGridChanged(0, this._bufferService.rows - 1);\n            }\n          }, e.prototype._refreshCharAtlas = function (e) {\n            this._scaledCharWidth <= 0 && this._scaledCharHeight <= 0 || (this._charAtlas = (0, o.acquireCharAtlas)(this._optionsService.rawOptions, this._rendererId, e, this._scaledCharWidth, this._scaledCharHeight), this._charAtlas.warmUp());\n          }, e.prototype.resize = function (e) {\n            this._scaledCellWidth = e.scaledCellWidth, this._scaledCellHeight = e.scaledCellHeight, this._scaledCharWidth = e.scaledCharWidth, this._scaledCharHeight = e.scaledCharHeight, this._scaledCharLeft = e.scaledCharLeft, this._scaledCharTop = e.scaledCharTop, this._canvas.width = e.scaledCanvasWidth, this._canvas.height = e.scaledCanvasHeight, this._canvas.style.width = e.canvasWidth + \"px\", this._canvas.style.height = e.canvasHeight + \"px\", this._alpha || this._clearAll(), this._refreshCharAtlas(this._colors);\n          }, e.prototype.clearTextureAtlas = function () {\n            var e;\n            null === (e = this._charAtlas) || void 0 === e || e.clear();\n          }, e.prototype._fillCells = function (e, t, r, i) {\n            this._ctx.fillRect(e * this._scaledCellWidth, t * this._scaledCellHeight, r * this._scaledCellWidth, i * this._scaledCellHeight);\n          }, e.prototype._fillMiddleLineAtCells = function (e, t, r) {\n            void 0 === r && (r = 1);\n            var i = Math.ceil(.5 * this._scaledCellHeight);\n\n            this._ctx.fillRect(e * this._scaledCellWidth, (t + 1) * this._scaledCellHeight - i - window.devicePixelRatio, r * this._scaledCellWidth, window.devicePixelRatio);\n          }, e.prototype._fillBottomLineAtCells = function (e, t, r) {\n            void 0 === r && (r = 1), this._ctx.fillRect(e * this._scaledCellWidth, (t + 1) * this._scaledCellHeight - window.devicePixelRatio - 1, r * this._scaledCellWidth, window.devicePixelRatio);\n          }, e.prototype._fillLeftLineAtCell = function (e, t, r) {\n            this._ctx.fillRect(e * this._scaledCellWidth, t * this._scaledCellHeight, window.devicePixelRatio * r, this._scaledCellHeight);\n          }, e.prototype._strokeRectAtCell = function (e, t, r, i) {\n            this._ctx.lineWidth = window.devicePixelRatio, this._ctx.strokeRect(e * this._scaledCellWidth + window.devicePixelRatio / 2, t * this._scaledCellHeight + window.devicePixelRatio / 2, r * this._scaledCellWidth - window.devicePixelRatio, i * this._scaledCellHeight - window.devicePixelRatio);\n          }, e.prototype._clearAll = function () {\n            this._alpha ? this._ctx.clearRect(0, 0, this._canvas.width, this._canvas.height) : (this._ctx.fillStyle = this._colors.background.css, this._ctx.fillRect(0, 0, this._canvas.width, this._canvas.height));\n          }, e.prototype._clearCells = function (e, t, r, i) {\n            this._alpha ? this._ctx.clearRect(e * this._scaledCellWidth, t * this._scaledCellHeight, r * this._scaledCellWidth, i * this._scaledCellHeight) : (this._ctx.fillStyle = this._colors.background.css, this._ctx.fillRect(e * this._scaledCellWidth, t * this._scaledCellHeight, r * this._scaledCellWidth, i * this._scaledCellHeight));\n          }, e.prototype._fillCharTrueColor = function (e, t, r) {\n            this._ctx.font = this._getFont(!1, !1), this._ctx.textBaseline = n.TEXT_BASELINE, this._clipRow(r);\n            var i = !1;\n            !1 !== this._optionsService.rawOptions.customGlyphs && (i = (0, h.tryDrawCustomChar)(this._ctx, e.getChars(), t * this._scaledCellWidth, r * this._scaledCellHeight, this._scaledCellWidth, this._scaledCellHeight)), i || this._ctx.fillText(e.getChars(), t * this._scaledCellWidth + this._scaledCharLeft, r * this._scaledCellHeight + this._scaledCharTop + this._scaledCharHeight);\n          }, e.prototype._drawChars = function (e, t, r) {\n            var o,\n                s,\n                a,\n                c = this._getContrastColor(e);\n\n            c || e.isFgRGB() || e.isBgRGB() ? this._drawUncachedChars(e, t, r, c) : (e.isInverse() ? (s = e.isBgDefault() ? n.INVERTED_DEFAULT_COLOR : e.getBgColor(), a = e.isFgDefault() ? n.INVERTED_DEFAULT_COLOR : e.getFgColor()) : (a = e.isBgDefault() ? i.DEFAULT_COLOR : e.getBgColor(), s = e.isFgDefault() ? i.DEFAULT_COLOR : e.getFgColor()), s += this._optionsService.rawOptions.drawBoldTextInBrightColors && e.isBold() && s < 8 ? 8 : 0, this._currentGlyphIdentifier.chars = e.getChars() || i.WHITESPACE_CELL_CHAR, this._currentGlyphIdentifier.code = e.getCode() || i.WHITESPACE_CELL_CODE, this._currentGlyphIdentifier.bg = a, this._currentGlyphIdentifier.fg = s, this._currentGlyphIdentifier.bold = !!e.isBold(), this._currentGlyphIdentifier.dim = !!e.isDim(), this._currentGlyphIdentifier.italic = !!e.isItalic(), (null === (o = this._charAtlas) || void 0 === o ? void 0 : o.draw(this._ctx, this._currentGlyphIdentifier, t * this._scaledCellWidth + this._scaledCharLeft, r * this._scaledCellHeight + this._scaledCharTop)) || this._drawUncachedChars(e, t, r));\n          }, e.prototype._drawUncachedChars = function (e, t, r, i) {\n            if (this._ctx.save(), this._ctx.font = this._getFont(!!e.isBold(), !!e.isItalic()), this._ctx.textBaseline = n.TEXT_BASELINE, e.isInverse()) {\n              if (i) this._ctx.fillStyle = i.css;else if (e.isBgDefault()) this._ctx.fillStyle = c.color.opaque(this._colors.background).css;else if (e.isBgRGB()) this._ctx.fillStyle = \"rgb(\" + s.AttributeData.toColorRGB(e.getBgColor()).join(\",\") + \")\";else {\n                var o = e.getBgColor();\n                this._optionsService.rawOptions.drawBoldTextInBrightColors && e.isBold() && o < 8 && (o += 8), this._ctx.fillStyle = this._colors.ansi[o].css;\n              }\n            } else if (i) this._ctx.fillStyle = i.css;else if (e.isFgDefault()) this._ctx.fillStyle = this._colors.foreground.css;else if (e.isFgRGB()) this._ctx.fillStyle = \"rgb(\" + s.AttributeData.toColorRGB(e.getFgColor()).join(\",\") + \")\";else {\n              var a = e.getFgColor();\n              this._optionsService.rawOptions.drawBoldTextInBrightColors && e.isBold() && a < 8 && (a += 8), this._ctx.fillStyle = this._colors.ansi[a].css;\n            }\n            this._clipRow(r), e.isDim() && (this._ctx.globalAlpha = n.DIM_OPACITY);\n            var l = !1;\n            !1 !== this._optionsService.rawOptions.customGlyphs && (l = (0, h.tryDrawCustomChar)(this._ctx, e.getChars(), t * this._scaledCellWidth, r * this._scaledCellHeight, this._scaledCellWidth, this._scaledCellHeight)), l || this._ctx.fillText(e.getChars(), t * this._scaledCellWidth + this._scaledCharLeft, r * this._scaledCellHeight + this._scaledCharTop + this._scaledCharHeight), this._ctx.restore();\n          }, e.prototype._clipRow = function (e) {\n            this._ctx.beginPath(), this._ctx.rect(0, e * this._scaledCellHeight, this._bufferService.cols * this._scaledCellWidth, this._scaledCellHeight), this._ctx.clip();\n          }, e.prototype._getFont = function (e, t) {\n            return (t ? \"italic\" : \"\") + \" \" + (e ? this._optionsService.rawOptions.fontWeightBold : this._optionsService.rawOptions.fontWeight) + \" \" + this._optionsService.rawOptions.fontSize * window.devicePixelRatio + \"px \" + this._optionsService.rawOptions.fontFamily;\n          }, e.prototype._getContrastColor = function (e) {\n            if (1 !== this._optionsService.rawOptions.minimumContrastRatio) {\n              var t = this._colors.contrastCache.getColor(e.bg, e.fg);\n\n              if (void 0 !== t) return t || void 0;\n              var r = e.getFgColor(),\n                  i = e.getFgColorMode(),\n                  n = e.getBgColor(),\n                  o = e.getBgColorMode(),\n                  s = !!e.isInverse(),\n                  a = !!e.isInverse();\n\n              if (s) {\n                var l = r;\n                r = n, n = l;\n                var h = i;\n                i = o, o = h;\n              }\n\n              var u = this._resolveBackgroundRgba(o, n, s),\n                  f = this._resolveForegroundRgba(i, r, s, a),\n                  _ = c.rgba.ensureContrastRatio(u, f, this._optionsService.rawOptions.minimumContrastRatio);\n\n              if (_) {\n                var d = {\n                  css: c.channels.toCss(_ >> 24 & 255, _ >> 16 & 255, _ >> 8 & 255),\n                  rgba: _\n                };\n                return this._colors.contrastCache.setColor(e.bg, e.fg, d), d;\n              }\n\n              this._colors.contrastCache.setColor(e.bg, e.fg, null);\n            }\n          }, e.prototype._resolveBackgroundRgba = function (e, t, r) {\n            switch (e) {\n              case 16777216:\n              case 33554432:\n                return this._colors.ansi[t].rgba;\n\n              case 50331648:\n                return t << 8;\n\n              default:\n                return r ? this._colors.foreground.rgba : this._colors.background.rgba;\n            }\n          }, e.prototype._resolveForegroundRgba = function (e, t, r, i) {\n            switch (e) {\n              case 16777216:\n              case 33554432:\n                return this._optionsService.rawOptions.drawBoldTextInBrightColors && i && t < 8 && (t += 8), this._colors.ansi[t].rgba;\n\n              case 50331648:\n                return t << 8;\n\n              default:\n                return r ? this._colors.background.rgba : this._colors.foreground.rgba;\n            }\n          }, e;\n        }();\n\n        t.BaseRenderLayer = u;\n      },\n      2512: function (e, t, r) {\n        var i,\n            n = this && this.__extends || (i = function (e, t) {\n          return i = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (e, t) {\n            e.__proto__ = t;\n          } || function (e, t) {\n            for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);\n          }, i(e, t);\n        }, function (e, t) {\n          if (\"function\" != typeof t && null !== t) throw new TypeError(\"Class extends value \" + String(t) + \" is not a constructor or null\");\n\n          function r() {\n            this.constructor = e;\n          }\n\n          i(e, t), e.prototype = null === t ? Object.create(t) : (r.prototype = t.prototype, new r());\n        }),\n            o = this && this.__decorate || function (e, t, r, i) {\n          var n,\n              o = arguments.length,\n              s = o < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, r) : i;\n          if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.decorate) s = Reflect.decorate(e, t, r, i);else for (var a = e.length - 1; a >= 0; a--) (n = e[a]) && (s = (o < 3 ? n(s) : o > 3 ? n(t, r, s) : n(t, r)) || s);\n          return o > 3 && s && Object.defineProperty(t, r, s), s;\n        },\n            s = this && this.__param || function (e, t) {\n          return function (r, i) {\n            t(r, i, e);\n          };\n        };\n\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.CursorRenderLayer = void 0;\n\n        var a = r(1546),\n            c = r(511),\n            l = r(2585),\n            h = r(4725),\n            u = 600,\n            f = function (e) {\n          function t(t, r, i, n, o, s, a, l, h) {\n            var u = e.call(this, t, \"cursor\", r, !0, i, n, s, a) || this;\n            return u._onRequestRedraw = o, u._coreService = l, u._coreBrowserService = h, u._cell = new c.CellData(), u._state = {\n              x: 0,\n              y: 0,\n              isFocused: !1,\n              style: \"\",\n              width: 0\n            }, u._cursorRenderers = {\n              bar: u._renderBarCursor.bind(u),\n              block: u._renderBlockCursor.bind(u),\n              underline: u._renderUnderlineCursor.bind(u)\n            }, u;\n          }\n\n          return n(t, e), t.prototype.dispose = function () {\n            this._cursorBlinkStateManager && (this._cursorBlinkStateManager.dispose(), this._cursorBlinkStateManager = void 0), e.prototype.dispose.call(this);\n          }, t.prototype.resize = function (t) {\n            e.prototype.resize.call(this, t), this._state = {\n              x: 0,\n              y: 0,\n              isFocused: !1,\n              style: \"\",\n              width: 0\n            };\n          }, t.prototype.reset = function () {\n            var e;\n            this._clearCursor(), null === (e = this._cursorBlinkStateManager) || void 0 === e || e.restartBlinkAnimation(), this.onOptionsChanged();\n          }, t.prototype.onBlur = function () {\n            var e;\n            null === (e = this._cursorBlinkStateManager) || void 0 === e || e.pause(), this._onRequestRedraw.fire({\n              start: this._bufferService.buffer.y,\n              end: this._bufferService.buffer.y\n            });\n          }, t.prototype.onFocus = function () {\n            var e;\n            null === (e = this._cursorBlinkStateManager) || void 0 === e || e.resume(), this._onRequestRedraw.fire({\n              start: this._bufferService.buffer.y,\n              end: this._bufferService.buffer.y\n            });\n          }, t.prototype.onOptionsChanged = function () {\n            var e,\n                t = this;\n            this._optionsService.rawOptions.cursorBlink ? this._cursorBlinkStateManager || (this._cursorBlinkStateManager = new _(this._coreBrowserService.isFocused, function () {\n              t._render(!0);\n            })) : (null === (e = this._cursorBlinkStateManager) || void 0 === e || e.dispose(), this._cursorBlinkStateManager = void 0), this._onRequestRedraw.fire({\n              start: this._bufferService.buffer.y,\n              end: this._bufferService.buffer.y\n            });\n          }, t.prototype.onCursorMove = function () {\n            var e;\n            null === (e = this._cursorBlinkStateManager) || void 0 === e || e.restartBlinkAnimation();\n          }, t.prototype.onGridChanged = function (e, t) {\n            !this._cursorBlinkStateManager || this._cursorBlinkStateManager.isPaused ? this._render(!1) : this._cursorBlinkStateManager.restartBlinkAnimation();\n          }, t.prototype._render = function (e) {\n            if (this._coreService.isCursorInitialized && !this._coreService.isCursorHidden) {\n              var t = this._bufferService.buffer.ybase + this._bufferService.buffer.y,\n                  r = t - this._bufferService.buffer.ydisp;\n              if (r < 0 || r >= this._bufferService.rows) this._clearCursor();else {\n                var i = Math.min(this._bufferService.buffer.x, this._bufferService.cols - 1);\n\n                if (this._bufferService.buffer.lines.get(t).loadCell(i, this._cell), void 0 !== this._cell.content) {\n                  if (!this._coreBrowserService.isFocused) {\n                    this._clearCursor(), this._ctx.save(), this._ctx.fillStyle = this._colors.cursor.css;\n                    var n = this._optionsService.rawOptions.cursorStyle;\n                    return n && \"block\" !== n ? this._cursorRenderers[n](i, r, this._cell) : this._renderBlurCursor(i, r, this._cell), this._ctx.restore(), this._state.x = i, this._state.y = r, this._state.isFocused = !1, this._state.style = n, void (this._state.width = this._cell.getWidth());\n                  }\n\n                  if (!this._cursorBlinkStateManager || this._cursorBlinkStateManager.isCursorVisible) {\n                    if (this._state) {\n                      if (this._state.x === i && this._state.y === r && this._state.isFocused === this._coreBrowserService.isFocused && this._state.style === this._optionsService.rawOptions.cursorStyle && this._state.width === this._cell.getWidth()) return;\n\n                      this._clearCursor();\n                    }\n\n                    this._ctx.save(), this._cursorRenderers[this._optionsService.rawOptions.cursorStyle || \"block\"](i, r, this._cell), this._ctx.restore(), this._state.x = i, this._state.y = r, this._state.isFocused = !1, this._state.style = this._optionsService.rawOptions.cursorStyle, this._state.width = this._cell.getWidth();\n                  } else this._clearCursor();\n                }\n              }\n            } else this._clearCursor();\n          }, t.prototype._clearCursor = function () {\n            this._state && (window.devicePixelRatio < 1 ? this._clearAll() : this._clearCells(this._state.x, this._state.y, this._state.width, 1), this._state = {\n              x: 0,\n              y: 0,\n              isFocused: !1,\n              style: \"\",\n              width: 0\n            });\n          }, t.prototype._renderBarCursor = function (e, t, r) {\n            this._ctx.save(), this._ctx.fillStyle = this._colors.cursor.css, this._fillLeftLineAtCell(e, t, this._optionsService.rawOptions.cursorWidth), this._ctx.restore();\n          }, t.prototype._renderBlockCursor = function (e, t, r) {\n            this._ctx.save(), this._ctx.fillStyle = this._colors.cursor.css, this._fillCells(e, t, r.getWidth(), 1), this._ctx.fillStyle = this._colors.cursorAccent.css, this._fillCharTrueColor(r, e, t), this._ctx.restore();\n          }, t.prototype._renderUnderlineCursor = function (e, t, r) {\n            this._ctx.save(), this._ctx.fillStyle = this._colors.cursor.css, this._fillBottomLineAtCells(e, t), this._ctx.restore();\n          }, t.prototype._renderBlurCursor = function (e, t, r) {\n            this._ctx.save(), this._ctx.strokeStyle = this._colors.cursor.css, this._strokeRectAtCell(e, t, r.getWidth(), 1), this._ctx.restore();\n          }, o([s(5, l.IBufferService), s(6, l.IOptionsService), s(7, l.ICoreService), s(8, h.ICoreBrowserService)], t);\n        }(a.BaseRenderLayer);\n\n        t.CursorRenderLayer = f;\n\n        var _ = function () {\n          function e(e, t) {\n            this._renderCallback = t, this.isCursorVisible = !0, e && this._restartInterval();\n          }\n\n          return Object.defineProperty(e.prototype, \"isPaused\", {\n            get: function () {\n              return !(this._blinkStartTimeout || this._blinkInterval);\n            },\n            enumerable: !1,\n            configurable: !0\n          }), e.prototype.dispose = function () {\n            this._blinkInterval && (window.clearInterval(this._blinkInterval), this._blinkInterval = void 0), this._blinkStartTimeout && (window.clearTimeout(this._blinkStartTimeout), this._blinkStartTimeout = void 0), this._animationFrame && (window.cancelAnimationFrame(this._animationFrame), this._animationFrame = void 0);\n          }, e.prototype.restartBlinkAnimation = function () {\n            var e = this;\n            this.isPaused || (this._animationTimeRestarted = Date.now(), this.isCursorVisible = !0, this._animationFrame || (this._animationFrame = window.requestAnimationFrame(function () {\n              e._renderCallback(), e._animationFrame = void 0;\n            })));\n          }, e.prototype._restartInterval = function (e) {\n            var t = this;\n            void 0 === e && (e = u), this._blinkInterval && (window.clearInterval(this._blinkInterval), this._blinkInterval = void 0), this._blinkStartTimeout = window.setTimeout(function () {\n              if (t._animationTimeRestarted) {\n                var e = u - (Date.now() - t._animationTimeRestarted);\n\n                if (t._animationTimeRestarted = void 0, e > 0) return void t._restartInterval(e);\n              }\n\n              t.isCursorVisible = !1, t._animationFrame = window.requestAnimationFrame(function () {\n                t._renderCallback(), t._animationFrame = void 0;\n              }), t._blinkInterval = window.setInterval(function () {\n                if (t._animationTimeRestarted) {\n                  var e = u - (Date.now() - t._animationTimeRestarted);\n\n                  return t._animationTimeRestarted = void 0, void t._restartInterval(e);\n                }\n\n                t.isCursorVisible = !t.isCursorVisible, t._animationFrame = window.requestAnimationFrame(function () {\n                  t._renderCallback(), t._animationFrame = void 0;\n                });\n              }, u);\n            }, e);\n          }, e.prototype.pause = function () {\n            this.isCursorVisible = !0, this._blinkInterval && (window.clearInterval(this._blinkInterval), this._blinkInterval = void 0), this._blinkStartTimeout && (window.clearTimeout(this._blinkStartTimeout), this._blinkStartTimeout = void 0), this._animationFrame && (window.cancelAnimationFrame(this._animationFrame), this._animationFrame = void 0);\n          }, e.prototype.resume = function () {\n            this.pause(), this._animationTimeRestarted = void 0, this._restartInterval(), this.restartBlinkAnimation();\n          }, e;\n        }();\n      },\n      8978: (e, t, r) => {\n        var i, n, o, s, a, c, l, h, u, f, _, d, p, v, g, y, m, S, C, b, w, L, E, x, M, k, A, R, O, T, B, D, P, I, H, F, j, W, U, q, N, z, K, G, V, X, Y, Z, J, $, Q, ee, te, re, ie, ne, oe, se, ae, ce, le, he, ue, fe, _e, de, pe, ve, ge, ye, me, Se, Ce, be, we, Le, Ee, xe, Me, ke, Ae, Re, Oe, Te, Be, De, Pe, Ie, He, Fe, je, We, Ue, qe, Ne, ze, Ke, Ge, Ve, Xe, Ye, Ze, Je, $e, Qe, et, tt, rt, it, nt, ot, st, at, ct, lt, ht, ut, ft, _t, dt, pt, vt, gt, yt, mt, St, Ct, bt;\n\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.tryDrawCustomChar = t.boxDrawingDefinitions = t.blockElementDefinitions = void 0;\n        var wt = r(1752);\n        t.blockElementDefinitions = {\n          \"â\": [{\n            x: 0,\n            y: 0,\n            w: 8,\n            h: 4\n          }],\n          \"â\": [{\n            x: 0,\n            y: 7,\n            w: 8,\n            h: 1\n          }],\n          \"â\": [{\n            x: 0,\n            y: 6,\n            w: 8,\n            h: 2\n          }],\n          \"â\": [{\n            x: 0,\n            y: 5,\n            w: 8,\n            h: 3\n          }],\n          \"â\": [{\n            x: 0,\n            y: 4,\n            w: 8,\n            h: 4\n          }],\n          \"â\": [{\n            x: 0,\n            y: 3,\n            w: 8,\n            h: 5\n          }],\n          \"â\": [{\n            x: 0,\n            y: 2,\n            w: 8,\n            h: 6\n          }],\n          \"â\": [{\n            x: 0,\n            y: 1,\n            w: 8,\n            h: 7\n          }],\n          \"â\": [{\n            x: 0,\n            y: 0,\n            w: 8,\n            h: 8\n          }],\n          \"â\": [{\n            x: 0,\n            y: 0,\n            w: 7,\n            h: 8\n          }],\n          \"â\": [{\n            x: 0,\n            y: 0,\n            w: 6,\n            h: 8\n          }],\n          \"â\": [{\n            x: 0,\n            y: 0,\n            w: 5,\n            h: 8\n          }],\n          \"â\": [{\n            x: 0,\n            y: 0,\n            w: 4,\n            h: 8\n          }],\n          \"â\": [{\n            x: 0,\n            y: 0,\n            w: 3,\n            h: 8\n          }],\n          \"â\": [{\n            x: 0,\n            y: 0,\n            w: 2,\n            h: 8\n          }],\n          \"â\": [{\n            x: 0,\n            y: 0,\n            w: 1,\n            h: 8\n          }],\n          \"â\": [{\n            x: 4,\n            y: 0,\n            w: 4,\n            h: 8\n          }],\n          \"â\": [{\n            x: 0,\n            y: 0,\n            w: 9,\n            h: 1\n          }],\n          \"â\": [{\n            x: 7,\n            y: 0,\n            w: 1,\n            h: 8\n          }],\n          \"â\": [{\n            x: 0,\n            y: 4,\n            w: 4,\n            h: 4\n          }],\n          \"â\": [{\n            x: 4,\n            y: 4,\n            w: 4,\n            h: 4\n          }],\n          \"â\": [{\n            x: 0,\n            y: 0,\n            w: 4,\n            h: 4\n          }],\n          \"â\": [{\n            x: 0,\n            y: 0,\n            w: 4,\n            h: 8\n          }, {\n            x: 0,\n            y: 4,\n            w: 8,\n            h: 4\n          }],\n          \"â\": [{\n            x: 0,\n            y: 0,\n            w: 4,\n            h: 4\n          }, {\n            x: 4,\n            y: 4,\n            w: 4,\n            h: 4\n          }],\n          \"â\": [{\n            x: 0,\n            y: 0,\n            w: 4,\n            h: 8\n          }, {\n            x: 0,\n            y: 0,\n            w: 4,\n            h: 8\n          }],\n          \"â\": [{\n            x: 0,\n            y: 0,\n            w: 8,\n            h: 4\n          }, {\n            x: 4,\n            y: 0,\n            w: 4,\n            h: 8\n          }],\n          \"â\": [{\n            x: 4,\n            y: 0,\n            w: 4,\n            h: 4\n          }],\n          \"â\": [{\n            x: 4,\n            y: 0,\n            w: 4,\n            h: 4\n          }, {\n            x: 0,\n            y: 4,\n            w: 4,\n            h: 4\n          }],\n          \"â\": [{\n            x: 4,\n            y: 0,\n            w: 4,\n            h: 8\n          }, {\n            x: 0,\n            y: 4,\n            w: 8,\n            h: 4\n          }],\n          \"ð­°\": [{\n            x: 1,\n            y: 0,\n            w: 1,\n            h: 8\n          }],\n          \"ð­±\": [{\n            x: 2,\n            y: 0,\n            w: 1,\n            h: 8\n          }],\n          \"ð­²\": [{\n            x: 3,\n            y: 0,\n            w: 1,\n            h: 8\n          }],\n          \"ð­³\": [{\n            x: 4,\n            y: 0,\n            w: 1,\n            h: 8\n          }],\n          \"ð­´\": [{\n            x: 5,\n            y: 0,\n            w: 1,\n            h: 8\n          }],\n          \"ð­µ\": [{\n            x: 6,\n            y: 0,\n            w: 1,\n            h: 8\n          }],\n          \"ð­¶\": [{\n            x: 0,\n            y: 1,\n            w: 8,\n            h: 1\n          }],\n          \"ð­·\": [{\n            x: 0,\n            y: 2,\n            w: 8,\n            h: 1\n          }],\n          \"ð­¸\": [{\n            x: 0,\n            y: 3,\n            w: 8,\n            h: 1\n          }],\n          \"ð­¹\": [{\n            x: 0,\n            y: 4,\n            w: 8,\n            h: 1\n          }],\n          \"ð­º\": [{\n            x: 0,\n            y: 5,\n            w: 8,\n            h: 1\n          }],\n          \"ð­»\": [{\n            x: 0,\n            y: 6,\n            w: 8,\n            h: 1\n          }],\n          \"ð­¼\": [{\n            x: 0,\n            y: 0,\n            w: 1,\n            h: 8\n          }, {\n            x: 0,\n            y: 7,\n            w: 8,\n            h: 1\n          }],\n          \"ð­½\": [{\n            x: 0,\n            y: 0,\n            w: 1,\n            h: 8\n          }, {\n            x: 0,\n            y: 0,\n            w: 8,\n            h: 1\n          }],\n          \"ð­¾\": [{\n            x: 7,\n            y: 0,\n            w: 1,\n            h: 8\n          }, {\n            x: 0,\n            y: 0,\n            w: 8,\n            h: 1\n          }],\n          \"ð­¿\": [{\n            x: 7,\n            y: 0,\n            w: 1,\n            h: 8\n          }, {\n            x: 0,\n            y: 7,\n            w: 8,\n            h: 1\n          }],\n          \"ð®\": [{\n            x: 0,\n            y: 0,\n            w: 8,\n            h: 1\n          }, {\n            x: 0,\n            y: 7,\n            w: 8,\n            h: 1\n          }],\n          \"ð®\": [{\n            x: 0,\n            y: 0,\n            w: 8,\n            h: 1\n          }, {\n            x: 0,\n            y: 2,\n            w: 8,\n            h: 1\n          }, {\n            x: 0,\n            y: 4,\n            w: 8,\n            h: 1\n          }, {\n            x: 0,\n            y: 7,\n            w: 8,\n            h: 1\n          }],\n          \"ð®\": [{\n            x: 0,\n            y: 0,\n            w: 8,\n            h: 2\n          }],\n          \"ð®\": [{\n            x: 0,\n            y: 0,\n            w: 8,\n            h: 3\n          }],\n          \"ð®\": [{\n            x: 0,\n            y: 0,\n            w: 8,\n            h: 5\n          }],\n          \"ð®\": [{\n            x: 0,\n            y: 0,\n            w: 8,\n            h: 6\n          }],\n          \"ð®\": [{\n            x: 0,\n            y: 0,\n            w: 8,\n            h: 7\n          }],\n          \"ð®\": [{\n            x: 6,\n            y: 0,\n            w: 2,\n            h: 8\n          }],\n          \"ð®\": [{\n            x: 5,\n            y: 0,\n            w: 3,\n            h: 8\n          }],\n          \"ð®\": [{\n            x: 3,\n            y: 0,\n            w: 5,\n            h: 8\n          }],\n          \"ð®\": [{\n            x: 2,\n            y: 0,\n            w: 6,\n            h: 8\n          }],\n          \"ð®\": [{\n            x: 1,\n            y: 0,\n            w: 7,\n            h: 8\n          }],\n          \"ð®\": [{\n            x: 0,\n            y: 0,\n            w: 2,\n            h: 2\n          }, {\n            x: 4,\n            y: 0,\n            w: 2,\n            h: 2\n          }, {\n            x: 2,\n            y: 2,\n            w: 2,\n            h: 2\n          }, {\n            x: 6,\n            y: 2,\n            w: 2,\n            h: 2\n          }, {\n            x: 0,\n            y: 4,\n            w: 2,\n            h: 2\n          }, {\n            x: 4,\n            y: 4,\n            w: 2,\n            h: 2\n          }, {\n            x: 2,\n            y: 6,\n            w: 2,\n            h: 2\n          }, {\n            x: 6,\n            y: 6,\n            w: 2,\n            h: 2\n          }],\n          \"ð®\": [{\n            x: 2,\n            y: 0,\n            w: 2,\n            h: 2\n          }, {\n            x: 6,\n            y: 0,\n            w: 2,\n            h: 2\n          }, {\n            x: 0,\n            y: 2,\n            w: 2,\n            h: 2\n          }, {\n            x: 4,\n            y: 2,\n            w: 2,\n            h: 2\n          }, {\n            x: 2,\n            y: 4,\n            w: 2,\n            h: 2\n          }, {\n            x: 6,\n            y: 4,\n            w: 2,\n            h: 2\n          }, {\n            x: 0,\n            y: 6,\n            w: 2,\n            h: 2\n          }, {\n            x: 4,\n            y: 6,\n            w: 2,\n            h: 2\n          }],\n          \"ð®\": [{\n            x: 0,\n            y: 2,\n            w: 8,\n            h: 2\n          }, {\n            x: 0,\n            y: 6,\n            w: 8,\n            h: 2\n          }]\n        };\n        var Lt = {\n          \"â\": [[1, 0, 0, 0], [0, 0, 0, 0], [0, 0, 1, 0], [0, 0, 0, 0]],\n          \"â\": [[1, 0], [0, 0], [0, 1], [0, 0]],\n          \"â\": [[0, 1], [1, 1], [1, 0], [1, 1]]\n        };\n        t.boxDrawingDefinitions = {\n          \"â\": (i = {}, i[1] = \"M0,.5 L1,.5\", i),\n          \"â\": (n = {}, n[3] = \"M0,.5 L1,.5\", n),\n          \"â\": (o = {}, o[1] = \"M.5,0 L.5,1\", o),\n          \"â\": (s = {}, s[3] = \"M.5,0 L.5,1\", s),\n          \"â\": (a = {}, a[1] = \"M0.5,1 L.5,.5 L1,.5\", a),\n          \"â\": (c = {}, c[3] = \"M0.5,1 L.5,.5 L1,.5\", c),\n          \"â\": (l = {}, l[1] = \"M0,.5 L.5,.5 L.5,1\", l),\n          \"â\": (h = {}, h[3] = \"M0,.5 L.5,.5 L.5,1\", h),\n          \"â\": (u = {}, u[1] = \"M.5,0 L.5,.5 L1,.5\", u),\n          \"â\": (f = {}, f[3] = \"M.5,0 L.5,.5 L1,.5\", f),\n          \"â\": (_ = {}, _[1] = \"M.5,0 L.5,.5 L0,.5\", _),\n          \"â\": (d = {}, d[3] = \"M.5,0 L.5,.5 L0,.5\", d),\n          \"â\": (p = {}, p[1] = \"M.5,0 L.5,1 M.5,.5 L1,.5\", p),\n          \"â£\": (v = {}, v[3] = \"M.5,0 L.5,1 M.5,.5 L1,.5\", v),\n          \"â¤\": (g = {}, g[1] = \"M.5,0 L.5,1 M.5,.5 L0,.5\", g),\n          \"â«\": (y = {}, y[3] = \"M.5,0 L.5,1 M.5,.5 L0,.5\", y),\n          \"â¬\": (m = {}, m[1] = \"M0,.5 L1,.5 M.5,.5 L.5,1\", m),\n          \"â³\": (S = {}, S[3] = \"M0,.5 L1,.5 M.5,.5 L.5,1\", S),\n          \"â´\": (C = {}, C[1] = \"M0,.5 L1,.5 M.5,.5 L.5,0\", C),\n          \"â»\": (b = {}, b[3] = \"M0,.5 L1,.5 M.5,.5 L.5,0\", b),\n          \"â¼\": (w = {}, w[1] = \"M0,.5 L1,.5 M.5,0 L.5,1\", w),\n          \"â\": (L = {}, L[3] = \"M0,.5 L1,.5 M.5,0 L.5,1\", L),\n          \"â´\": (E = {}, E[1] = \"M.5,.5 L0,.5\", E),\n          \"â¸\": (x = {}, x[3] = \"M.5,.5 L0,.5\", x),\n          \"âµ\": (M = {}, M[1] = \"M.5,.5 L.5,0\", M),\n          \"â¹\": (k = {}, k[3] = \"M.5,.5 L.5,0\", k),\n          \"â¶\": (A = {}, A[1] = \"M.5,.5 L1,.5\", A),\n          \"âº\": (R = {}, R[3] = \"M.5,.5 L1,.5\", R),\n          \"â·\": (O = {}, O[1] = \"M.5,.5 L.5,1\", O),\n          \"â»\": (T = {}, T[3] = \"M.5,.5 L.5,1\", T),\n          \"â\": (B = {}, B[1] = function (e, t) {\n            return \"M0,\" + (.5 - t) + \" L1,\" + (.5 - t) + \" M0,\" + (.5 + t) + \" L1,\" + (.5 + t);\n          }, B),\n          \"â\": (D = {}, D[1] = function (e, t) {\n            return \"M\" + (.5 - e) + \",0 L\" + (.5 - e) + \",1 M\" + (.5 + e) + \",0 L\" + (.5 + e) + \",1\";\n          }, D),\n          \"â\": (P = {}, P[1] = function (e, t) {\n            return \"M.5,1 L.5,\" + (.5 - t) + \" L1,\" + (.5 - t) + \" M.5,\" + (.5 + t) + \" L1,\" + (.5 + t);\n          }, P),\n          \"â\": (I = {}, I[1] = function (e, t) {\n            return \"M\" + (.5 - e) + \",1 L\" + (.5 - e) + \",.5 L1,.5 M\" + (.5 + e) + \",.5 L\" + (.5 + e) + \",1\";\n          }, I),\n          \"â\": (H = {}, H[1] = function (e, t) {\n            return \"M1,\" + (.5 - t) + \" L\" + (.5 - e) + \",\" + (.5 - t) + \" L\" + (.5 - e) + \",1 M1,\" + (.5 + t) + \" L\" + (.5 + e) + \",\" + (.5 + t) + \" L\" + (.5 + e) + \",1\";\n          }, H),\n          \"â\": (F = {}, F[1] = function (e, t) {\n            return \"M0,\" + (.5 - t) + \" L.5,\" + (.5 - t) + \" L.5,1 M0,\" + (.5 + t) + \" L.5,\" + (.5 + t);\n          }, F),\n          \"â\": (j = {}, j[1] = function (e, t) {\n            return \"M\" + (.5 + e) + \",1 L\" + (.5 + e) + \",.5 L0,.5 M\" + (.5 - e) + \",.5 L\" + (.5 - e) + \",1\";\n          }, j),\n          \"â\": (W = {}, W[1] = function (e, t) {\n            return \"M0,\" + (.5 + t) + \" L\" + (.5 - e) + \",\" + (.5 + t) + \" L\" + (.5 - e) + \",1 M0,\" + (.5 - t) + \" L\" + (.5 + e) + \",\" + (.5 - t) + \" L\" + (.5 + e) + \",1\";\n          }, W),\n          \"â\": (U = {}, U[1] = function (e, t) {\n            return \"M.5,0 L.5,\" + (.5 + t) + \" L1,\" + (.5 + t) + \" M.5,\" + (.5 - t) + \" L1,\" + (.5 - t);\n          }, U),\n          \"â\": (q = {}, q[1] = function (e, t) {\n            return \"M1,.5 L\" + (.5 - e) + \",.5 L\" + (.5 - e) + \",0 M\" + (.5 + e) + \",.5 L\" + (.5 + e) + \",0\";\n          }, q),\n          \"â\": (N = {}, N[1] = function (e, t) {\n            return \"M1,\" + (.5 - t) + \" L\" + (.5 + e) + \",\" + (.5 - t) + \" L\" + (.5 + e) + \",0 M1,\" + (.5 + t) + \" L\" + (.5 - e) + \",\" + (.5 + t) + \" L\" + (.5 - e) + \",0\";\n          }, N),\n          \"â\": (z = {}, z[1] = function (e, t) {\n            return \"M0,\" + (.5 + t) + \" L.5,\" + (.5 + t) + \" L.5,0 M0,\" + (.5 - t) + \" L.5,\" + (.5 - t);\n          }, z),\n          \"â\": (K = {}, K[1] = function (e, t) {\n            return \"M0,.5 L\" + (.5 + e) + \",.5 L\" + (.5 + e) + \",0 M\" + (.5 - e) + \",.5 L\" + (.5 - e) + \",0\";\n          }, K),\n          \"â\": (G = {}, G[1] = function (e, t) {\n            return \"M0,\" + (.5 - t) + \" L\" + (.5 - e) + \",\" + (.5 - t) + \" L\" + (.5 - e) + \",0 M0,\" + (.5 + t) + \" L\" + (.5 + e) + \",\" + (.5 + t) + \" L\" + (.5 + e) + \",0\";\n          }, G),\n          \"â\": (V = {}, V[1] = function (e, t) {\n            return \"M.5,0 L.5,1 M.5,\" + (.5 - t) + \" L1,\" + (.5 - t) + \" M.5,\" + (.5 + t) + \" L1,\" + (.5 + t);\n          }, V),\n          \"â\": (X = {}, X[1] = function (e, t) {\n            return \"M\" + (.5 - e) + \",0 L\" + (.5 - e) + \",1 M\" + (.5 + e) + \",0 L\" + (.5 + e) + \",1 M\" + (.5 + e) + \",.5 L1,.5\";\n          }, X),\n          \"â \": (Y = {}, Y[1] = function (e, t) {\n            return \"M\" + (.5 - e) + \",0 L\" + (.5 - e) + \",1 M1,\" + (.5 + t) + \" L\" + (.5 + e) + \",\" + (.5 + t) + \" L\" + (.5 + e) + \",1 M1,\" + (.5 - t) + \" L\" + (.5 + e) + \",\" + (.5 - t) + \" L\" + (.5 + e) + \",0\";\n          }, Y),\n          \"â¡\": (Z = {}, Z[1] = function (e, t) {\n            return \"M.5,0 L.5,1 M0,\" + (.5 - t) + \" L.5,\" + (.5 - t) + \" M0,\" + (.5 + t) + \" L.5,\" + (.5 + t);\n          }, Z),\n          \"â¢\": (J = {}, J[1] = function (e, t) {\n            return \"M0,.5 L\" + (.5 - e) + \",.5 M\" + (.5 - e) + \",0 L\" + (.5 - e) + \",1 M\" + (.5 + e) + \",0 L\" + (.5 + e) + \",1\";\n          }, J),\n          \"â£\": ($ = {}, $[1] = function (e, t) {\n            return \"M\" + (.5 + e) + \",0 L\" + (.5 + e) + \",1 M0,\" + (.5 + t) + \" L\" + (.5 - e) + \",\" + (.5 + t) + \" L\" + (.5 - e) + \",1 M0,\" + (.5 - t) + \" L\" + (.5 - e) + \",\" + (.5 - t) + \" L\" + (.5 - e) + \",0\";\n          }, $),\n          \"â¤\": (Q = {}, Q[1] = function (e, t) {\n            return \"M0,\" + (.5 - t) + \" L1,\" + (.5 - t) + \" M0,\" + (.5 + t) + \" L1,\" + (.5 + t) + \" M.5,\" + (.5 + t) + \" L.5,1\";\n          }, Q),\n          \"â¥\": (ee = {}, ee[1] = function (e, t) {\n            return \"M0,.5 L1,.5 M\" + (.5 - e) + \",.5 L\" + (.5 - e) + \",1 M\" + (.5 + e) + \",.5 L\" + (.5 + e) + \",1\";\n          }, ee),\n          \"â¦\": (te = {}, te[1] = function (e, t) {\n            return \"M0,\" + (.5 - t) + \" L1,\" + (.5 - t) + \" M0,\" + (.5 + t) + \" L\" + (.5 - e) + \",\" + (.5 + t) + \" L\" + (.5 - e) + \",1 M1,\" + (.5 + t) + \" L\" + (.5 + e) + \",\" + (.5 + t) + \" L\" + (.5 + e) + \",1\";\n          }, te),\n          \"â§\": (re = {}, re[1] = function (e, t) {\n            return \"M.5,0 L.5,\" + (.5 - t) + \" M0,\" + (.5 - t) + \" L1,\" + (.5 - t) + \" M0,\" + (.5 + t) + \" L1,\" + (.5 + t);\n          }, re),\n          \"â¨\": (ie = {}, ie[1] = function (e, t) {\n            return \"M0,.5 L1,.5 M\" + (.5 - e) + \",.5 L\" + (.5 - e) + \",0 M\" + (.5 + e) + \",.5 L\" + (.5 + e) + \",0\";\n          }, ie),\n          \"â©\": (ne = {}, ne[1] = function (e, t) {\n            return \"M0,\" + (.5 + t) + \" L1,\" + (.5 + t) + \" M0,\" + (.5 - t) + \" L\" + (.5 - e) + \",\" + (.5 - t) + \" L\" + (.5 - e) + \",0 M1,\" + (.5 - t) + \" L\" + (.5 + e) + \",\" + (.5 - t) + \" L\" + (.5 + e) + \",0\";\n          }, ne),\n          \"âª\": (oe = {}, oe[1] = function (e, t) {\n            return \"M.5,0 L.5,1 M0,\" + (.5 - t) + \" L1,\" + (.5 - t) + \" M0,\" + (.5 + t) + \" L1,\" + (.5 + t);\n          }, oe),\n          \"â«\": (se = {}, se[1] = function (e, t) {\n            return \"M0,.5 L1,.5 M\" + (.5 - e) + \",0 L\" + (.5 - e) + \",1 M\" + (.5 + e) + \",0 L\" + (.5 + e) + \",1\";\n          }, se),\n          \"â¬\": (ae = {}, ae[1] = function (e, t) {\n            return \"M0,\" + (.5 + t) + \" L\" + (.5 - e) + \",\" + (.5 + t) + \" L\" + (.5 - e) + \",1 M1,\" + (.5 + t) + \" L\" + (.5 + e) + \",\" + (.5 + t) + \" L\" + (.5 + e) + \",1 M0,\" + (.5 - t) + \" L\" + (.5 - e) + \",\" + (.5 - t) + \" L\" + (.5 - e) + \",0 M1,\" + (.5 - t) + \" L\" + (.5 + e) + \",\" + (.5 - t) + \" L\" + (.5 + e) + \",0\";\n          }, ae),\n          \"â±\": (ce = {}, ce[1] = \"M1,0 L0,1\", ce),\n          \"â²\": (le = {}, le[1] = \"M0,0 L1,1\", le),\n          \"â³\": (he = {}, he[1] = \"M1,0 L0,1 M0,0 L1,1\", he),\n          \"â¼\": (ue = {}, ue[1] = \"M.5,.5 L0,.5\", ue[3] = \"M.5,.5 L1,.5\", ue),\n          \"â½\": (fe = {}, fe[1] = \"M.5,.5 L.5,0\", fe[3] = \"M.5,.5 L.5,1\", fe),\n          \"â¾\": (_e = {}, _e[1] = \"M.5,.5 L1,.5\", _e[3] = \"M.5,.5 L0,.5\", _e),\n          \"â¿\": (de = {}, de[1] = \"M.5,.5 L.5,1\", de[3] = \"M.5,.5 L.5,0\", de),\n          \"â\": (pe = {}, pe[1] = \"M.5,.5 L.5,1\", pe[3] = \"M.5,.5 L1,.5\", pe),\n          \"â\": (ve = {}, ve[1] = \"M.5,.5 L1,.5\", ve[3] = \"M.5,.5 L.5,1\", ve),\n          \"â\": (ge = {}, ge[1] = \"M.5,.5 L.5,1\", ge[3] = \"M.5,.5 L0,.5\", ge),\n          \"â\": (ye = {}, ye[1] = \"M.5,.5 L0,.5\", ye[3] = \"M.5,.5 L.5,1\", ye),\n          \"â\": (me = {}, me[1] = \"M.5,.5 L.5,0\", me[3] = \"M.5,.5 L1,.5\", me),\n          \"â\": (Se = {}, Se[1] = \"M.5,.5 L1,.5\", Se[3] = \"M.5,.5 L.5,0\", Se),\n          \"â\": (Ce = {}, Ce[1] = \"M.5,.5 L.5,0\", Ce[3] = \"M.5,.5 L0,.5\", Ce),\n          \"â\": (be = {}, be[1] = \"M.5,.5 L0,.5\", be[3] = \"M.5,.5 L.5,0\", be),\n          \"â\": (we = {}, we[1] = \"M.5,0 L.5,1\", we[3] = \"M.5,.5 L1,.5\", we),\n          \"â\": (Le = {}, Le[1] = \"M0.5,1 L.5,.5 L1,.5\", Le[3] = \"M.5,.5 L.5,0\", Le),\n          \"â\": (Ee = {}, Ee[1] = \"M.5,0 L.5,.5 L1,.5\", Ee[3] = \"M.5,.5 L.5,1\", Ee),\n          \"â \": (xe = {}, xe[1] = \"M.5,.5 L1,.5\", xe[3] = \"M.5,0 L.5,1\", xe),\n          \"â¡\": (Me = {}, Me[1] = \"M.5,.5 L.5,1\", Me[3] = \"M.5,0 L.5,.5 L1,.5\", Me),\n          \"â¢\": (ke = {}, ke[1] = \"M.5,.5 L.5,0\", ke[3] = \"M0.5,1 L.5,.5 L1,.5\", ke),\n          \"â¥\": (Ae = {}, Ae[1] = \"M.5,0 L.5,1\", Ae[3] = \"M.5,.5 L0,.5\", Ae),\n          \"â¦\": (Re = {}, Re[1] = \"M0,.5 L.5,.5 L.5,1\", Re[3] = \"M.5,.5 L.5,0\", Re),\n          \"â§\": (Oe = {}, Oe[1] = \"M.5,0 L.5,.5 L0,.5\", Oe[3] = \"M.5,.5 L.5,1\", Oe),\n          \"â¨\": (Te = {}, Te[1] = \"M.5,.5 L0,.5\", Te[3] = \"M.5,0 L.5,1\", Te),\n          \"â©\": (Be = {}, Be[1] = \"M.5,.5 L.5,1\", Be[3] = \"M.5,0 L.5,.5 L0,.5\", Be),\n          \"âª\": (De = {}, De[1] = \"M.5,.5 L.5,0\", De[3] = \"M0,.5 L.5,.5 L.5,1\", De),\n          \"â­\": (Pe = {}, Pe[1] = \"M0.5,1 L.5,.5 L1,.5\", Pe[3] = \"M.5,.5 L0,.5\", Pe),\n          \"â®\": (Ie = {}, Ie[1] = \"M0,.5 L.5,.5 L.5,1\", Ie[3] = \"M.5,.5 L1,.5\", Ie),\n          \"â¯\": (He = {}, He[1] = \"M.5,.5 L.5,1\", He[3] = \"M0,.5 L1,.5\", He),\n          \"â°\": (Fe = {}, Fe[1] = \"M0,.5 L1,.5\", Fe[3] = \"M.5,.5 L.5,1\", Fe),\n          \"â±\": (je = {}, je[1] = \"M.5,.5 L1,.5\", je[3] = \"M0,.5 L.5,.5 L.5,1\", je),\n          \"â²\": (We = {}, We[1] = \"M.5,.5 L0,.5\", We[3] = \"M0.5,1 L.5,.5 L1,.5\", We),\n          \"âµ\": (Ue = {}, Ue[1] = \"M.5,0 L.5,.5 L1,.5\", Ue[3] = \"M.5,.5 L0,.5\", Ue),\n          \"â¶\": (qe = {}, qe[1] = \"M.5,0 L.5,.5 L0,.5\", qe[3] = \"M.5,.5 L1,.5\", qe),\n          \"â·\": (Ne = {}, Ne[1] = \"M.5,.5 L.5,0\", Ne[3] = \"M0,.5 L1,.5\", Ne),\n          \"â¸\": (ze = {}, ze[1] = \"M0,.5 L1,.5\", ze[3] = \"M.5,.5 L.5,0\", ze),\n          \"â¹\": (Ke = {}, Ke[1] = \"M.5,.5 L1,.5\", Ke[3] = \"M.5,0 L.5,.5 L0,.5\", Ke),\n          \"âº\": (Ge = {}, Ge[1] = \"M.5,.5 L0,.5\", Ge[3] = \"M.5,0 L.5,.5 L1,.5\", Ge),\n          \"â½\": (Ve = {}, Ve[1] = \"M.5,0 L.5,1 M.5,.5 L1,.5\", Ve[3] = \"M.5,.5 L0,.5\", Ve),\n          \"â¾\": (Xe = {}, Xe[1] = \"M.5,0 L.5,1 M.5,.5 L0,.5\", Xe[3] = \"M.5,.5 L1,.5\", Xe),\n          \"â¿\": (Ye = {}, Ye[1] = \"M.5,0 L.5,1\", Ye[3] = \"M0,.5 L1,.5\", Ye),\n          \"â\": (Ze = {}, Ze[1] = \"M0,.5 L1,.5 M.5,.5 L.5,1\", Ze[3] = \"M.5,.5 L.5,0\", Ze),\n          \"â\": (Je = {}, Je[1] = \"M.5,.5 L.5,0 M0,.5 L1,.5\", Je[3] = \"M.5,.5 L.5,1\", Je),\n          \"â\": ($e = {}, $e[1] = \"M0,.5 L1,.5\", $e[3] = \"M.5,0 L.5,1\", $e),\n          \"â\": (Qe = {}, Qe[1] = \"M0.5,1 L.5,.5 L1,.5\", Qe[3] = \"M.5,0 L.5,.5 L0,.5\", Qe),\n          \"â\": (et = {}, et[1] = \"M0,.5 L.5,.5 L.5,1\", et[3] = \"M.5,0 L.5,.5 L1,.5\", et),\n          \"â\": (tt = {}, tt[1] = \"M.5,0 L.5,.5 L1,.5\", tt[3] = \"M0,.5 L.5,.5 L.5,1\", tt),\n          \"â\": (rt = {}, rt[1] = \"M.5,0 L.5,.5 L0,.5\", rt[3] = \"M0.5,1 L.5,.5 L1,.5\", rt),\n          \"â\": (it = {}, it[1] = \"M.5,.5 L.5,1\", it[3] = \"M.5,.5 L.5,0 M0,.5 L1,.5\", it),\n          \"â\": (nt = {}, nt[1] = \"M.5,.5 L.5,0\", nt[3] = \"M0,.5 L1,.5 M.5,.5 L.5,1\", nt),\n          \"â\": (ot = {}, ot[1] = \"M.5,.5 L1,.5\", ot[3] = \"M.5,0 L.5,1 M.5,.5 L0,.5\", ot),\n          \"â\": (st = {}, st[1] = \"M.5,.5 L0,.5\", st[3] = \"M.5,0 L.5,1 M.5,.5 L1,.5\", st),\n          \"â\": (at = {}, at[1] = \"M.1,.5 L.4,.5 M.6,.5 L.9,.5\", at),\n          \"â\": (ct = {}, ct[3] = \"M.1,.5 L.4,.5 M.6,.5 L.9,.5\", ct),\n          \"â\": (lt = {}, lt[1] = \"M.0667,.5 L.2667,.5 M.4,.5 L.6,.5 M.7333,.5 L.9333,.5\", lt),\n          \"â\": (ht = {}, ht[3] = \"M.0667,.5 L.2667,.5 M.4,.5 L.6,.5 M.7333,.5 L.9333,.5\", ht),\n          \"â\": (ut = {}, ut[1] = \"M.05,.5 L.2,.5 M.3,.5 L.45,.5 M.55,.5 L.7,.5 M.8,.5 L.95,.5\", ut),\n          \"â\": (ft = {}, ft[3] = \"M.05,.5 L.2,.5 M.3,.5 L.45,.5 M.55,.5 L.7,.5 M.8,.5 L.95,.5\", ft),\n          \"â\": (_t = {}, _t[1] = \"M.5,.1 L.5,.4 M.5,.6 L.5,.9\", _t),\n          \"â\": (dt = {}, dt[3] = \"M.5,.1 L.5,.4 M.5,.6 L.5,.9\", dt),\n          \"â\": (pt = {}, pt[1] = \"M.5,.0667 L.5,.2667 M.5,.4 L.5,.6 M.5,.7333 L.5,.9333\", pt),\n          \"â\": (vt = {}, vt[3] = \"M.5,.0667 L.5,.2667 M.5,.4 L.5,.6 M.5,.7333 L.5,.9333\", vt),\n          \"â\": (gt = {}, gt[1] = \"M.5,.05 L.5,.2 M.5,.3 L.5,.45 L.5,.55 M.5,.7 L.5,.95\", gt),\n          \"â\": (yt = {}, yt[3] = \"M.5,.05 L.5,.2 M.5,.3 L.5,.45 L.5,.55 M.5,.7 L.5,.95\", yt),\n          \"â­\": (mt = {}, mt[1] = \"C.5,1,.5,.5,1,.5\", mt),\n          \"â®\": (St = {}, St[1] = \"C.5,1,.5,.5,0,.5\", St),\n          \"â¯\": (Ct = {}, Ct[1] = \"C.5,0,.5,.5,0,.5\", Ct),\n          \"â°\": (bt = {}, bt[1] = \"C.5,0,.5,.5,1,.5\", bt)\n        }, t.tryDrawCustomChar = function (e, r, i, n, o, s) {\n          var a = t.blockElementDefinitions[r];\n          if (a) return function (e, t, r, i, n, o) {\n            for (var s = 0; s < t.length; s++) {\n              var a = t[s],\n                  c = n / 8,\n                  l = o / 8;\n              e.fillRect(r + a.x * c, i + a.y * l, a.w * c, a.h * l);\n            }\n          }(e, a, i, n, o, s), !0;\n          var c = Lt[r];\n          if (c) return function (e, t, r, i, n, o) {\n            var s,\n                a = Et.get(t);\n            a || (a = new Map(), Et.set(t, a));\n            var c = e.fillStyle;\n            if (\"string\" != typeof c) throw new Error('Unexpected fillStyle type \"' + c + '\"');\n            var l = a.get(c);\n\n            if (!l) {\n              var h = t[0].length,\n                  u = t.length,\n                  f = document.createElement(\"canvas\");\n              f.width = h, f.height = u;\n\n              var _ = (0, wt.throwIfFalsy)(f.getContext(\"2d\")),\n                  d = new ImageData(h, u),\n                  p = void 0,\n                  v = void 0,\n                  g = void 0,\n                  y = void 0;\n\n              if (c.startsWith(\"#\")) p = parseInt(c.substr(1, 2), 16), v = parseInt(c.substr(3, 2), 16), g = parseInt(c.substr(5, 2), 16), y = c.length > 7 && parseInt(c.substr(7, 2), 16) || 1;else {\n                if (!c.startsWith(\"rgba\")) throw new Error('Unexpected fillStyle color format \"' + c + '\" when drawing pattern glyph');\n                p = (s = c.substring(5, c.length - 1).split(\",\").map(function (e) {\n                  return parseFloat(e);\n                }))[0], v = s[1], g = s[2], y = s[3];\n              }\n\n              for (var m = 0; m < u; m++) for (var S = 0; S < h; S++) d.data[4 * (m * h + S)] = p, d.data[4 * (m * h + S) + 1] = v, d.data[4 * (m * h + S) + 2] = g, d.data[4 * (m * h + S) + 3] = t[m][S] * (255 * y);\n\n              _.putImageData(d, 0, 0), l = (0, wt.throwIfFalsy)(e.createPattern(f, null)), a.set(c, l);\n            }\n\n            e.fillStyle = l, e.fillRect(r, i, n, o);\n          }(e, c, i, n, o, s), !0;\n          var l = t.boxDrawingDefinitions[r];\n          return !!l && (function (e, t, r, i, n, o) {\n            e.strokeStyle = e.fillStyle;\n\n            for (var s = 0, a = Object.entries(t); s < a.length; s++) {\n              var c = a[s],\n                  l = c[0],\n                  h = c[1];\n              e.beginPath(), e.lineWidth = window.devicePixelRatio * Number.parseInt(l);\n\n              for (var u = 0, f = (\"function\" == typeof h ? h(.15, .15 / o * n) : h).split(\" \"); u < f.length; u++) {\n                var _ = f[u],\n                    d = _[0],\n                    p = Mt[d];\n\n                if (p) {\n                  var v = _.substring(1).split(\",\");\n\n                  v[0] && v[1] && p(e, kt(v, n, o, r, i));\n                } else console.error('Could not find drawing instructions for \"' + d + '\"');\n              }\n\n              e.stroke(), e.closePath();\n            }\n          }(e, l, i, n, o, s), !0);\n        };\n        var Et = new Map();\n\n        function xt(e, t, r) {\n          return void 0 === r && (r = 0), Math.max(Math.min(e, t), r);\n        }\n\n        var Mt = {\n          C: function (e, t) {\n            return e.bezierCurveTo(t[0], t[1], t[2], t[3], t[4], t[5]);\n          },\n          L: function (e, t) {\n            return e.lineTo(t[0], t[1]);\n          },\n          M: function (e, t) {\n            return e.moveTo(t[0], t[1]);\n          }\n        };\n\n        function kt(e, t, r, i, n) {\n          var o = e.map(function (e) {\n            return parseFloat(e) || parseInt(e);\n          });\n          if (o.length < 2) throw new Error(\"Too few arguments for instruction\");\n\n          for (var s = 0; s < o.length; s += 2) o[s] *= t, 0 !== o[s] && (o[s] = xt(Math.round(o[s] + .5) - .5, t, 0)), o[s] += i;\n\n          for (var a = 1; a < o.length; a += 2) o[a] *= r, 0 !== o[a] && (o[a] = xt(Math.round(o[a] + .5) - .5, r, 0)), o[a] += n;\n\n          return o;\n        }\n      },\n      3700: (e, t) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.GridCache = void 0;\n\n        var r = function () {\n          function e() {\n            this.cache = [];\n          }\n\n          return e.prototype.resize = function (e, t) {\n            for (var r = 0; r < e; r++) {\n              this.cache.length <= r && this.cache.push([]);\n\n              for (var i = this.cache[r].length; i < t; i++) this.cache[r].push(void 0);\n\n              this.cache[r].length = t;\n            }\n\n            this.cache.length = e;\n          }, e.prototype.clear = function () {\n            for (var e = 0; e < this.cache.length; e++) for (var t = 0; t < this.cache[e].length; t++) this.cache[e][t] = void 0;\n          }, e;\n        }();\n\n        t.GridCache = r;\n      },\n      5098: function (e, t, r) {\n        var i,\n            n = this && this.__extends || (i = function (e, t) {\n          return i = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (e, t) {\n            e.__proto__ = t;\n          } || function (e, t) {\n            for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);\n          }, i(e, t);\n        }, function (e, t) {\n          if (\"function\" != typeof t && null !== t) throw new TypeError(\"Class extends value \" + String(t) + \" is not a constructor or null\");\n\n          function r() {\n            this.constructor = e;\n          }\n\n          i(e, t), e.prototype = null === t ? Object.create(t) : (r.prototype = t.prototype, new r());\n        }),\n            o = this && this.__decorate || function (e, t, r, i) {\n          var n,\n              o = arguments.length,\n              s = o < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, r) : i;\n          if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.decorate) s = Reflect.decorate(e, t, r, i);else for (var a = e.length - 1; a >= 0; a--) (n = e[a]) && (s = (o < 3 ? n(s) : o > 3 ? n(t, r, s) : n(t, r)) || s);\n          return o > 3 && s && Object.defineProperty(t, r, s), s;\n        },\n            s = this && this.__param || function (e, t) {\n          return function (r, i) {\n            t(r, i, e);\n          };\n        };\n\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.LinkRenderLayer = void 0;\n\n        var a = r(1546),\n            c = r(8803),\n            l = r(2040),\n            h = r(2585),\n            u = function (e) {\n          function t(t, r, i, n, o, s, a, c) {\n            var l = e.call(this, t, \"link\", r, !0, i, n, a, c) || this;\n            return o.onShowLinkUnderline(function (e) {\n              return l._onShowLinkUnderline(e);\n            }), o.onHideLinkUnderline(function (e) {\n              return l._onHideLinkUnderline(e);\n            }), s.onShowLinkUnderline(function (e) {\n              return l._onShowLinkUnderline(e);\n            }), s.onHideLinkUnderline(function (e) {\n              return l._onHideLinkUnderline(e);\n            }), l;\n          }\n\n          return n(t, e), t.prototype.resize = function (t) {\n            e.prototype.resize.call(this, t), this._state = void 0;\n          }, t.prototype.reset = function () {\n            this._clearCurrentLink();\n          }, t.prototype._clearCurrentLink = function () {\n            if (this._state) {\n              this._clearCells(this._state.x1, this._state.y1, this._state.cols - this._state.x1, 1);\n\n              var e = this._state.y2 - this._state.y1 - 1;\n              e > 0 && this._clearCells(0, this._state.y1 + 1, this._state.cols, e), this._clearCells(0, this._state.y2, this._state.x2, 1), this._state = void 0;\n            }\n          }, t.prototype._onShowLinkUnderline = function (e) {\n            if (e.fg === c.INVERTED_DEFAULT_COLOR ? this._ctx.fillStyle = this._colors.background.css : e.fg && (0, l.is256Color)(e.fg) ? this._ctx.fillStyle = this._colors.ansi[e.fg].css : this._ctx.fillStyle = this._colors.foreground.css, e.y1 === e.y2) this._fillBottomLineAtCells(e.x1, e.y1, e.x2 - e.x1);else {\n              this._fillBottomLineAtCells(e.x1, e.y1, e.cols - e.x1);\n\n              for (var t = e.y1 + 1; t < e.y2; t++) this._fillBottomLineAtCells(0, t, e.cols);\n\n              this._fillBottomLineAtCells(0, e.y2, e.x2);\n            }\n            this._state = e;\n          }, t.prototype._onHideLinkUnderline = function (e) {\n            this._clearCurrentLink();\n          }, o([s(6, h.IBufferService), s(7, h.IOptionsService)], t);\n        }(a.BaseRenderLayer);\n\n        t.LinkRenderLayer = u;\n      },\n      3525: function (e, t, r) {\n        var i,\n            n = this && this.__extends || (i = function (e, t) {\n          return i = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (e, t) {\n            e.__proto__ = t;\n          } || function (e, t) {\n            for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);\n          }, i(e, t);\n        }, function (e, t) {\n          if (\"function\" != typeof t && null !== t) throw new TypeError(\"Class extends value \" + String(t) + \" is not a constructor or null\");\n\n          function r() {\n            this.constructor = e;\n          }\n\n          i(e, t), e.prototype = null === t ? Object.create(t) : (r.prototype = t.prototype, new r());\n        }),\n            o = this && this.__decorate || function (e, t, r, i) {\n          var n,\n              o = arguments.length,\n              s = o < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, r) : i;\n          if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.decorate) s = Reflect.decorate(e, t, r, i);else for (var a = e.length - 1; a >= 0; a--) (n = e[a]) && (s = (o < 3 ? n(s) : o > 3 ? n(t, r, s) : n(t, r)) || s);\n          return o > 3 && s && Object.defineProperty(t, r, s), s;\n        },\n            s = this && this.__param || function (e, t) {\n          return function (r, i) {\n            t(r, i, e);\n          };\n        };\n\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.Renderer = void 0;\n\n        var a = r(9596),\n            c = r(4149),\n            l = r(2512),\n            h = r(5098),\n            u = r(844),\n            f = r(4725),\n            _ = r(2585),\n            d = r(1420),\n            p = r(8460),\n            v = 1,\n            g = function (e) {\n          function t(t, r, i, n, o, s, u, f) {\n            var _ = e.call(this) || this;\n\n            _._colors = t, _._screenElement = r, _._bufferService = s, _._charSizeService = u, _._optionsService = f, _._id = v++, _._onRequestRedraw = new p.EventEmitter();\n            var d = _._optionsService.rawOptions.allowTransparency;\n            return _._renderLayers = [o.createInstance(a.TextRenderLayer, _._screenElement, 0, _._colors, d, _._id), o.createInstance(c.SelectionRenderLayer, _._screenElement, 1, _._colors, _._id), o.createInstance(h.LinkRenderLayer, _._screenElement, 2, _._colors, _._id, i, n), o.createInstance(l.CursorRenderLayer, _._screenElement, 3, _._colors, _._id, _._onRequestRedraw)], _.dimensions = {\n              scaledCharWidth: 0,\n              scaledCharHeight: 0,\n              scaledCellWidth: 0,\n              scaledCellHeight: 0,\n              scaledCharLeft: 0,\n              scaledCharTop: 0,\n              scaledCanvasWidth: 0,\n              scaledCanvasHeight: 0,\n              canvasWidth: 0,\n              canvasHeight: 0,\n              actualCellWidth: 0,\n              actualCellHeight: 0\n            }, _._devicePixelRatio = window.devicePixelRatio, _._updateDimensions(), _.onOptionsChanged(), _;\n          }\n\n          return n(t, e), Object.defineProperty(t.prototype, \"onRequestRedraw\", {\n            get: function () {\n              return this._onRequestRedraw.event;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), t.prototype.dispose = function () {\n            for (var t = 0, r = this._renderLayers; t < r.length; t++) r[t].dispose();\n\n            e.prototype.dispose.call(this), (0, d.removeTerminalFromCache)(this._id);\n          }, t.prototype.onDevicePixelRatioChange = function () {\n            this._devicePixelRatio !== window.devicePixelRatio && (this._devicePixelRatio = window.devicePixelRatio, this.onResize(this._bufferService.cols, this._bufferService.rows));\n          }, t.prototype.setColors = function (e) {\n            this._colors = e;\n\n            for (var t = 0, r = this._renderLayers; t < r.length; t++) {\n              var i = r[t];\n              i.setColors(this._colors), i.reset();\n            }\n          }, t.prototype.onResize = function (e, t) {\n            this._updateDimensions();\n\n            for (var r = 0, i = this._renderLayers; r < i.length; r++) i[r].resize(this.dimensions);\n\n            this._screenElement.style.width = this.dimensions.canvasWidth + \"px\", this._screenElement.style.height = this.dimensions.canvasHeight + \"px\";\n          }, t.prototype.onCharSizeChanged = function () {\n            this.onResize(this._bufferService.cols, this._bufferService.rows);\n          }, t.prototype.onBlur = function () {\n            this._runOperation(function (e) {\n              return e.onBlur();\n            });\n          }, t.prototype.onFocus = function () {\n            this._runOperation(function (e) {\n              return e.onFocus();\n            });\n          }, t.prototype.onSelectionChanged = function (e, t, r) {\n            void 0 === r && (r = !1), this._runOperation(function (i) {\n              return i.onSelectionChanged(e, t, r);\n            });\n          }, t.prototype.onCursorMove = function () {\n            this._runOperation(function (e) {\n              return e.onCursorMove();\n            });\n          }, t.prototype.onOptionsChanged = function () {\n            this._runOperation(function (e) {\n              return e.onOptionsChanged();\n            });\n          }, t.prototype.clear = function () {\n            this._runOperation(function (e) {\n              return e.reset();\n            });\n          }, t.prototype._runOperation = function (e) {\n            for (var t = 0, r = this._renderLayers; t < r.length; t++) e(r[t]);\n          }, t.prototype.renderRows = function (e, t) {\n            for (var r = 0, i = this._renderLayers; r < i.length; r++) i[r].onGridChanged(e, t);\n          }, t.prototype.clearTextureAtlas = function () {\n            for (var e = 0, t = this._renderLayers; e < t.length; e++) t[e].clearTextureAtlas();\n          }, t.prototype._updateDimensions = function () {\n            this._charSizeService.hasValidSize && (this.dimensions.scaledCharWidth = Math.floor(this._charSizeService.width * window.devicePixelRatio), this.dimensions.scaledCharHeight = Math.ceil(this._charSizeService.height * window.devicePixelRatio), this.dimensions.scaledCellHeight = Math.floor(this.dimensions.scaledCharHeight * this._optionsService.rawOptions.lineHeight), this.dimensions.scaledCharTop = 1 === this._optionsService.rawOptions.lineHeight ? 0 : Math.round((this.dimensions.scaledCellHeight - this.dimensions.scaledCharHeight) / 2), this.dimensions.scaledCellWidth = this.dimensions.scaledCharWidth + Math.round(this._optionsService.rawOptions.letterSpacing), this.dimensions.scaledCharLeft = Math.floor(this._optionsService.rawOptions.letterSpacing / 2), this.dimensions.scaledCanvasHeight = this._bufferService.rows * this.dimensions.scaledCellHeight, this.dimensions.scaledCanvasWidth = this._bufferService.cols * this.dimensions.scaledCellWidth, this.dimensions.canvasHeight = Math.round(this.dimensions.scaledCanvasHeight / window.devicePixelRatio), this.dimensions.canvasWidth = Math.round(this.dimensions.scaledCanvasWidth / window.devicePixelRatio), this.dimensions.actualCellHeight = this.dimensions.canvasHeight / this._bufferService.rows, this.dimensions.actualCellWidth = this.dimensions.canvasWidth / this._bufferService.cols);\n          }, o([s(4, _.IInstantiationService), s(5, _.IBufferService), s(6, f.ICharSizeService), s(7, _.IOptionsService)], t);\n        }(u.Disposable);\n\n        t.Renderer = g;\n      },\n      1752: (e, t) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.throwIfFalsy = void 0, t.throwIfFalsy = function (e) {\n          if (!e) throw new Error(\"value must not be falsy\");\n          return e;\n        };\n      },\n      4149: function (e, t, r) {\n        var i,\n            n = this && this.__extends || (i = function (e, t) {\n          return i = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (e, t) {\n            e.__proto__ = t;\n          } || function (e, t) {\n            for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);\n          }, i(e, t);\n        }, function (e, t) {\n          if (\"function\" != typeof t && null !== t) throw new TypeError(\"Class extends value \" + String(t) + \" is not a constructor or null\");\n\n          function r() {\n            this.constructor = e;\n          }\n\n          i(e, t), e.prototype = null === t ? Object.create(t) : (r.prototype = t.prototype, new r());\n        }),\n            o = this && this.__decorate || function (e, t, r, i) {\n          var n,\n              o = arguments.length,\n              s = o < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, r) : i;\n          if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.decorate) s = Reflect.decorate(e, t, r, i);else for (var a = e.length - 1; a >= 0; a--) (n = e[a]) && (s = (o < 3 ? n(s) : o > 3 ? n(t, r, s) : n(t, r)) || s);\n          return o > 3 && s && Object.defineProperty(t, r, s), s;\n        },\n            s = this && this.__param || function (e, t) {\n          return function (r, i) {\n            t(r, i, e);\n          };\n        };\n\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.SelectionRenderLayer = void 0;\n\n        var a = r(1546),\n            c = r(2585),\n            l = function (e) {\n          function t(t, r, i, n, o, s) {\n            var a = e.call(this, t, \"selection\", r, !0, i, n, o, s) || this;\n            return a._clearState(), a;\n          }\n\n          return n(t, e), t.prototype._clearState = function () {\n            this._state = {\n              start: void 0,\n              end: void 0,\n              columnSelectMode: void 0,\n              ydisp: void 0\n            };\n          }, t.prototype.resize = function (t) {\n            e.prototype.resize.call(this, t), this._clearState();\n          }, t.prototype.reset = function () {\n            this._state.start && this._state.end && (this._clearState(), this._clearAll());\n          }, t.prototype.onSelectionChanged = function (e, t, r) {\n            if (this._didStateChange(e, t, r, this._bufferService.buffer.ydisp)) if (this._clearAll(), e && t) {\n              var i = e[1] - this._bufferService.buffer.ydisp,\n                  n = t[1] - this._bufferService.buffer.ydisp,\n                  o = Math.max(i, 0),\n                  s = Math.min(n, this._bufferService.rows - 1);\n              if (o >= this._bufferService.rows || s < 0) this._state.ydisp = this._bufferService.buffer.ydisp;else {\n                if (this._ctx.fillStyle = this._colors.selectionTransparent.css, r) {\n                  var a = e[0],\n                      c = t[0] - a,\n                      l = s - o + 1;\n\n                  this._fillCells(a, o, c, l);\n                } else {\n                  a = i === o ? e[0] : 0;\n                  var h = o === n ? t[0] : this._bufferService.cols;\n\n                  this._fillCells(a, o, h - a, 1);\n\n                  var u = Math.max(s - o - 1, 0);\n\n                  if (this._fillCells(0, o + 1, this._bufferService.cols, u), o !== s) {\n                    var f = n === s ? t[0] : this._bufferService.cols;\n\n                    this._fillCells(0, s, f, 1);\n                  }\n                }\n\n                this._state.start = [e[0], e[1]], this._state.end = [t[0], t[1]], this._state.columnSelectMode = r, this._state.ydisp = this._bufferService.buffer.ydisp;\n              }\n            } else this._clearState();\n          }, t.prototype._didStateChange = function (e, t, r, i) {\n            return !this._areCoordinatesEqual(e, this._state.start) || !this._areCoordinatesEqual(t, this._state.end) || r !== this._state.columnSelectMode || i !== this._state.ydisp;\n          }, t.prototype._areCoordinatesEqual = function (e, t) {\n            return !(!e || !t) && e[0] === t[0] && e[1] === t[1];\n          }, o([s(4, c.IBufferService), s(5, c.IOptionsService)], t);\n        }(a.BaseRenderLayer);\n\n        t.SelectionRenderLayer = l;\n      },\n      9596: function (e, t, r) {\n        var i,\n            n = this && this.__extends || (i = function (e, t) {\n          return i = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (e, t) {\n            e.__proto__ = t;\n          } || function (e, t) {\n            for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);\n          }, i(e, t);\n        }, function (e, t) {\n          if (\"function\" != typeof t && null !== t) throw new TypeError(\"Class extends value \" + String(t) + \" is not a constructor or null\");\n\n          function r() {\n            this.constructor = e;\n          }\n\n          i(e, t), e.prototype = null === t ? Object.create(t) : (r.prototype = t.prototype, new r());\n        }),\n            o = this && this.__decorate || function (e, t, r, i) {\n          var n,\n              o = arguments.length,\n              s = o < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, r) : i;\n          if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.decorate) s = Reflect.decorate(e, t, r, i);else for (var a = e.length - 1; a >= 0; a--) (n = e[a]) && (s = (o < 3 ? n(s) : o > 3 ? n(t, r, s) : n(t, r)) || s);\n          return o > 3 && s && Object.defineProperty(t, r, s), s;\n        },\n            s = this && this.__param || function (e, t) {\n          return function (r, i) {\n            t(r, i, e);\n          };\n        };\n\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.TextRenderLayer = void 0;\n\n        var a = r(3700),\n            c = r(1546),\n            l = r(3734),\n            h = r(643),\n            u = r(511),\n            f = r(2585),\n            _ = r(4725),\n            d = r(4269),\n            p = function (e) {\n          function t(t, r, i, n, o, s, c, l) {\n            var h = e.call(this, t, \"text\", r, n, i, o, s, c) || this;\n            return h._characterJoinerService = l, h._characterWidth = 0, h._characterFont = \"\", h._characterOverlapCache = {}, h._workCell = new u.CellData(), h._state = new a.GridCache(), h;\n          }\n\n          return n(t, e), t.prototype.resize = function (t) {\n            e.prototype.resize.call(this, t);\n\n            var r = this._getFont(!1, !1);\n\n            this._characterWidth === t.scaledCharWidth && this._characterFont === r || (this._characterWidth = t.scaledCharWidth, this._characterFont = r, this._characterOverlapCache = {}), this._state.clear(), this._state.resize(this._bufferService.cols, this._bufferService.rows);\n          }, t.prototype.reset = function () {\n            this._state.clear(), this._clearAll();\n          }, t.prototype._forEachCell = function (e, t, r) {\n            for (var i = e; i <= t; i++) for (var n = i + this._bufferService.buffer.ydisp, o = this._bufferService.buffer.lines.get(n), s = this._characterJoinerService.getJoinedCharacters(n), a = 0; a < this._bufferService.cols; a++) {\n              o.loadCell(a, this._workCell);\n              var c = this._workCell,\n                  l = !1,\n                  u = a;\n\n              if (0 !== c.getWidth()) {\n                if (s.length > 0 && a === s[0][0]) {\n                  l = !0;\n                  var f = s.shift();\n                  c = new d.JoinedCellData(this._workCell, o.translateToString(!0, f[0], f[1]), f[1] - f[0]), u = f[1] - 1;\n                }\n\n                !l && this._isOverlapping(c) && u < o.length - 1 && o.getCodePoint(u + 1) === h.NULL_CELL_CODE && (c.content &= -12582913, c.content |= 2 << 22), r(c, a, i), a = u;\n              }\n            }\n          }, t.prototype._drawBackground = function (e, t) {\n            var r = this,\n                i = this._ctx,\n                n = this._bufferService.cols,\n                o = 0,\n                s = 0,\n                a = null;\n            i.save(), this._forEachCell(e, t, function (e, t, c) {\n              var h = null;\n              e.isInverse() ? h = e.isFgDefault() ? r._colors.foreground.css : e.isFgRGB() ? \"rgb(\" + l.AttributeData.toColorRGB(e.getFgColor()).join(\",\") + \")\" : r._colors.ansi[e.getFgColor()].css : e.isBgRGB() ? h = \"rgb(\" + l.AttributeData.toColorRGB(e.getBgColor()).join(\",\") + \")\" : e.isBgPalette() && (h = r._colors.ansi[e.getBgColor()].css), null === a && (o = t, s = c), c !== s ? (i.fillStyle = a || \"\", r._fillCells(o, s, n - o, 1), o = t, s = c) : a !== h && (i.fillStyle = a || \"\", r._fillCells(o, s, t - o, 1), o = t, s = c), a = h;\n            }), null !== a && (i.fillStyle = a, this._fillCells(o, s, n - o, 1)), i.restore();\n          }, t.prototype._drawForeground = function (e, t) {\n            var r = this;\n\n            this._forEachCell(e, t, function (e, t, i) {\n              if (!e.isInvisible() && (r._drawChars(e, t, i), e.isUnderline() || e.isStrikethrough())) {\n                if (r._ctx.save(), e.isInverse()) {\n                  if (e.isBgDefault()) r._ctx.fillStyle = r._colors.background.css;else if (e.isBgRGB()) r._ctx.fillStyle = \"rgb(\" + l.AttributeData.toColorRGB(e.getBgColor()).join(\",\") + \")\";else {\n                    var n = e.getBgColor();\n                    r._optionsService.rawOptions.drawBoldTextInBrightColors && e.isBold() && n < 8 && (n += 8), r._ctx.fillStyle = r._colors.ansi[n].css;\n                  }\n                } else if (e.isFgDefault()) r._ctx.fillStyle = r._colors.foreground.css;else if (e.isFgRGB()) r._ctx.fillStyle = \"rgb(\" + l.AttributeData.toColorRGB(e.getFgColor()).join(\",\") + \")\";else {\n                  var o = e.getFgColor();\n                  r._optionsService.rawOptions.drawBoldTextInBrightColors && e.isBold() && o < 8 && (o += 8), r._ctx.fillStyle = r._colors.ansi[o].css;\n                }\n                e.isStrikethrough() && r._fillMiddleLineAtCells(t, i, e.getWidth()), e.isUnderline() && r._fillBottomLineAtCells(t, i, e.getWidth()), r._ctx.restore();\n              }\n            });\n          }, t.prototype.onGridChanged = function (e, t) {\n            0 !== this._state.cache.length && (this._charAtlas && this._charAtlas.beginFrame(), this._clearCells(0, e, this._bufferService.cols, t - e + 1), this._drawBackground(e, t), this._drawForeground(e, t));\n          }, t.prototype.onOptionsChanged = function () {\n            this._setTransparency(this._optionsService.rawOptions.allowTransparency);\n          }, t.prototype._isOverlapping = function (e) {\n            if (1 !== e.getWidth()) return !1;\n            if (e.getCode() < 256) return !1;\n            var t = e.getChars();\n            if (this._characterOverlapCache.hasOwnProperty(t)) return this._characterOverlapCache[t];\n            this._ctx.save(), this._ctx.font = this._characterFont;\n\n            var r = Math.floor(this._ctx.measureText(t).width) > this._characterWidth;\n\n            return this._ctx.restore(), this._characterOverlapCache[t] = r, r;\n          }, o([s(5, f.IBufferService), s(6, f.IOptionsService), s(7, _.ICharacterJoinerService)], t);\n        }(c.BaseRenderLayer);\n\n        t.TextRenderLayer = p;\n      },\n      9616: (e, t) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.BaseCharAtlas = void 0;\n\n        var r = function () {\n          function e() {\n            this._didWarmUp = !1;\n          }\n\n          return e.prototype.dispose = function () {}, e.prototype.warmUp = function () {\n            this._didWarmUp || (this._doWarmUp(), this._didWarmUp = !0);\n          }, e.prototype._doWarmUp = function () {}, e.prototype.clear = function () {}, e.prototype.beginFrame = function () {}, e;\n        }();\n\n        t.BaseCharAtlas = r;\n      },\n      1420: (e, t, r) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.removeTerminalFromCache = t.acquireCharAtlas = void 0;\n        var i = r(2040),\n            n = r(1906),\n            o = [];\n        t.acquireCharAtlas = function (e, t, r, s, a) {\n          for (var c = (0, i.generateConfig)(s, a, e, r), l = 0; l < o.length; l++) {\n            var h = (u = o[l]).ownedBy.indexOf(t);\n\n            if (h >= 0) {\n              if ((0, i.configEquals)(u.config, c)) return u.atlas;\n              1 === u.ownedBy.length ? (u.atlas.dispose(), o.splice(l, 1)) : u.ownedBy.splice(h, 1);\n              break;\n            }\n          }\n\n          for (l = 0; l < o.length; l++) {\n            var u = o[l];\n            if ((0, i.configEquals)(u.config, c)) return u.ownedBy.push(t), u.atlas;\n          }\n\n          var f = {\n            atlas: new n.DynamicCharAtlas(document, c),\n            config: c,\n            ownedBy: [t]\n          };\n          return o.push(f), f.atlas;\n        }, t.removeTerminalFromCache = function (e) {\n          for (var t = 0; t < o.length; t++) {\n            var r = o[t].ownedBy.indexOf(e);\n\n            if (-1 !== r) {\n              1 === o[t].ownedBy.length ? (o[t].atlas.dispose(), o.splice(t, 1)) : o[t].ownedBy.splice(r, 1);\n              break;\n            }\n          }\n        };\n      },\n      2040: function (e, t, r) {\n        var i = this && this.__spreadArray || function (e, t, r) {\n          if (r || 2 === arguments.length) for (var i, n = 0, o = t.length; n < o; n++) !i && n in t || (i || (i = Array.prototype.slice.call(t, 0, n)), i[n] = t[n]);\n          return e.concat(i || Array.prototype.slice.call(t));\n        };\n\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.is256Color = t.configEquals = t.generateConfig = void 0;\n        var n = r(643);\n        t.generateConfig = function (e, t, r, n) {\n          var o = {\n            foreground: n.foreground,\n            background: n.background,\n            cursor: void 0,\n            cursorAccent: void 0,\n            selection: void 0,\n            ansi: i([], n.ansi, !0)\n          };\n          return {\n            devicePixelRatio: window.devicePixelRatio,\n            scaledCharWidth: e,\n            scaledCharHeight: t,\n            fontFamily: r.fontFamily,\n            fontSize: r.fontSize,\n            fontWeight: r.fontWeight,\n            fontWeightBold: r.fontWeightBold,\n            allowTransparency: r.allowTransparency,\n            colors: o\n          };\n        }, t.configEquals = function (e, t) {\n          for (var r = 0; r < e.colors.ansi.length; r++) if (e.colors.ansi[r].rgba !== t.colors.ansi[r].rgba) return !1;\n\n          return e.devicePixelRatio === t.devicePixelRatio && e.fontFamily === t.fontFamily && e.fontSize === t.fontSize && e.fontWeight === t.fontWeight && e.fontWeightBold === t.fontWeightBold && e.allowTransparency === t.allowTransparency && e.scaledCharWidth === t.scaledCharWidth && e.scaledCharHeight === t.scaledCharHeight && e.colors.foreground === t.colors.foreground && e.colors.background === t.colors.background;\n        }, t.is256Color = function (e) {\n          return e < n.DEFAULT_COLOR;\n        };\n      },\n      8803: (e, t, r) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.CHAR_ATLAS_CELL_SPACING = t.TEXT_BASELINE = t.DIM_OPACITY = t.INVERTED_DEFAULT_COLOR = void 0;\n        var i = r(6114);\n        t.INVERTED_DEFAULT_COLOR = 257, t.DIM_OPACITY = .5, t.TEXT_BASELINE = i.isFirefox || i.isLegacyEdge ? \"bottom\" : \"ideographic\", t.CHAR_ATLAS_CELL_SPACING = 1;\n      },\n      1906: function (e, t, r) {\n        var i,\n            n = this && this.__extends || (i = function (e, t) {\n          return i = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (e, t) {\n            e.__proto__ = t;\n          } || function (e, t) {\n            for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);\n          }, i(e, t);\n        }, function (e, t) {\n          if (\"function\" != typeof t && null !== t) throw new TypeError(\"Class extends value \" + String(t) + \" is not a constructor or null\");\n\n          function r() {\n            this.constructor = e;\n          }\n\n          i(e, t), e.prototype = null === t ? Object.create(t) : (r.prototype = t.prototype, new r());\n        });\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.NoneCharAtlas = t.DynamicCharAtlas = t.getGlyphCacheKey = void 0;\n        var o = r(8803),\n            s = r(9616),\n            a = r(5680),\n            c = r(7001),\n            l = r(6114),\n            h = r(1752),\n            u = r(4774),\n            f = 1024,\n            _ = 1024,\n            d = {\n          css: \"rgba(0, 0, 0, 0)\",\n          rgba: 0\n        };\n\n        function p(e) {\n          return e.code << 21 | e.bg << 12 | e.fg << 3 | (e.bold ? 0 : 4) + (e.dim ? 0 : 2) + (e.italic ? 0 : 1);\n        }\n\n        t.getGlyphCacheKey = p;\n\n        var v = function (e) {\n          function t(t, r) {\n            var i = e.call(this) || this;\n            i._config = r, i._drawToCacheCount = 0, i._glyphsWaitingOnBitmap = [], i._bitmapCommitTimeout = null, i._bitmap = null, i._cacheCanvas = t.createElement(\"canvas\"), i._cacheCanvas.width = f, i._cacheCanvas.height = _, i._cacheCtx = (0, h.throwIfFalsy)(i._cacheCanvas.getContext(\"2d\", {\n              alpha: !0\n            }));\n            var n = t.createElement(\"canvas\");\n            n.width = i._config.scaledCharWidth, n.height = i._config.scaledCharHeight, i._tmpCtx = (0, h.throwIfFalsy)(n.getContext(\"2d\", {\n              alpha: i._config.allowTransparency\n            })), i._width = Math.floor(f / i._config.scaledCharWidth), i._height = Math.floor(_ / i._config.scaledCharHeight);\n            var o = i._width * i._height;\n            return i._cacheMap = new c.LRUMap(o), i._cacheMap.prealloc(o), i;\n          }\n\n          return n(t, e), t.prototype.dispose = function () {\n            null !== this._bitmapCommitTimeout && (window.clearTimeout(this._bitmapCommitTimeout), this._bitmapCommitTimeout = null);\n          }, t.prototype.beginFrame = function () {\n            this._drawToCacheCount = 0;\n          }, t.prototype.clear = function () {\n            if (this._cacheMap.size > 0) {\n              var e = this._width * this._height;\n              this._cacheMap = new c.LRUMap(e), this._cacheMap.prealloc(e);\n            }\n\n            this._cacheCtx.clearRect(0, 0, f, _), this._tmpCtx.clearRect(0, 0, this._config.scaledCharWidth, this._config.scaledCharHeight);\n          }, t.prototype.draw = function (e, t, r, i) {\n            if (32 === t.code) return !0;\n            if (!this._canCache(t)) return !1;\n\n            var n = p(t),\n                o = this._cacheMap.get(n);\n\n            if (null != o) return this._drawFromCache(e, o, r, i), !0;\n\n            if (this._drawToCacheCount < 100) {\n              var s;\n              s = this._cacheMap.size < this._cacheMap.capacity ? this._cacheMap.size : this._cacheMap.peek().index;\n\n              var a = this._drawToCache(t, s);\n\n              return this._cacheMap.set(n, a), this._drawFromCache(e, a, r, i), !0;\n            }\n\n            return !1;\n          }, t.prototype._canCache = function (e) {\n            return e.code < 256;\n          }, t.prototype._toCoordinateX = function (e) {\n            return e % this._width * this._config.scaledCharWidth;\n          }, t.prototype._toCoordinateY = function (e) {\n            return Math.floor(e / this._width) * this._config.scaledCharHeight;\n          }, t.prototype._drawFromCache = function (e, t, r, i) {\n            if (!t.isEmpty) {\n              var n = this._toCoordinateX(t.index),\n                  o = this._toCoordinateY(t.index);\n\n              e.drawImage(t.inBitmap ? this._bitmap : this._cacheCanvas, n, o, this._config.scaledCharWidth, this._config.scaledCharHeight, r, i, this._config.scaledCharWidth, this._config.scaledCharHeight);\n            }\n          }, t.prototype._getColorFromAnsiIndex = function (e) {\n            return e < this._config.colors.ansi.length ? this._config.colors.ansi[e] : a.DEFAULT_ANSI_COLORS[e];\n          }, t.prototype._getBackgroundColor = function (e) {\n            return this._config.allowTransparency ? d : e.bg === o.INVERTED_DEFAULT_COLOR ? this._config.colors.foreground : e.bg < 256 ? this._getColorFromAnsiIndex(e.bg) : this._config.colors.background;\n          }, t.prototype._getForegroundColor = function (e) {\n            return e.fg === o.INVERTED_DEFAULT_COLOR ? u.color.opaque(this._config.colors.background) : e.fg < 256 ? this._getColorFromAnsiIndex(e.fg) : this._config.colors.foreground;\n          }, t.prototype._drawToCache = function (e, t) {\n            this._drawToCacheCount++, this._tmpCtx.save();\n\n            var r = this._getBackgroundColor(e);\n\n            this._tmpCtx.globalCompositeOperation = \"copy\", this._tmpCtx.fillStyle = r.css, this._tmpCtx.fillRect(0, 0, this._config.scaledCharWidth, this._config.scaledCharHeight), this._tmpCtx.globalCompositeOperation = \"source-over\";\n            var i = e.bold ? this._config.fontWeightBold : this._config.fontWeight,\n                n = e.italic ? \"italic\" : \"\";\n            this._tmpCtx.font = n + \" \" + i + \" \" + this._config.fontSize * this._config.devicePixelRatio + \"px \" + this._config.fontFamily, this._tmpCtx.textBaseline = o.TEXT_BASELINE, this._tmpCtx.fillStyle = this._getForegroundColor(e).css, e.dim && (this._tmpCtx.globalAlpha = o.DIM_OPACITY), this._tmpCtx.fillText(e.chars, 0, this._config.scaledCharHeight);\n\n            var s = this._tmpCtx.getImageData(0, 0, this._config.scaledCharWidth, this._config.scaledCharHeight),\n                a = !1;\n\n            if (this._config.allowTransparency || (a = y(s, r)), a && \"_\" === e.chars && !this._config.allowTransparency) for (var c = 1; c <= 5 && (this._tmpCtx.fillText(e.chars, 0, this._config.scaledCharHeight - c), a = y(s = this._tmpCtx.getImageData(0, 0, this._config.scaledCharWidth, this._config.scaledCharHeight), r)); c++);\n\n            this._tmpCtx.restore();\n\n            var l = this._toCoordinateX(t),\n                h = this._toCoordinateY(t);\n\n            this._cacheCtx.putImageData(s, l, h);\n\n            var u = {\n              index: t,\n              isEmpty: a,\n              inBitmap: !1\n            };\n            return this._addGlyphToBitmap(u), u;\n          }, t.prototype._addGlyphToBitmap = function (e) {\n            var t = this;\n            !(\"createImageBitmap\" in window) || l.isFirefox || l.isSafari || (this._glyphsWaitingOnBitmap.push(e), null === this._bitmapCommitTimeout && (this._bitmapCommitTimeout = window.setTimeout(function () {\n              return t._generateBitmap();\n            }, 100)));\n          }, t.prototype._generateBitmap = function () {\n            var e = this,\n                t = this._glyphsWaitingOnBitmap;\n            this._glyphsWaitingOnBitmap = [], window.createImageBitmap(this._cacheCanvas).then(function (r) {\n              e._bitmap = r;\n\n              for (var i = 0; i < t.length; i++) t[i].inBitmap = !0;\n            }), this._bitmapCommitTimeout = null;\n          }, t;\n        }(s.BaseCharAtlas);\n\n        t.DynamicCharAtlas = v;\n\n        var g = function (e) {\n          function t(t, r) {\n            return e.call(this) || this;\n          }\n\n          return n(t, e), t.prototype.draw = function (e, t, r, i) {\n            return !1;\n          }, t;\n        }(s.BaseCharAtlas);\n\n        function y(e, t) {\n          for (var r = !0, i = t.rgba >>> 24, n = t.rgba >>> 16 & 255, o = t.rgba >>> 8 & 255, s = 0; s < e.data.length; s += 4) e.data[s] === i && e.data[s + 1] === n && e.data[s + 2] === o ? e.data[s + 3] = 0 : r = !1;\n\n          return r;\n        }\n\n        t.NoneCharAtlas = g;\n      },\n      7001: (e, t) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.LRUMap = void 0;\n\n        var r = function () {\n          function e(e) {\n            this.capacity = e, this._map = {}, this._head = null, this._tail = null, this._nodePool = [], this.size = 0;\n          }\n\n          return e.prototype._unlinkNode = function (e) {\n            var t = e.prev,\n                r = e.next;\n            e === this._head && (this._head = r), e === this._tail && (this._tail = t), null !== t && (t.next = r), null !== r && (r.prev = t);\n          }, e.prototype._appendNode = function (e) {\n            var t = this._tail;\n            null !== t && (t.next = e), e.prev = t, e.next = null, this._tail = e, null === this._head && (this._head = e);\n          }, e.prototype.prealloc = function (e) {\n            for (var t = this._nodePool, r = 0; r < e; r++) t.push({\n              prev: null,\n              next: null,\n              key: null,\n              value: null\n            });\n          }, e.prototype.get = function (e) {\n            var t = this._map[e];\n            return void 0 !== t ? (this._unlinkNode(t), this._appendNode(t), t.value) : null;\n          }, e.prototype.peekValue = function (e) {\n            var t = this._map[e];\n            return void 0 !== t ? t.value : null;\n          }, e.prototype.peek = function () {\n            var e = this._head;\n            return null === e ? null : e.value;\n          }, e.prototype.set = function (e, t) {\n            var r = this._map[e];\n            if (void 0 !== r) r = this._map[e], this._unlinkNode(r), r.value = t;else if (this.size >= this.capacity) r = this._head, this._unlinkNode(r), delete this._map[r.key], r.key = e, r.value = t, this._map[e] = r;else {\n              var i = this._nodePool;\n              i.length > 0 ? ((r = i.pop()).key = e, r.value = t) : r = {\n                prev: null,\n                next: null,\n                key: e,\n                value: t\n              }, this._map[e] = r, this.size++;\n            }\n\n            this._appendNode(r);\n          }, e;\n        }();\n\n        t.LRUMap = r;\n      },\n      1296: function (e, t, r) {\n        var i,\n            n = this && this.__extends || (i = function (e, t) {\n          return i = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (e, t) {\n            e.__proto__ = t;\n          } || function (e, t) {\n            for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);\n          }, i(e, t);\n        }, function (e, t) {\n          if (\"function\" != typeof t && null !== t) throw new TypeError(\"Class extends value \" + String(t) + \" is not a constructor or null\");\n\n          function r() {\n            this.constructor = e;\n          }\n\n          i(e, t), e.prototype = null === t ? Object.create(t) : (r.prototype = t.prototype, new r());\n        }),\n            o = this && this.__decorate || function (e, t, r, i) {\n          var n,\n              o = arguments.length,\n              s = o < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, r) : i;\n          if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.decorate) s = Reflect.decorate(e, t, r, i);else for (var a = e.length - 1; a >= 0; a--) (n = e[a]) && (s = (o < 3 ? n(s) : o > 3 ? n(t, r, s) : n(t, r)) || s);\n          return o > 3 && s && Object.defineProperty(t, r, s), s;\n        },\n            s = this && this.__param || function (e, t) {\n          return function (r, i) {\n            t(r, i, e);\n          };\n        };\n\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.DomRenderer = void 0;\n\n        var a = r(3787),\n            c = r(8803),\n            l = r(844),\n            h = r(4725),\n            u = r(2585),\n            f = r(8460),\n            _ = r(4774),\n            d = r(9631),\n            p = \"xterm-dom-renderer-owner-\",\n            v = \"xterm-fg-\",\n            g = \"xterm-bg-\",\n            y = \"xterm-focus\",\n            m = 1,\n            S = function (e) {\n          function t(t, r, i, n, o, s, c, l, h, u) {\n            var f = e.call(this) || this;\n            return f._colors = t, f._element = r, f._screenElement = i, f._viewportElement = n, f._linkifier = o, f._linkifier2 = s, f._charSizeService = l, f._optionsService = h, f._bufferService = u, f._terminalClass = m++, f._rowElements = [], f._rowContainer = document.createElement(\"div\"), f._rowContainer.classList.add(\"xterm-rows\"), f._rowContainer.style.lineHeight = \"normal\", f._rowContainer.setAttribute(\"aria-hidden\", \"true\"), f._refreshRowElements(f._bufferService.cols, f._bufferService.rows), f._selectionContainer = document.createElement(\"div\"), f._selectionContainer.classList.add(\"xterm-selection\"), f._selectionContainer.setAttribute(\"aria-hidden\", \"true\"), f.dimensions = {\n              scaledCharWidth: 0,\n              scaledCharHeight: 0,\n              scaledCellWidth: 0,\n              scaledCellHeight: 0,\n              scaledCharLeft: 0,\n              scaledCharTop: 0,\n              scaledCanvasWidth: 0,\n              scaledCanvasHeight: 0,\n              canvasWidth: 0,\n              canvasHeight: 0,\n              actualCellWidth: 0,\n              actualCellHeight: 0\n            }, f._updateDimensions(), f._injectCss(), f._rowFactory = c.createInstance(a.DomRendererRowFactory, document, f._colors), f._element.classList.add(p + f._terminalClass), f._screenElement.appendChild(f._rowContainer), f._screenElement.appendChild(f._selectionContainer), f._linkifier.onShowLinkUnderline(function (e) {\n              return f._onLinkHover(e);\n            }), f._linkifier.onHideLinkUnderline(function (e) {\n              return f._onLinkLeave(e);\n            }), f._linkifier2.onShowLinkUnderline(function (e) {\n              return f._onLinkHover(e);\n            }), f._linkifier2.onHideLinkUnderline(function (e) {\n              return f._onLinkLeave(e);\n            }), f;\n          }\n\n          return n(t, e), Object.defineProperty(t.prototype, \"onRequestRedraw\", {\n            get: function () {\n              return new f.EventEmitter().event;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), t.prototype.dispose = function () {\n            this._element.classList.remove(p + this._terminalClass), (0, d.removeElementFromParent)(this._rowContainer, this._selectionContainer, this._themeStyleElement, this._dimensionsStyleElement), e.prototype.dispose.call(this);\n          }, t.prototype._updateDimensions = function () {\n            this.dimensions.scaledCharWidth = this._charSizeService.width * window.devicePixelRatio, this.dimensions.scaledCharHeight = Math.ceil(this._charSizeService.height * window.devicePixelRatio), this.dimensions.scaledCellWidth = this.dimensions.scaledCharWidth + Math.round(this._optionsService.rawOptions.letterSpacing), this.dimensions.scaledCellHeight = Math.floor(this.dimensions.scaledCharHeight * this._optionsService.rawOptions.lineHeight), this.dimensions.scaledCharLeft = 0, this.dimensions.scaledCharTop = 0, this.dimensions.scaledCanvasWidth = this.dimensions.scaledCellWidth * this._bufferService.cols, this.dimensions.scaledCanvasHeight = this.dimensions.scaledCellHeight * this._bufferService.rows, this.dimensions.canvasWidth = Math.round(this.dimensions.scaledCanvasWidth / window.devicePixelRatio), this.dimensions.canvasHeight = Math.round(this.dimensions.scaledCanvasHeight / window.devicePixelRatio), this.dimensions.actualCellWidth = this.dimensions.canvasWidth / this._bufferService.cols, this.dimensions.actualCellHeight = this.dimensions.canvasHeight / this._bufferService.rows;\n\n            for (var e = 0, t = this._rowElements; e < t.length; e++) {\n              var r = t[e];\n              r.style.width = this.dimensions.canvasWidth + \"px\", r.style.height = this.dimensions.actualCellHeight + \"px\", r.style.lineHeight = this.dimensions.actualCellHeight + \"px\", r.style.overflow = \"hidden\";\n            }\n\n            this._dimensionsStyleElement || (this._dimensionsStyleElement = document.createElement(\"style\"), this._screenElement.appendChild(this._dimensionsStyleElement));\n            var i = this._terminalSelector + \" .xterm-rows span { display: inline-block; height: 100%; vertical-align: top; width: \" + this.dimensions.actualCellWidth + \"px}\";\n            this._dimensionsStyleElement.textContent = i, this._selectionContainer.style.height = this._viewportElement.style.height, this._screenElement.style.width = this.dimensions.canvasWidth + \"px\", this._screenElement.style.height = this.dimensions.canvasHeight + \"px\";\n          }, t.prototype.setColors = function (e) {\n            this._colors = e, this._injectCss();\n          }, t.prototype._injectCss = function () {\n            var e = this;\n            this._themeStyleElement || (this._themeStyleElement = document.createElement(\"style\"), this._screenElement.appendChild(this._themeStyleElement));\n            var t = this._terminalSelector + \" .xterm-rows { color: \" + this._colors.foreground.css + \"; font-family: \" + this._optionsService.rawOptions.fontFamily + \"; font-size: \" + this._optionsService.rawOptions.fontSize + \"px;}\";\n            t += this._terminalSelector + \" span:not(.\" + a.BOLD_CLASS + \") { font-weight: \" + this._optionsService.rawOptions.fontWeight + \";}\" + this._terminalSelector + \" span.\" + a.BOLD_CLASS + \" { font-weight: \" + this._optionsService.rawOptions.fontWeightBold + \";}\" + this._terminalSelector + \" span.\" + a.ITALIC_CLASS + \" { font-style: italic;}\", t += \"@keyframes blink_box_shadow_\" + this._terminalClass + \" { 50% {  box-shadow: none; }}\", t += \"@keyframes blink_block_\" + this._terminalClass + \" { 0% {  background-color: \" + this._colors.cursor.css + \";  color: \" + this._colors.cursorAccent.css + \"; } 50% {  background-color: \" + this._colors.cursorAccent.css + \";  color: \" + this._colors.cursor.css + \"; }}\", t += this._terminalSelector + \" .xterm-rows:not(.xterm-focus) .\" + a.CURSOR_CLASS + \".\" + a.CURSOR_STYLE_BLOCK_CLASS + \" { outline: 1px solid \" + this._colors.cursor.css + \"; outline-offset: -1px;}\" + this._terminalSelector + \" .xterm-rows.xterm-focus .\" + a.CURSOR_CLASS + \".\" + a.CURSOR_BLINK_CLASS + \":not(.\" + a.CURSOR_STYLE_BLOCK_CLASS + \") { animation: blink_box_shadow_\" + this._terminalClass + \" 1s step-end infinite;}\" + this._terminalSelector + \" .xterm-rows.xterm-focus .\" + a.CURSOR_CLASS + \".\" + a.CURSOR_BLINK_CLASS + \".\" + a.CURSOR_STYLE_BLOCK_CLASS + \" { animation: blink_block_\" + this._terminalClass + \" 1s step-end infinite;}\" + this._terminalSelector + \" .xterm-rows.xterm-focus .\" + a.CURSOR_CLASS + \".\" + a.CURSOR_STYLE_BLOCK_CLASS + \" { background-color: \" + this._colors.cursor.css + \"; color: \" + this._colors.cursorAccent.css + \";}\" + this._terminalSelector + \" .xterm-rows .\" + a.CURSOR_CLASS + \".\" + a.CURSOR_STYLE_BAR_CLASS + \" { box-shadow: \" + this._optionsService.rawOptions.cursorWidth + \"px 0 0 \" + this._colors.cursor.css + \" inset;}\" + this._terminalSelector + \" .xterm-rows .\" + a.CURSOR_CLASS + \".\" + a.CURSOR_STYLE_UNDERLINE_CLASS + \" { box-shadow: 0 -1px 0 \" + this._colors.cursor.css + \" inset;}\", t += this._terminalSelector + \" .xterm-selection { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}\" + this._terminalSelector + \" .xterm-selection div { position: absolute; background-color: \" + this._colors.selectionTransparent.css + \";}\", this._colors.ansi.forEach(function (r, i) {\n              t += e._terminalSelector + \" .\" + v + i + \" { color: \" + r.css + \"; }\" + e._terminalSelector + \" .\" + g + i + \" { background-color: \" + r.css + \"; }\";\n            }), t += this._terminalSelector + \" .\" + v + c.INVERTED_DEFAULT_COLOR + \" { color: \" + _.color.opaque(this._colors.background).css + \"; }\" + this._terminalSelector + \" .\" + g + c.INVERTED_DEFAULT_COLOR + \" { background-color: \" + this._colors.foreground.css + \"; }\", this._themeStyleElement.textContent = t;\n          }, t.prototype.onDevicePixelRatioChange = function () {\n            this._updateDimensions();\n          }, t.prototype._refreshRowElements = function (e, t) {\n            for (var r = this._rowElements.length; r <= t; r++) {\n              var i = document.createElement(\"div\");\n              this._rowContainer.appendChild(i), this._rowElements.push(i);\n            }\n\n            for (; this._rowElements.length > t;) this._rowContainer.removeChild(this._rowElements.pop());\n          }, t.prototype.onResize = function (e, t) {\n            this._refreshRowElements(e, t), this._updateDimensions();\n          }, t.prototype.onCharSizeChanged = function () {\n            this._updateDimensions();\n          }, t.prototype.onBlur = function () {\n            this._rowContainer.classList.remove(y);\n          }, t.prototype.onFocus = function () {\n            this._rowContainer.classList.add(y);\n          }, t.prototype.onSelectionChanged = function (e, t, r) {\n            for (; this._selectionContainer.children.length;) this._selectionContainer.removeChild(this._selectionContainer.children[0]);\n\n            if (e && t) {\n              var i = e[1] - this._bufferService.buffer.ydisp,\n                  n = t[1] - this._bufferService.buffer.ydisp,\n                  o = Math.max(i, 0),\n                  s = Math.min(n, this._bufferService.rows - 1);\n\n              if (!(o >= this._bufferService.rows || s < 0)) {\n                var a = document.createDocumentFragment();\n                if (r) a.appendChild(this._createSelectionElement(o, e[0], t[0], s - o + 1));else {\n                  var c = i === o ? e[0] : 0,\n                      l = o === n ? t[0] : this._bufferService.cols;\n                  a.appendChild(this._createSelectionElement(o, c, l));\n                  var h = s - o - 1;\n\n                  if (a.appendChild(this._createSelectionElement(o + 1, 0, this._bufferService.cols, h)), o !== s) {\n                    var u = n === s ? t[0] : this._bufferService.cols;\n                    a.appendChild(this._createSelectionElement(s, 0, u));\n                  }\n                }\n\n                this._selectionContainer.appendChild(a);\n              }\n            }\n          }, t.prototype._createSelectionElement = function (e, t, r, i) {\n            void 0 === i && (i = 1);\n            var n = document.createElement(\"div\");\n            return n.style.height = i * this.dimensions.actualCellHeight + \"px\", n.style.top = e * this.dimensions.actualCellHeight + \"px\", n.style.left = t * this.dimensions.actualCellWidth + \"px\", n.style.width = this.dimensions.actualCellWidth * (r - t) + \"px\", n;\n          }, t.prototype.onCursorMove = function () {}, t.prototype.onOptionsChanged = function () {\n            this._updateDimensions(), this._injectCss();\n          }, t.prototype.clear = function () {\n            for (var e = 0, t = this._rowElements; e < t.length; e++) t[e].innerText = \"\";\n          }, t.prototype.renderRows = function (e, t) {\n            for (var r = this._bufferService.buffer.ybase + this._bufferService.buffer.y, i = Math.min(this._bufferService.buffer.x, this._bufferService.cols - 1), n = this._optionsService.rawOptions.cursorBlink, o = e; o <= t; o++) {\n              var s = this._rowElements[o];\n              s.innerText = \"\";\n\n              var a = o + this._bufferService.buffer.ydisp,\n                  c = this._bufferService.buffer.lines.get(a),\n                  l = this._optionsService.rawOptions.cursorStyle;\n\n              s.appendChild(this._rowFactory.createRow(c, a, a === r, l, i, n, this.dimensions.actualCellWidth, this._bufferService.cols));\n            }\n          }, Object.defineProperty(t.prototype, \"_terminalSelector\", {\n            get: function () {\n              return \".\" + p + this._terminalClass;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), t.prototype._onLinkHover = function (e) {\n            this._setCellUnderline(e.x1, e.x2, e.y1, e.y2, e.cols, !0);\n          }, t.prototype._onLinkLeave = function (e) {\n            this._setCellUnderline(e.x1, e.x2, e.y1, e.y2, e.cols, !1);\n          }, t.prototype._setCellUnderline = function (e, t, r, i, n, o) {\n            for (; e !== t || r !== i;) {\n              var s = this._rowElements[r];\n              if (!s) return;\n              var a = s.children[e];\n              a && (a.style.textDecoration = o ? \"underline\" : \"none\"), ++e >= n && (e = 0, r++);\n            }\n          }, o([s(6, u.IInstantiationService), s(7, h.ICharSizeService), s(8, u.IOptionsService), s(9, u.IBufferService)], t);\n        }(l.Disposable);\n\n        t.DomRenderer = S;\n      },\n      3787: function (e, t, r) {\n        var i = this && this.__decorate || function (e, t, r, i) {\n          var n,\n              o = arguments.length,\n              s = o < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, r) : i;\n          if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.decorate) s = Reflect.decorate(e, t, r, i);else for (var a = e.length - 1; a >= 0; a--) (n = e[a]) && (s = (o < 3 ? n(s) : o > 3 ? n(t, r, s) : n(t, r)) || s);\n          return o > 3 && s && Object.defineProperty(t, r, s), s;\n        },\n            n = this && this.__param || function (e, t) {\n          return function (r, i) {\n            t(r, i, e);\n          };\n        };\n\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.DomRendererRowFactory = t.CURSOR_STYLE_UNDERLINE_CLASS = t.CURSOR_STYLE_BAR_CLASS = t.CURSOR_STYLE_BLOCK_CLASS = t.CURSOR_BLINK_CLASS = t.CURSOR_CLASS = t.STRIKETHROUGH_CLASS = t.UNDERLINE_CLASS = t.ITALIC_CLASS = t.DIM_CLASS = t.BOLD_CLASS = void 0;\n        var o = r(8803),\n            s = r(643),\n            a = r(511),\n            c = r(2585),\n            l = r(4774),\n            h = r(4725),\n            u = r(4269);\n        t.BOLD_CLASS = \"xterm-bold\", t.DIM_CLASS = \"xterm-dim\", t.ITALIC_CLASS = \"xterm-italic\", t.UNDERLINE_CLASS = \"xterm-underline\", t.STRIKETHROUGH_CLASS = \"xterm-strikethrough\", t.CURSOR_CLASS = \"xterm-cursor\", t.CURSOR_BLINK_CLASS = \"xterm-cursor-blink\", t.CURSOR_STYLE_BLOCK_CLASS = \"xterm-cursor-block\", t.CURSOR_STYLE_BAR_CLASS = \"xterm-cursor-bar\", t.CURSOR_STYLE_UNDERLINE_CLASS = \"xterm-cursor-underline\";\n\n        var f = function () {\n          function e(e, t, r, i, n) {\n            this._document = e, this._colors = t, this._characterJoinerService = r, this._optionsService = i, this._coreService = n, this._workCell = new a.CellData();\n          }\n\n          return e.prototype.setColors = function (e) {\n            this._colors = e;\n          }, e.prototype.createRow = function (e, r, i, n, a, c, h, f) {\n            for (var d = this._document.createDocumentFragment(), p = this._characterJoinerService.getJoinedCharacters(r), v = 0, g = Math.min(e.length, f) - 1; g >= 0; g--) if (e.loadCell(g, this._workCell).getCode() !== s.NULL_CELL_CODE || i && g === a) {\n              v = g + 1;\n              break;\n            }\n\n            for (g = 0; g < v; g++) {\n              e.loadCell(g, this._workCell);\n\n              var y = this._workCell.getWidth();\n\n              if (0 !== y) {\n                var m = !1,\n                    S = g,\n                    C = this._workCell;\n\n                if (p.length > 0 && g === p[0][0]) {\n                  m = !0;\n                  var b = p.shift();\n                  C = new u.JoinedCellData(this._workCell, e.translateToString(!0, b[0], b[1]), b[1] - b[0]), S = b[1] - 1, y = C.getWidth();\n                }\n\n                var w = this._document.createElement(\"span\");\n\n                if (y > 1 && (w.style.width = h * y + \"px\"), m && (w.style.display = \"inline\", a >= g && a <= S && (a = g)), !this._coreService.isCursorHidden && i && g === a) switch (w.classList.add(t.CURSOR_CLASS), c && w.classList.add(t.CURSOR_BLINK_CLASS), n) {\n                  case \"bar\":\n                    w.classList.add(t.CURSOR_STYLE_BAR_CLASS);\n                    break;\n\n                  case \"underline\":\n                    w.classList.add(t.CURSOR_STYLE_UNDERLINE_CLASS);\n                    break;\n\n                  default:\n                    w.classList.add(t.CURSOR_STYLE_BLOCK_CLASS);\n                }\n                C.isBold() && w.classList.add(t.BOLD_CLASS), C.isItalic() && w.classList.add(t.ITALIC_CLASS), C.isDim() && w.classList.add(t.DIM_CLASS), C.isUnderline() && w.classList.add(t.UNDERLINE_CLASS), C.isInvisible() ? w.textContent = s.WHITESPACE_CELL_CHAR : w.textContent = C.getChars() || s.WHITESPACE_CELL_CHAR, C.isStrikethrough() && w.classList.add(t.STRIKETHROUGH_CLASS);\n                var L = C.getFgColor(),\n                    E = C.getFgColorMode(),\n                    x = C.getBgColor(),\n                    M = C.getBgColorMode(),\n                    k = !!C.isInverse();\n\n                if (k) {\n                  var A = L;\n                  L = x, x = A;\n                  var R = E;\n                  E = M, M = R;\n                }\n\n                switch (E) {\n                  case 16777216:\n                  case 33554432:\n                    C.isBold() && L < 8 && this._optionsService.rawOptions.drawBoldTextInBrightColors && (L += 8), this._applyMinimumContrast(w, this._colors.background, this._colors.ansi[L]) || w.classList.add(\"xterm-fg-\" + L);\n                    break;\n\n                  case 50331648:\n                    var O = l.rgba.toColor(L >> 16 & 255, L >> 8 & 255, 255 & L);\n                    this._applyMinimumContrast(w, this._colors.background, O) || this._addStyle(w, \"color:#\" + _(L.toString(16), \"0\", 6));\n                    break;\n\n                  default:\n                    this._applyMinimumContrast(w, this._colors.background, this._colors.foreground) || k && w.classList.add(\"xterm-fg-\" + o.INVERTED_DEFAULT_COLOR);\n                }\n\n                switch (M) {\n                  case 16777216:\n                  case 33554432:\n                    w.classList.add(\"xterm-bg-\" + x);\n                    break;\n\n                  case 50331648:\n                    this._addStyle(w, \"background-color:#\" + _(x.toString(16), \"0\", 6));\n\n                    break;\n\n                  default:\n                    k && w.classList.add(\"xterm-bg-\" + o.INVERTED_DEFAULT_COLOR);\n                }\n\n                d.appendChild(w), g = S;\n              }\n            }\n\n            return d;\n          }, e.prototype._applyMinimumContrast = function (e, t, r) {\n            if (1 === this._optionsService.rawOptions.minimumContrastRatio) return !1;\n\n            var i = this._colors.contrastCache.getColor(this._workCell.bg, this._workCell.fg);\n\n            return void 0 === i && (i = l.color.ensureContrastRatio(t, r, this._optionsService.rawOptions.minimumContrastRatio), this._colors.contrastCache.setColor(this._workCell.bg, this._workCell.fg, null != i ? i : null)), !!i && (this._addStyle(e, \"color:\" + i.css), !0);\n          }, e.prototype._addStyle = function (e, t) {\n            e.setAttribute(\"style\", \"\" + (e.getAttribute(\"style\") || \"\") + t + \";\");\n          }, i([n(2, h.ICharacterJoinerService), n(3, c.IOptionsService), n(4, c.ICoreService)], e);\n        }();\n\n        function _(e, t, r) {\n          for (; e.length < r;) e = t + e;\n\n          return e;\n        }\n\n        t.DomRendererRowFactory = f;\n      },\n      456: (e, t) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.SelectionModel = void 0;\n\n        var r = function () {\n          function e(e) {\n            this._bufferService = e, this.isSelectAllActive = !1, this.selectionStartLength = 0;\n          }\n\n          return e.prototype.clearSelection = function () {\n            this.selectionStart = void 0, this.selectionEnd = void 0, this.isSelectAllActive = !1, this.selectionStartLength = 0;\n          }, Object.defineProperty(e.prototype, \"finalSelectionStart\", {\n            get: function () {\n              return this.isSelectAllActive ? [0, 0] : this.selectionEnd && this.selectionStart && this.areSelectionValuesReversed() ? this.selectionEnd : this.selectionStart;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(e.prototype, \"finalSelectionEnd\", {\n            get: function () {\n              if (this.isSelectAllActive) return [this._bufferService.cols, this._bufferService.buffer.ybase + this._bufferService.rows - 1];\n\n              if (this.selectionStart) {\n                if (!this.selectionEnd || this.areSelectionValuesReversed()) {\n                  var e = this.selectionStart[0] + this.selectionStartLength;\n                  return e > this._bufferService.cols ? e % this._bufferService.cols == 0 ? [this._bufferService.cols, this.selectionStart[1] + Math.floor(e / this._bufferService.cols) - 1] : [e % this._bufferService.cols, this.selectionStart[1] + Math.floor(e / this._bufferService.cols)] : [e, this.selectionStart[1]];\n                }\n\n                return this.selectionStartLength && this.selectionEnd[1] === this.selectionStart[1] ? [Math.max(this.selectionStart[0] + this.selectionStartLength, this.selectionEnd[0]), this.selectionEnd[1]] : this.selectionEnd;\n              }\n            },\n            enumerable: !1,\n            configurable: !0\n          }), e.prototype.areSelectionValuesReversed = function () {\n            var e = this.selectionStart,\n                t = this.selectionEnd;\n            return !(!e || !t) && (e[1] > t[1] || e[1] === t[1] && e[0] > t[0]);\n          }, e.prototype.onTrim = function (e) {\n            return this.selectionStart && (this.selectionStart[1] -= e), this.selectionEnd && (this.selectionEnd[1] -= e), this.selectionEnd && this.selectionEnd[1] < 0 ? (this.clearSelection(), !0) : (this.selectionStart && this.selectionStart[1] < 0 && (this.selectionStart[1] = 0), !1);\n          }, e;\n        }();\n\n        t.SelectionModel = r;\n      },\n      428: function (e, t, r) {\n        var i = this && this.__decorate || function (e, t, r, i) {\n          var n,\n              o = arguments.length,\n              s = o < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, r) : i;\n          if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.decorate) s = Reflect.decorate(e, t, r, i);else for (var a = e.length - 1; a >= 0; a--) (n = e[a]) && (s = (o < 3 ? n(s) : o > 3 ? n(t, r, s) : n(t, r)) || s);\n          return o > 3 && s && Object.defineProperty(t, r, s), s;\n        },\n            n = this && this.__param || function (e, t) {\n          return function (r, i) {\n            t(r, i, e);\n          };\n        };\n\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.CharSizeService = void 0;\n\n        var o = r(2585),\n            s = r(8460),\n            a = function () {\n          function e(e, t, r) {\n            this._optionsService = r, this.width = 0, this.height = 0, this._onCharSizeChange = new s.EventEmitter(), this._measureStrategy = new c(e, t, this._optionsService);\n          }\n\n          return Object.defineProperty(e.prototype, \"hasValidSize\", {\n            get: function () {\n              return this.width > 0 && this.height > 0;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(e.prototype, \"onCharSizeChange\", {\n            get: function () {\n              return this._onCharSizeChange.event;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), e.prototype.measure = function () {\n            var e = this._measureStrategy.measure();\n\n            e.width === this.width && e.height === this.height || (this.width = e.width, this.height = e.height, this._onCharSizeChange.fire());\n          }, i([n(2, o.IOptionsService)], e);\n        }();\n\n        t.CharSizeService = a;\n\n        var c = function () {\n          function e(e, t, r) {\n            this._document = e, this._parentElement = t, this._optionsService = r, this._result = {\n              width: 0,\n              height: 0\n            }, this._measureElement = this._document.createElement(\"span\"), this._measureElement.classList.add(\"xterm-char-measure-element\"), this._measureElement.textContent = \"W\", this._measureElement.setAttribute(\"aria-hidden\", \"true\"), this._parentElement.appendChild(this._measureElement);\n          }\n\n          return e.prototype.measure = function () {\n            this._measureElement.style.fontFamily = this._optionsService.rawOptions.fontFamily, this._measureElement.style.fontSize = this._optionsService.rawOptions.fontSize + \"px\";\n\n            var e = this._measureElement.getBoundingClientRect();\n\n            return 0 !== e.width && 0 !== e.height && (this._result.width = e.width, this._result.height = Math.ceil(e.height)), this._result;\n          }, e;\n        }();\n      },\n      4269: function (e, t, r) {\n        var i,\n            n = this && this.__extends || (i = function (e, t) {\n          return i = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (e, t) {\n            e.__proto__ = t;\n          } || function (e, t) {\n            for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);\n          }, i(e, t);\n        }, function (e, t) {\n          if (\"function\" != typeof t && null !== t) throw new TypeError(\"Class extends value \" + String(t) + \" is not a constructor or null\");\n\n          function r() {\n            this.constructor = e;\n          }\n\n          i(e, t), e.prototype = null === t ? Object.create(t) : (r.prototype = t.prototype, new r());\n        }),\n            o = this && this.__decorate || function (e, t, r, i) {\n          var n,\n              o = arguments.length,\n              s = o < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, r) : i;\n          if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.decorate) s = Reflect.decorate(e, t, r, i);else for (var a = e.length - 1; a >= 0; a--) (n = e[a]) && (s = (o < 3 ? n(s) : o > 3 ? n(t, r, s) : n(t, r)) || s);\n          return o > 3 && s && Object.defineProperty(t, r, s), s;\n        },\n            s = this && this.__param || function (e, t) {\n          return function (r, i) {\n            t(r, i, e);\n          };\n        };\n\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.CharacterJoinerService = t.JoinedCellData = void 0;\n\n        var a = r(3734),\n            c = r(643),\n            l = r(511),\n            h = r(2585),\n            u = function (e) {\n          function t(t, r, i) {\n            var n = e.call(this) || this;\n            return n.content = 0, n.combinedData = \"\", n.fg = t.fg, n.bg = t.bg, n.combinedData = r, n._width = i, n;\n          }\n\n          return n(t, e), t.prototype.isCombined = function () {\n            return 2097152;\n          }, t.prototype.getWidth = function () {\n            return this._width;\n          }, t.prototype.getChars = function () {\n            return this.combinedData;\n          }, t.prototype.getCode = function () {\n            return 2097151;\n          }, t.prototype.setFromCharData = function (e) {\n            throw new Error(\"not implemented\");\n          }, t.prototype.getAsCharData = function () {\n            return [this.fg, this.getChars(), this.getWidth(), this.getCode()];\n          }, t;\n        }(a.AttributeData);\n\n        t.JoinedCellData = u;\n\n        var f = function () {\n          function e(e) {\n            this._bufferService = e, this._characterJoiners = [], this._nextCharacterJoinerId = 0, this._workCell = new l.CellData();\n          }\n\n          return e.prototype.register = function (e) {\n            var t = {\n              id: this._nextCharacterJoinerId++,\n              handler: e\n            };\n            return this._characterJoiners.push(t), t.id;\n          }, e.prototype.deregister = function (e) {\n            for (var t = 0; t < this._characterJoiners.length; t++) if (this._characterJoiners[t].id === e) return this._characterJoiners.splice(t, 1), !0;\n\n            return !1;\n          }, e.prototype.getJoinedCharacters = function (e) {\n            if (0 === this._characterJoiners.length) return [];\n\n            var t = this._bufferService.buffer.lines.get(e);\n\n            if (!t || 0 === t.length) return [];\n\n            for (var r = [], i = t.translateToString(!0), n = 0, o = 0, s = 0, a = t.getFg(0), l = t.getBg(0), h = 0; h < t.getTrimmedLength(); h++) if (t.loadCell(h, this._workCell), 0 !== this._workCell.getWidth()) {\n              if (this._workCell.fg !== a || this._workCell.bg !== l) {\n                if (h - n > 1) for (var u = this._getJoinedRanges(i, s, o, t, n), f = 0; f < u.length; f++) r.push(u[f]);\n                n = h, s = o, a = this._workCell.fg, l = this._workCell.bg;\n              }\n\n              o += this._workCell.getChars().length || c.WHITESPACE_CELL_CHAR.length;\n            }\n\n            if (this._bufferService.cols - n > 1) for (u = this._getJoinedRanges(i, s, o, t, n), f = 0; f < u.length; f++) r.push(u[f]);\n            return r;\n          }, e.prototype._getJoinedRanges = function (t, r, i, n, o) {\n            var s = t.substring(r, i),\n                a = [];\n\n            try {\n              a = this._characterJoiners[0].handler(s);\n            } catch (e) {\n              console.error(e);\n            }\n\n            for (var c = 1; c < this._characterJoiners.length; c++) try {\n              for (var l = this._characterJoiners[c].handler(s), h = 0; h < l.length; h++) e._mergeRanges(a, l[h]);\n            } catch (e) {\n              console.error(e);\n            }\n\n            return this._stringRangesToCellRanges(a, n, o), a;\n          }, e.prototype._stringRangesToCellRanges = function (e, t, r) {\n            var i = 0,\n                n = !1,\n                o = 0,\n                s = e[i];\n\n            if (s) {\n              for (var a = r; a < this._bufferService.cols; a++) {\n                var l = t.getWidth(a),\n                    h = t.getString(a).length || c.WHITESPACE_CELL_CHAR.length;\n\n                if (0 !== l) {\n                  if (!n && s[0] <= o && (s[0] = a, n = !0), s[1] <= o) {\n                    if (s[1] = a, !(s = e[++i])) break;\n                    s[0] <= o ? (s[0] = a, n = !0) : n = !1;\n                  }\n\n                  o += h;\n                }\n              }\n\n              s && (s[1] = this._bufferService.cols);\n            }\n          }, e._mergeRanges = function (e, t) {\n            for (var r = !1, i = 0; i < e.length; i++) {\n              var n = e[i];\n\n              if (r) {\n                if (t[1] <= n[0]) return e[i - 1][1] = t[1], e;\n                if (t[1] <= n[1]) return e[i - 1][1] = Math.max(t[1], n[1]), e.splice(i, 1), e;\n                e.splice(i, 1), i--;\n              } else {\n                if (t[1] <= n[0]) return e.splice(i, 0, t), e;\n                if (t[1] <= n[1]) return n[0] = Math.min(t[0], n[0]), e;\n                t[0] < n[1] && (n[0] = Math.min(t[0], n[0]), r = !0);\n              }\n            }\n\n            return r ? e[e.length - 1][1] = t[1] : e.push(t), e;\n          }, e = o([s(0, h.IBufferService)], e);\n        }();\n\n        t.CharacterJoinerService = f;\n      },\n      5114: (e, t) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.CoreBrowserService = void 0;\n\n        var r = function () {\n          function e(e) {\n            this._textarea = e;\n          }\n\n          return Object.defineProperty(e.prototype, \"isFocused\", {\n            get: function () {\n              return (this._textarea.getRootNode ? this._textarea.getRootNode() : document).activeElement === this._textarea && document.hasFocus();\n            },\n            enumerable: !1,\n            configurable: !0\n          }), e;\n        }();\n\n        t.CoreBrowserService = r;\n      },\n      8934: function (e, t, r) {\n        var i = this && this.__decorate || function (e, t, r, i) {\n          var n,\n              o = arguments.length,\n              s = o < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, r) : i;\n          if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.decorate) s = Reflect.decorate(e, t, r, i);else for (var a = e.length - 1; a >= 0; a--) (n = e[a]) && (s = (o < 3 ? n(s) : o > 3 ? n(t, r, s) : n(t, r)) || s);\n          return o > 3 && s && Object.defineProperty(t, r, s), s;\n        },\n            n = this && this.__param || function (e, t) {\n          return function (r, i) {\n            t(r, i, e);\n          };\n        };\n\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.MouseService = void 0;\n\n        var o = r(4725),\n            s = r(9806),\n            a = function () {\n          function e(e, t) {\n            this._renderService = e, this._charSizeService = t;\n          }\n\n          return e.prototype.getCoords = function (e, t, r, i, n) {\n            return (0, s.getCoords)(e, t, r, i, this._charSizeService.hasValidSize, this._renderService.dimensions.actualCellWidth, this._renderService.dimensions.actualCellHeight, n);\n          }, e.prototype.getRawByteCoords = function (e, t, r, i) {\n            var n = this.getCoords(e, t, r, i);\n            return (0, s.getRawByteCoords)(n);\n          }, i([n(0, o.IRenderService), n(1, o.ICharSizeService)], e);\n        }();\n\n        t.MouseService = a;\n      },\n      3230: function (e, t, r) {\n        var i,\n            n = this && this.__extends || (i = function (e, t) {\n          return i = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (e, t) {\n            e.__proto__ = t;\n          } || function (e, t) {\n            for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);\n          }, i(e, t);\n        }, function (e, t) {\n          if (\"function\" != typeof t && null !== t) throw new TypeError(\"Class extends value \" + String(t) + \" is not a constructor or null\");\n\n          function r() {\n            this.constructor = e;\n          }\n\n          i(e, t), e.prototype = null === t ? Object.create(t) : (r.prototype = t.prototype, new r());\n        }),\n            o = this && this.__decorate || function (e, t, r, i) {\n          var n,\n              o = arguments.length,\n              s = o < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, r) : i;\n          if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.decorate) s = Reflect.decorate(e, t, r, i);else for (var a = e.length - 1; a >= 0; a--) (n = e[a]) && (s = (o < 3 ? n(s) : o > 3 ? n(t, r, s) : n(t, r)) || s);\n          return o > 3 && s && Object.defineProperty(t, r, s), s;\n        },\n            s = this && this.__param || function (e, t) {\n          return function (r, i) {\n            t(r, i, e);\n          };\n        };\n\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.RenderService = void 0;\n\n        var a = r(6193),\n            c = r(8460),\n            l = r(844),\n            h = r(5596),\n            u = r(3656),\n            f = r(2585),\n            _ = r(4725),\n            d = function (e) {\n          function t(t, r, i, n, o, s) {\n            var l = e.call(this) || this;\n\n            if (l._renderer = t, l._rowCount = r, l._charSizeService = o, l._isPaused = !1, l._needsFullRefresh = !1, l._isNextRenderRedrawOnly = !0, l._needsSelectionRefresh = !1, l._canvasWidth = 0, l._canvasHeight = 0, l._selectionState = {\n              start: void 0,\n              end: void 0,\n              columnSelectMode: !1\n            }, l._onDimensionsChange = new c.EventEmitter(), l._onRender = new c.EventEmitter(), l._onRefreshRequest = new c.EventEmitter(), l.register({\n              dispose: function () {\n                return l._renderer.dispose();\n              }\n            }), l._renderDebouncer = new a.RenderDebouncer(function (e, t) {\n              return l._renderRows(e, t);\n            }), l.register(l._renderDebouncer), l._screenDprMonitor = new h.ScreenDprMonitor(), l._screenDprMonitor.setListener(function () {\n              return l.onDevicePixelRatioChange();\n            }), l.register(l._screenDprMonitor), l.register(s.onResize(function (e) {\n              return l._fullRefresh();\n            })), l.register(n.onOptionChange(function () {\n              return l._renderer.onOptionsChanged();\n            })), l.register(l._charSizeService.onCharSizeChange(function () {\n              return l.onCharSizeChanged();\n            })), l._renderer.onRequestRedraw(function (e) {\n              return l.refreshRows(e.start, e.end, !0);\n            }), l.register((0, u.addDisposableDomListener)(window, \"resize\", function () {\n              return l.onDevicePixelRatioChange();\n            })), \"IntersectionObserver\" in window) {\n              var f = new IntersectionObserver(function (e) {\n                return l._onIntersectionChange(e[e.length - 1]);\n              }, {\n                threshold: 0\n              });\n              f.observe(i), l.register({\n                dispose: function () {\n                  return f.disconnect();\n                }\n              });\n            }\n\n            return l;\n          }\n\n          return n(t, e), Object.defineProperty(t.prototype, \"onDimensionsChange\", {\n            get: function () {\n              return this._onDimensionsChange.event;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(t.prototype, \"onRenderedBufferChange\", {\n            get: function () {\n              return this._onRender.event;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(t.prototype, \"onRefreshRequest\", {\n            get: function () {\n              return this._onRefreshRequest.event;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(t.prototype, \"dimensions\", {\n            get: function () {\n              return this._renderer.dimensions;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), t.prototype._onIntersectionChange = function (e) {\n            this._isPaused = void 0 === e.isIntersecting ? 0 === e.intersectionRatio : !e.isIntersecting, this._isPaused || this._charSizeService.hasValidSize || this._charSizeService.measure(), !this._isPaused && this._needsFullRefresh && (this.refreshRows(0, this._rowCount - 1), this._needsFullRefresh = !1);\n          }, t.prototype.refreshRows = function (e, t, r) {\n            void 0 === r && (r = !1), this._isPaused ? this._needsFullRefresh = !0 : (r || (this._isNextRenderRedrawOnly = !1), this._renderDebouncer.refresh(e, t, this._rowCount));\n          }, t.prototype._renderRows = function (e, t) {\n            this._renderer.renderRows(e, t), this._needsSelectionRefresh && (this._renderer.onSelectionChanged(this._selectionState.start, this._selectionState.end, this._selectionState.columnSelectMode), this._needsSelectionRefresh = !1), this._isNextRenderRedrawOnly || this._onRender.fire({\n              start: e,\n              end: t\n            }), this._isNextRenderRedrawOnly = !0;\n          }, t.prototype.resize = function (e, t) {\n            this._rowCount = t, this._fireOnCanvasResize();\n          }, t.prototype.changeOptions = function () {\n            this._renderer.onOptionsChanged(), this.refreshRows(0, this._rowCount - 1), this._fireOnCanvasResize();\n          }, t.prototype._fireOnCanvasResize = function () {\n            this._renderer.dimensions.canvasWidth === this._canvasWidth && this._renderer.dimensions.canvasHeight === this._canvasHeight || this._onDimensionsChange.fire(this._renderer.dimensions);\n          }, t.prototype.dispose = function () {\n            e.prototype.dispose.call(this);\n          }, t.prototype.setRenderer = function (e) {\n            var t = this;\n            this._renderer.dispose(), this._renderer = e, this._renderer.onRequestRedraw(function (e) {\n              return t.refreshRows(e.start, e.end, !0);\n            }), this._needsSelectionRefresh = !0, this._fullRefresh();\n          }, t.prototype._fullRefresh = function () {\n            this._isPaused ? this._needsFullRefresh = !0 : this.refreshRows(0, this._rowCount - 1);\n          }, t.prototype.clearTextureAtlas = function () {\n            var e, t;\n            null === (t = null === (e = this._renderer) || void 0 === e ? void 0 : e.clearTextureAtlas) || void 0 === t || t.call(e), this._fullRefresh();\n          }, t.prototype.setColors = function (e) {\n            this._renderer.setColors(e), this._fullRefresh();\n          }, t.prototype.onDevicePixelRatioChange = function () {\n            this._charSizeService.measure(), this._renderer.onDevicePixelRatioChange(), this.refreshRows(0, this._rowCount - 1);\n          }, t.prototype.onResize = function (e, t) {\n            this._renderer.onResize(e, t), this._fullRefresh();\n          }, t.prototype.onCharSizeChanged = function () {\n            this._renderer.onCharSizeChanged();\n          }, t.prototype.onBlur = function () {\n            this._renderer.onBlur();\n          }, t.prototype.onFocus = function () {\n            this._renderer.onFocus();\n          }, t.prototype.onSelectionChanged = function (e, t, r) {\n            this._selectionState.start = e, this._selectionState.end = t, this._selectionState.columnSelectMode = r, this._renderer.onSelectionChanged(e, t, r);\n          }, t.prototype.onCursorMove = function () {\n            this._renderer.onCursorMove();\n          }, t.prototype.clear = function () {\n            this._renderer.clear();\n          }, o([s(3, f.IOptionsService), s(4, _.ICharSizeService), s(5, f.IBufferService)], t);\n        }(l.Disposable);\n\n        t.RenderService = d;\n      },\n      9312: function (e, t, r) {\n        var i,\n            n = this && this.__extends || (i = function (e, t) {\n          return i = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (e, t) {\n            e.__proto__ = t;\n          } || function (e, t) {\n            for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);\n          }, i(e, t);\n        }, function (e, t) {\n          if (\"function\" != typeof t && null !== t) throw new TypeError(\"Class extends value \" + String(t) + \" is not a constructor or null\");\n\n          function r() {\n            this.constructor = e;\n          }\n\n          i(e, t), e.prototype = null === t ? Object.create(t) : (r.prototype = t.prototype, new r());\n        }),\n            o = this && this.__decorate || function (e, t, r, i) {\n          var n,\n              o = arguments.length,\n              s = o < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, r) : i;\n          if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.decorate) s = Reflect.decorate(e, t, r, i);else for (var a = e.length - 1; a >= 0; a--) (n = e[a]) && (s = (o < 3 ? n(s) : o > 3 ? n(t, r, s) : n(t, r)) || s);\n          return o > 3 && s && Object.defineProperty(t, r, s), s;\n        },\n            s = this && this.__param || function (e, t) {\n          return function (r, i) {\n            t(r, i, e);\n          };\n        };\n\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.SelectionService = void 0;\n\n        var a = r(6114),\n            c = r(456),\n            l = r(511),\n            h = r(8460),\n            u = r(4725),\n            f = r(2585),\n            _ = r(9806),\n            d = r(9504),\n            p = r(844),\n            v = r(4841),\n            g = String.fromCharCode(160),\n            y = new RegExp(g, \"g\"),\n            m = function (e) {\n          function t(t, r, i, n, o, s, a, u) {\n            var f = e.call(this) || this;\n            return f._element = t, f._screenElement = r, f._linkifier = i, f._bufferService = n, f._coreService = o, f._mouseService = s, f._optionsService = a, f._renderService = u, f._dragScrollAmount = 0, f._enabled = !0, f._workCell = new l.CellData(), f._mouseDownTimeStamp = 0, f._oldHasSelection = !1, f._oldSelectionStart = void 0, f._oldSelectionEnd = void 0, f._onLinuxMouseSelection = f.register(new h.EventEmitter()), f._onRedrawRequest = f.register(new h.EventEmitter()), f._onSelectionChange = f.register(new h.EventEmitter()), f._onRequestScrollLines = f.register(new h.EventEmitter()), f._mouseMoveListener = function (e) {\n              return f._onMouseMove(e);\n            }, f._mouseUpListener = function (e) {\n              return f._onMouseUp(e);\n            }, f._coreService.onUserInput(function () {\n              f.hasSelection && f.clearSelection();\n            }), f._trimListener = f._bufferService.buffer.lines.onTrim(function (e) {\n              return f._onTrim(e);\n            }), f.register(f._bufferService.buffers.onBufferActivate(function (e) {\n              return f._onBufferActivate(e);\n            })), f.enable(), f._model = new c.SelectionModel(f._bufferService), f._activeSelectionMode = 0, f;\n          }\n\n          return n(t, e), Object.defineProperty(t.prototype, \"onLinuxMouseSelection\", {\n            get: function () {\n              return this._onLinuxMouseSelection.event;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(t.prototype, \"onRequestRedraw\", {\n            get: function () {\n              return this._onRedrawRequest.event;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(t.prototype, \"onSelectionChange\", {\n            get: function () {\n              return this._onSelectionChange.event;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(t.prototype, \"onRequestScrollLines\", {\n            get: function () {\n              return this._onRequestScrollLines.event;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), t.prototype.dispose = function () {\n            this._removeMouseDownListeners();\n          }, t.prototype.reset = function () {\n            this.clearSelection();\n          }, t.prototype.disable = function () {\n            this.clearSelection(), this._enabled = !1;\n          }, t.prototype.enable = function () {\n            this._enabled = !0;\n          }, Object.defineProperty(t.prototype, \"selectionStart\", {\n            get: function () {\n              return this._model.finalSelectionStart;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(t.prototype, \"selectionEnd\", {\n            get: function () {\n              return this._model.finalSelectionEnd;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(t.prototype, \"hasSelection\", {\n            get: function () {\n              var e = this._model.finalSelectionStart,\n                  t = this._model.finalSelectionEnd;\n              return !(!e || !t || e[0] === t[0] && e[1] === t[1]);\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(t.prototype, \"selectionText\", {\n            get: function () {\n              var e = this._model.finalSelectionStart,\n                  t = this._model.finalSelectionEnd;\n              if (!e || !t) return \"\";\n              var r = this._bufferService.buffer,\n                  i = [];\n\n              if (3 === this._activeSelectionMode) {\n                if (e[0] === t[0]) return \"\";\n\n                for (var n = e[1]; n <= t[1]; n++) {\n                  var o = r.translateBufferLineToString(n, !0, e[0], t[0]);\n                  i.push(o);\n                }\n              } else {\n                var s = e[1] === t[1] ? t[0] : void 0;\n\n                for (i.push(r.translateBufferLineToString(e[1], !0, e[0], s)), n = e[1] + 1; n <= t[1] - 1; n++) {\n                  var c = r.lines.get(n);\n                  o = r.translateBufferLineToString(n, !0), (null == c ? void 0 : c.isWrapped) ? i[i.length - 1] += o : i.push(o);\n                }\n\n                e[1] !== t[1] && (c = r.lines.get(t[1]), o = r.translateBufferLineToString(t[1], !0, 0, t[0]), c && c.isWrapped ? i[i.length - 1] += o : i.push(o));\n              }\n\n              return i.map(function (e) {\n                return e.replace(y, \" \");\n              }).join(a.isWindows ? \"\\r\\n\" : \"\\n\");\n            },\n            enumerable: !1,\n            configurable: !0\n          }), t.prototype.clearSelection = function () {\n            this._model.clearSelection(), this._removeMouseDownListeners(), this.refresh(), this._onSelectionChange.fire();\n          }, t.prototype.refresh = function (e) {\n            var t = this;\n            this._refreshAnimationFrame || (this._refreshAnimationFrame = window.requestAnimationFrame(function () {\n              return t._refresh();\n            })), a.isLinux && e && this.selectionText.length && this._onLinuxMouseSelection.fire(this.selectionText);\n          }, t.prototype._refresh = function () {\n            this._refreshAnimationFrame = void 0, this._onRedrawRequest.fire({\n              start: this._model.finalSelectionStart,\n              end: this._model.finalSelectionEnd,\n              columnSelectMode: 3 === this._activeSelectionMode\n            });\n          }, t.prototype._isClickInSelection = function (e) {\n            var t = this._getMouseBufferCoords(e),\n                r = this._model.finalSelectionStart,\n                i = this._model.finalSelectionEnd;\n\n            return !!(r && i && t) && this._areCoordsInSelection(t, r, i);\n          }, t.prototype._areCoordsInSelection = function (e, t, r) {\n            return e[1] > t[1] && e[1] < r[1] || t[1] === r[1] && e[1] === t[1] && e[0] >= t[0] && e[0] < r[0] || t[1] < r[1] && e[1] === r[1] && e[0] < r[0] || t[1] < r[1] && e[1] === t[1] && e[0] >= t[0];\n          }, t.prototype._selectWordAtCursor = function (e, t) {\n            var r,\n                i,\n                n = null === (i = null === (r = this._linkifier.currentLink) || void 0 === r ? void 0 : r.link) || void 0 === i ? void 0 : i.range;\n            if (n) return this._model.selectionStart = [n.start.x - 1, n.start.y - 1], this._model.selectionStartLength = (0, v.getRangeLength)(n, this._bufferService.cols), this._model.selectionEnd = void 0, !0;\n\n            var o = this._getMouseBufferCoords(e);\n\n            return !!o && (this._selectWordAt(o, t), this._model.selectionEnd = void 0, !0);\n          }, t.prototype.selectAll = function () {\n            this._model.isSelectAllActive = !0, this.refresh(), this._onSelectionChange.fire();\n          }, t.prototype.selectLines = function (e, t) {\n            this._model.clearSelection(), e = Math.max(e, 0), t = Math.min(t, this._bufferService.buffer.lines.length - 1), this._model.selectionStart = [0, e], this._model.selectionEnd = [this._bufferService.cols, t], this.refresh(), this._onSelectionChange.fire();\n          }, t.prototype._onTrim = function (e) {\n            this._model.onTrim(e) && this.refresh();\n          }, t.prototype._getMouseBufferCoords = function (e) {\n            var t = this._mouseService.getCoords(e, this._screenElement, this._bufferService.cols, this._bufferService.rows, !0);\n\n            if (t) return t[0]--, t[1]--, t[1] += this._bufferService.buffer.ydisp, t;\n          }, t.prototype._getMouseEventScrollAmount = function (e) {\n            var t = (0, _.getCoordsRelativeToElement)(e, this._screenElement)[1],\n                r = this._renderService.dimensions.canvasHeight;\n            return t >= 0 && t <= r ? 0 : (t > r && (t -= r), t = Math.min(Math.max(t, -50), 50), (t /= 50) / Math.abs(t) + Math.round(14 * t));\n          }, t.prototype.shouldForceSelection = function (e) {\n            return a.isMac ? e.altKey && this._optionsService.rawOptions.macOptionClickForcesSelection : e.shiftKey;\n          }, t.prototype.onMouseDown = function (e) {\n            if (this._mouseDownTimeStamp = e.timeStamp, (2 !== e.button || !this.hasSelection) && 0 === e.button) {\n              if (!this._enabled) {\n                if (!this.shouldForceSelection(e)) return;\n                e.stopPropagation();\n              }\n\n              e.preventDefault(), this._dragScrollAmount = 0, this._enabled && e.shiftKey ? this._onIncrementalClick(e) : 1 === e.detail ? this._onSingleClick(e) : 2 === e.detail ? this._onDoubleClick(e) : 3 === e.detail && this._onTripleClick(e), this._addMouseDownListeners(), this.refresh(!0);\n            }\n          }, t.prototype._addMouseDownListeners = function () {\n            var e = this;\n            this._screenElement.ownerDocument && (this._screenElement.ownerDocument.addEventListener(\"mousemove\", this._mouseMoveListener), this._screenElement.ownerDocument.addEventListener(\"mouseup\", this._mouseUpListener)), this._dragScrollIntervalTimer = window.setInterval(function () {\n              return e._dragScroll();\n            }, 50);\n          }, t.prototype._removeMouseDownListeners = function () {\n            this._screenElement.ownerDocument && (this._screenElement.ownerDocument.removeEventListener(\"mousemove\", this._mouseMoveListener), this._screenElement.ownerDocument.removeEventListener(\"mouseup\", this._mouseUpListener)), clearInterval(this._dragScrollIntervalTimer), this._dragScrollIntervalTimer = void 0;\n          }, t.prototype._onIncrementalClick = function (e) {\n            this._model.selectionStart && (this._model.selectionEnd = this._getMouseBufferCoords(e));\n          }, t.prototype._onSingleClick = function (e) {\n            if (this._model.selectionStartLength = 0, this._model.isSelectAllActive = !1, this._activeSelectionMode = this.shouldColumnSelect(e) ? 3 : 0, this._model.selectionStart = this._getMouseBufferCoords(e), this._model.selectionStart) {\n              this._model.selectionEnd = void 0;\n\n              var t = this._bufferService.buffer.lines.get(this._model.selectionStart[1]);\n\n              t && t.length !== this._model.selectionStart[0] && 0 === t.hasWidth(this._model.selectionStart[0]) && this._model.selectionStart[0]++;\n            }\n          }, t.prototype._onDoubleClick = function (e) {\n            this._selectWordAtCursor(e, !0) && (this._activeSelectionMode = 1);\n          }, t.prototype._onTripleClick = function (e) {\n            var t = this._getMouseBufferCoords(e);\n\n            t && (this._activeSelectionMode = 2, this._selectLineAt(t[1]));\n          }, t.prototype.shouldColumnSelect = function (e) {\n            return e.altKey && !(a.isMac && this._optionsService.rawOptions.macOptionClickForcesSelection);\n          }, t.prototype._onMouseMove = function (e) {\n            if (e.stopImmediatePropagation(), this._model.selectionStart) {\n              var t = this._model.selectionEnd ? [this._model.selectionEnd[0], this._model.selectionEnd[1]] : null;\n\n              if (this._model.selectionEnd = this._getMouseBufferCoords(e), this._model.selectionEnd) {\n                2 === this._activeSelectionMode ? this._model.selectionEnd[1] < this._model.selectionStart[1] ? this._model.selectionEnd[0] = 0 : this._model.selectionEnd[0] = this._bufferService.cols : 1 === this._activeSelectionMode && this._selectToWordAt(this._model.selectionEnd), this._dragScrollAmount = this._getMouseEventScrollAmount(e), 3 !== this._activeSelectionMode && (this._dragScrollAmount > 0 ? this._model.selectionEnd[0] = this._bufferService.cols : this._dragScrollAmount < 0 && (this._model.selectionEnd[0] = 0));\n                var r = this._bufferService.buffer;\n\n                if (this._model.selectionEnd[1] < r.lines.length) {\n                  var i = r.lines.get(this._model.selectionEnd[1]);\n                  i && 0 === i.hasWidth(this._model.selectionEnd[0]) && this._model.selectionEnd[0]++;\n                }\n\n                t && t[0] === this._model.selectionEnd[0] && t[1] === this._model.selectionEnd[1] || this.refresh(!0);\n              } else this.refresh(!0);\n            }\n          }, t.prototype._dragScroll = function () {\n            if (this._model.selectionEnd && this._model.selectionStart && this._dragScrollAmount) {\n              this._onRequestScrollLines.fire({\n                amount: this._dragScrollAmount,\n                suppressScrollEvent: !1\n              });\n\n              var e = this._bufferService.buffer;\n              this._dragScrollAmount > 0 ? (3 !== this._activeSelectionMode && (this._model.selectionEnd[0] = this._bufferService.cols), this._model.selectionEnd[1] = Math.min(e.ydisp + this._bufferService.rows, e.lines.length - 1)) : (3 !== this._activeSelectionMode && (this._model.selectionEnd[0] = 0), this._model.selectionEnd[1] = e.ydisp), this.refresh();\n            }\n          }, t.prototype._onMouseUp = function (e) {\n            var t = e.timeStamp - this._mouseDownTimeStamp;\n\n            if (this._removeMouseDownListeners(), this.selectionText.length <= 1 && t < 500 && e.altKey && this._optionsService.getOption(\"altClickMovesCursor\")) {\n              if (this._bufferService.buffer.ybase === this._bufferService.buffer.ydisp) {\n                var r = this._mouseService.getCoords(e, this._element, this._bufferService.cols, this._bufferService.rows, !1);\n\n                if (r && void 0 !== r[0] && void 0 !== r[1]) {\n                  var i = (0, d.moveToCellSequence)(r[0] - 1, r[1] - 1, this._bufferService, this._coreService.decPrivateModes.applicationCursorKeys);\n\n                  this._coreService.triggerDataEvent(i, !0);\n                }\n              }\n            } else this._fireEventIfSelectionChanged();\n          }, t.prototype._fireEventIfSelectionChanged = function () {\n            var e = this._model.finalSelectionStart,\n                t = this._model.finalSelectionEnd,\n                r = !(!e || !t || e[0] === t[0] && e[1] === t[1]);\n            r ? e && t && (this._oldSelectionStart && this._oldSelectionEnd && e[0] === this._oldSelectionStart[0] && e[1] === this._oldSelectionStart[1] && t[0] === this._oldSelectionEnd[0] && t[1] === this._oldSelectionEnd[1] || this._fireOnSelectionChange(e, t, r)) : this._oldHasSelection && this._fireOnSelectionChange(e, t, r);\n          }, t.prototype._fireOnSelectionChange = function (e, t, r) {\n            this._oldSelectionStart = e, this._oldSelectionEnd = t, this._oldHasSelection = r, this._onSelectionChange.fire();\n          }, t.prototype._onBufferActivate = function (e) {\n            var t = this;\n            this.clearSelection(), this._trimListener.dispose(), this._trimListener = e.activeBuffer.lines.onTrim(function (e) {\n              return t._onTrim(e);\n            });\n          }, t.prototype._convertViewportColToCharacterIndex = function (e, t) {\n            for (var r = t[0], i = 0; t[0] >= i; i++) {\n              var n = e.loadCell(i, this._workCell).getChars().length;\n              0 === this._workCell.getWidth() ? r-- : n > 1 && t[0] !== i && (r += n - 1);\n            }\n\n            return r;\n          }, t.prototype.setSelection = function (e, t, r) {\n            this._model.clearSelection(), this._removeMouseDownListeners(), this._model.selectionStart = [e, t], this._model.selectionStartLength = r, this.refresh();\n          }, t.prototype.rightClickSelect = function (e) {\n            this._isClickInSelection(e) || (this._selectWordAtCursor(e, !1) && this.refresh(!0), this._fireEventIfSelectionChanged());\n          }, t.prototype._getWordAt = function (e, t, r, i) {\n            if (void 0 === r && (r = !0), void 0 === i && (i = !0), !(e[0] >= this._bufferService.cols)) {\n              var n = this._bufferService.buffer,\n                  o = n.lines.get(e[1]);\n\n              if (o) {\n                var s = n.translateBufferLineToString(e[1], !1),\n                    a = this._convertViewportColToCharacterIndex(o, e),\n                    c = a,\n                    l = e[0] - a,\n                    h = 0,\n                    u = 0,\n                    f = 0,\n                    _ = 0;\n\n                if (\" \" === s.charAt(a)) {\n                  for (; a > 0 && \" \" === s.charAt(a - 1);) a--;\n\n                  for (; c < s.length && \" \" === s.charAt(c + 1);) c++;\n                } else {\n                  var d = e[0],\n                      p = e[0];\n                  0 === o.getWidth(d) && (h++, d--), 2 === o.getWidth(p) && (u++, p++);\n                  var v = o.getString(p).length;\n\n                  for (v > 1 && (_ += v - 1, c += v - 1); d > 0 && a > 0 && !this._isCharWordSeparator(o.loadCell(d - 1, this._workCell));) {\n                    o.loadCell(d - 1, this._workCell);\n\n                    var g = this._workCell.getChars().length;\n\n                    0 === this._workCell.getWidth() ? (h++, d--) : g > 1 && (f += g - 1, a -= g - 1), a--, d--;\n                  }\n\n                  for (; p < o.length && c + 1 < s.length && !this._isCharWordSeparator(o.loadCell(p + 1, this._workCell));) {\n                    o.loadCell(p + 1, this._workCell);\n\n                    var y = this._workCell.getChars().length;\n\n                    2 === this._workCell.getWidth() ? (u++, p++) : y > 1 && (_ += y - 1, c += y - 1), c++, p++;\n                  }\n                }\n\n                c++;\n                var m = a + l - h + f,\n                    S = Math.min(this._bufferService.cols, c - a + h + u - f - _);\n\n                if (t || \"\" !== s.slice(a, c).trim()) {\n                  if (r && 0 === m && 32 !== o.getCodePoint(0)) {\n                    var C = n.lines.get(e[1] - 1);\n\n                    if (C && o.isWrapped && 32 !== C.getCodePoint(this._bufferService.cols - 1)) {\n                      var b = this._getWordAt([this._bufferService.cols - 1, e[1] - 1], !1, !0, !1);\n\n                      if (b) {\n                        var w = this._bufferService.cols - b.start;\n                        m -= w, S += w;\n                      }\n                    }\n                  }\n\n                  if (i && m + S === this._bufferService.cols && 32 !== o.getCodePoint(this._bufferService.cols - 1)) {\n                    var L = n.lines.get(e[1] + 1);\n\n                    if ((null == L ? void 0 : L.isWrapped) && 32 !== L.getCodePoint(0)) {\n                      var E = this._getWordAt([0, e[1] + 1], !1, !1, !0);\n\n                      E && (S += E.length);\n                    }\n                  }\n\n                  return {\n                    start: m,\n                    length: S\n                  };\n                }\n              }\n            }\n          }, t.prototype._selectWordAt = function (e, t) {\n            var r = this._getWordAt(e, t);\n\n            if (r) {\n              for (; r.start < 0;) r.start += this._bufferService.cols, e[1]--;\n\n              this._model.selectionStart = [r.start, e[1]], this._model.selectionStartLength = r.length;\n            }\n          }, t.prototype._selectToWordAt = function (e) {\n            var t = this._getWordAt(e, !0);\n\n            if (t) {\n              for (var r = e[1]; t.start < 0;) t.start += this._bufferService.cols, r--;\n\n              if (!this._model.areSelectionValuesReversed()) for (; t.start + t.length > this._bufferService.cols;) t.length -= this._bufferService.cols, r++;\n              this._model.selectionEnd = [this._model.areSelectionValuesReversed() ? t.start : t.start + t.length, r];\n            }\n          }, t.prototype._isCharWordSeparator = function (e) {\n            return 0 !== e.getWidth() && this._optionsService.rawOptions.wordSeparator.indexOf(e.getChars()) >= 0;\n          }, t.prototype._selectLineAt = function (e) {\n            var t = this._bufferService.buffer.getWrappedRangeForLine(e);\n\n            this._model.selectionStart = [0, t.first], this._model.selectionEnd = [this._bufferService.cols, t.last], this._model.selectionStartLength = 0;\n          }, o([s(3, f.IBufferService), s(4, f.ICoreService), s(5, u.IMouseService), s(6, f.IOptionsService), s(7, u.IRenderService)], t);\n        }(p.Disposable);\n\n        t.SelectionService = m;\n      },\n      4725: (e, t, r) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.ICharacterJoinerService = t.ISoundService = t.ISelectionService = t.IRenderService = t.IMouseService = t.ICoreBrowserService = t.ICharSizeService = void 0;\n        var i = r(8343);\n        t.ICharSizeService = (0, i.createDecorator)(\"CharSizeService\"), t.ICoreBrowserService = (0, i.createDecorator)(\"CoreBrowserService\"), t.IMouseService = (0, i.createDecorator)(\"MouseService\"), t.IRenderService = (0, i.createDecorator)(\"RenderService\"), t.ISelectionService = (0, i.createDecorator)(\"SelectionService\"), t.ISoundService = (0, i.createDecorator)(\"SoundService\"), t.ICharacterJoinerService = (0, i.createDecorator)(\"CharacterJoinerService\");\n      },\n      357: function (e, t, r) {\n        var i = this && this.__decorate || function (e, t, r, i) {\n          var n,\n              o = arguments.length,\n              s = o < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, r) : i;\n          if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.decorate) s = Reflect.decorate(e, t, r, i);else for (var a = e.length - 1; a >= 0; a--) (n = e[a]) && (s = (o < 3 ? n(s) : o > 3 ? n(t, r, s) : n(t, r)) || s);\n          return o > 3 && s && Object.defineProperty(t, r, s), s;\n        },\n            n = this && this.__param || function (e, t) {\n          return function (r, i) {\n            t(r, i, e);\n          };\n        };\n\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.SoundService = void 0;\n\n        var o = r(2585),\n            s = function () {\n          function e(e) {\n            this._optionsService = e;\n          }\n\n          return Object.defineProperty(e, \"audioContext\", {\n            get: function () {\n              if (!e._audioContext) {\n                var t = window.AudioContext || window.webkitAudioContext;\n                if (!t) return console.warn(\"Web Audio API is not supported by this browser. Consider upgrading to the latest version\"), null;\n                e._audioContext = new t();\n              }\n\n              return e._audioContext;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), e.prototype.playBellSound = function () {\n            var t = e.audioContext;\n\n            if (t) {\n              var r = t.createBufferSource();\n              t.decodeAudioData(this._base64ToArrayBuffer(this._removeMimeType(this._optionsService.rawOptions.bellSound)), function (e) {\n                r.buffer = e, r.connect(t.destination), r.start(0);\n              });\n            }\n          }, e.prototype._base64ToArrayBuffer = function (e) {\n            for (var t = window.atob(e), r = t.length, i = new Uint8Array(r), n = 0; n < r; n++) i[n] = t.charCodeAt(n);\n\n            return i.buffer;\n          }, e.prototype._removeMimeType = function (e) {\n            return e.split(\",\")[1];\n          }, e = i([n(0, o.IOptionsService)], e);\n        }();\n\n        t.SoundService = s;\n      },\n      6349: (e, t, r) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.CircularList = void 0;\n\n        var i = r(8460),\n            n = function () {\n          function e(e) {\n            this._maxLength = e, this.onDeleteEmitter = new i.EventEmitter(), this.onInsertEmitter = new i.EventEmitter(), this.onTrimEmitter = new i.EventEmitter(), this._array = new Array(this._maxLength), this._startIndex = 0, this._length = 0;\n          }\n\n          return Object.defineProperty(e.prototype, \"onDelete\", {\n            get: function () {\n              return this.onDeleteEmitter.event;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(e.prototype, \"onInsert\", {\n            get: function () {\n              return this.onInsertEmitter.event;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(e.prototype, \"onTrim\", {\n            get: function () {\n              return this.onTrimEmitter.event;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(e.prototype, \"maxLength\", {\n            get: function () {\n              return this._maxLength;\n            },\n            set: function (e) {\n              if (this._maxLength !== e) {\n                for (var t = new Array(e), r = 0; r < Math.min(e, this.length); r++) t[r] = this._array[this._getCyclicIndex(r)];\n\n                this._array = t, this._maxLength = e, this._startIndex = 0;\n              }\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(e.prototype, \"length\", {\n            get: function () {\n              return this._length;\n            },\n            set: function (e) {\n              if (e > this._length) for (var t = this._length; t < e; t++) this._array[t] = void 0;\n              this._length = e;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), e.prototype.get = function (e) {\n            return this._array[this._getCyclicIndex(e)];\n          }, e.prototype.set = function (e, t) {\n            this._array[this._getCyclicIndex(e)] = t;\n          }, e.prototype.push = function (e) {\n            this._array[this._getCyclicIndex(this._length)] = e, this._length === this._maxLength ? (this._startIndex = ++this._startIndex % this._maxLength, this.onTrimEmitter.fire(1)) : this._length++;\n          }, e.prototype.recycle = function () {\n            if (this._length !== this._maxLength) throw new Error(\"Can only recycle when the buffer is full\");\n            return this._startIndex = ++this._startIndex % this._maxLength, this.onTrimEmitter.fire(1), this._array[this._getCyclicIndex(this._length - 1)];\n          }, Object.defineProperty(e.prototype, \"isFull\", {\n            get: function () {\n              return this._length === this._maxLength;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), e.prototype.pop = function () {\n            return this._array[this._getCyclicIndex(this._length-- - 1)];\n          }, e.prototype.splice = function (e, t) {\n            for (var r = [], i = 2; i < arguments.length; i++) r[i - 2] = arguments[i];\n\n            if (t) {\n              for (var n = e; n < this._length - t; n++) this._array[this._getCyclicIndex(n)] = this._array[this._getCyclicIndex(n + t)];\n\n              this._length -= t, this.onDeleteEmitter.fire({\n                index: e,\n                amount: t\n              });\n            }\n\n            for (n = this._length - 1; n >= e; n--) this._array[this._getCyclicIndex(n + r.length)] = this._array[this._getCyclicIndex(n)];\n\n            for (n = 0; n < r.length; n++) this._array[this._getCyclicIndex(e + n)] = r[n];\n\n            if (r.length && this.onInsertEmitter.fire({\n              index: e,\n              amount: r.length\n            }), this._length + r.length > this._maxLength) {\n              var o = this._length + r.length - this._maxLength;\n              this._startIndex += o, this._length = this._maxLength, this.onTrimEmitter.fire(o);\n            } else this._length += r.length;\n          }, e.prototype.trimStart = function (e) {\n            e > this._length && (e = this._length), this._startIndex += e, this._length -= e, this.onTrimEmitter.fire(e);\n          }, e.prototype.shiftElements = function (e, t, r) {\n            if (!(t <= 0)) {\n              if (e < 0 || e >= this._length) throw new Error(\"start argument out of range\");\n              if (e + r < 0) throw new Error(\"Cannot shift elements in list beyond index 0\");\n\n              if (r > 0) {\n                for (var i = t - 1; i >= 0; i--) this.set(e + i + r, this.get(e + i));\n\n                var n = e + t + r - this._length;\n                if (n > 0) for (this._length += n; this._length > this._maxLength;) this._length--, this._startIndex++, this.onTrimEmitter.fire(1);\n              } else for (i = 0; i < t; i++) this.set(e + i + r, this.get(e + i));\n            }\n          }, e.prototype._getCyclicIndex = function (e) {\n            return (this._startIndex + e) % this._maxLength;\n          }, e;\n        }();\n\n        t.CircularList = n;\n      },\n      1439: (e, t) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.clone = void 0, t.clone = function e(t, r) {\n          if (void 0 === r && (r = 5), \"object\" != typeof t) return t;\n          var i = Array.isArray(t) ? [] : {};\n\n          for (var n in t) i[n] = r <= 1 ? t[n] : t[n] && e(t[n], r - 1);\n\n          return i;\n        };\n      },\n      8969: function (e, t, r) {\n        var i,\n            n = this && this.__extends || (i = function (e, t) {\n          return i = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (e, t) {\n            e.__proto__ = t;\n          } || function (e, t) {\n            for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);\n          }, i(e, t);\n        }, function (e, t) {\n          if (\"function\" != typeof t && null !== t) throw new TypeError(\"Class extends value \" + String(t) + \" is not a constructor or null\");\n\n          function r() {\n            this.constructor = e;\n          }\n\n          i(e, t), e.prototype = null === t ? Object.create(t) : (r.prototype = t.prototype, new r());\n        });\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.CoreTerminal = void 0;\n\n        var o = r(844),\n            s = r(2585),\n            a = r(4348),\n            c = r(7866),\n            l = r(744),\n            h = r(7302),\n            u = r(6975),\n            f = r(8460),\n            _ = r(1753),\n            d = r(3730),\n            p = r(1480),\n            v = r(7994),\n            g = r(9282),\n            y = r(5435),\n            m = r(5981),\n            S = !1,\n            C = function (e) {\n          function t(t) {\n            var r = e.call(this) || this;\n            return r._onBinary = new f.EventEmitter(), r._onData = new f.EventEmitter(), r._onLineFeed = new f.EventEmitter(), r._onResize = new f.EventEmitter(), r._onScroll = new f.EventEmitter(), r._instantiationService = new a.InstantiationService(), r.optionsService = new h.OptionsService(t), r._instantiationService.setService(s.IOptionsService, r.optionsService), r._bufferService = r.register(r._instantiationService.createInstance(l.BufferService)), r._instantiationService.setService(s.IBufferService, r._bufferService), r._logService = r._instantiationService.createInstance(c.LogService), r._instantiationService.setService(s.ILogService, r._logService), r.coreService = r.register(r._instantiationService.createInstance(u.CoreService, function () {\n              return r.scrollToBottom();\n            })), r._instantiationService.setService(s.ICoreService, r.coreService), r.coreMouseService = r._instantiationService.createInstance(_.CoreMouseService), r._instantiationService.setService(s.ICoreMouseService, r.coreMouseService), r._dirtyRowService = r._instantiationService.createInstance(d.DirtyRowService), r._instantiationService.setService(s.IDirtyRowService, r._dirtyRowService), r.unicodeService = r._instantiationService.createInstance(p.UnicodeService), r._instantiationService.setService(s.IUnicodeService, r.unicodeService), r._charsetService = r._instantiationService.createInstance(v.CharsetService), r._instantiationService.setService(s.ICharsetService, r._charsetService), r._inputHandler = new y.InputHandler(r._bufferService, r._charsetService, r.coreService, r._dirtyRowService, r._logService, r.optionsService, r.coreMouseService, r.unicodeService), r.register((0, f.forwardEvent)(r._inputHandler.onLineFeed, r._onLineFeed)), r.register(r._inputHandler), r.register((0, f.forwardEvent)(r._bufferService.onResize, r._onResize)), r.register((0, f.forwardEvent)(r.coreService.onData, r._onData)), r.register((0, f.forwardEvent)(r.coreService.onBinary, r._onBinary)), r.register(r.optionsService.onOptionChange(function (e) {\n              return r._updateOptions(e);\n            })), r.register(r._bufferService.onScroll(function (e) {\n              r._onScroll.fire({\n                position: r._bufferService.buffer.ydisp,\n                source: 0\n              }), r._dirtyRowService.markRangeDirty(r._bufferService.buffer.scrollTop, r._bufferService.buffer.scrollBottom);\n            })), r.register(r._inputHandler.onScroll(function (e) {\n              r._onScroll.fire({\n                position: r._bufferService.buffer.ydisp,\n                source: 0\n              }), r._dirtyRowService.markRangeDirty(r._bufferService.buffer.scrollTop, r._bufferService.buffer.scrollBottom);\n            })), r._writeBuffer = new m.WriteBuffer(function (e, t) {\n              return r._inputHandler.parse(e, t);\n            }), r;\n          }\n\n          return n(t, e), Object.defineProperty(t.prototype, \"onBinary\", {\n            get: function () {\n              return this._onBinary.event;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(t.prototype, \"onData\", {\n            get: function () {\n              return this._onData.event;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(t.prototype, \"onLineFeed\", {\n            get: function () {\n              return this._onLineFeed.event;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(t.prototype, \"onResize\", {\n            get: function () {\n              return this._onResize.event;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(t.prototype, \"onScroll\", {\n            get: function () {\n              var e = this;\n              return this._onScrollApi || (this._onScrollApi = new f.EventEmitter(), this.register(this._onScroll.event(function (t) {\n                var r;\n                null === (r = e._onScrollApi) || void 0 === r || r.fire(t.position);\n              }))), this._onScrollApi.event;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(t.prototype, \"cols\", {\n            get: function () {\n              return this._bufferService.cols;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(t.prototype, \"rows\", {\n            get: function () {\n              return this._bufferService.rows;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(t.prototype, \"buffers\", {\n            get: function () {\n              return this._bufferService.buffers;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(t.prototype, \"options\", {\n            get: function () {\n              return this.optionsService.options;\n            },\n            set: function (e) {\n              for (var t in e) this.optionsService.options[t] = e[t];\n            },\n            enumerable: !1,\n            configurable: !0\n          }), t.prototype.dispose = function () {\n            var t;\n            this._isDisposed || (e.prototype.dispose.call(this), null === (t = this._windowsMode) || void 0 === t || t.dispose(), this._windowsMode = void 0);\n          }, t.prototype.write = function (e, t) {\n            this._writeBuffer.write(e, t);\n          }, t.prototype.writeSync = function (e, t) {\n            this._logService.logLevel <= s.LogLevelEnum.WARN && !S && (this._logService.warn(\"writeSync is unreliable and will be removed soon.\"), S = !0), this._writeBuffer.writeSync(e, t);\n          }, t.prototype.resize = function (e, t) {\n            isNaN(e) || isNaN(t) || (e = Math.max(e, l.MINIMUM_COLS), t = Math.max(t, l.MINIMUM_ROWS), this._bufferService.resize(e, t));\n          }, t.prototype.scroll = function (e, t) {\n            void 0 === t && (t = !1), this._bufferService.scroll(e, t);\n          }, t.prototype.scrollLines = function (e, t, r) {\n            this._bufferService.scrollLines(e, t, r);\n          }, t.prototype.scrollPages = function (e) {\n            this._bufferService.scrollPages(e);\n          }, t.prototype.scrollToTop = function () {\n            this._bufferService.scrollToTop();\n          }, t.prototype.scrollToBottom = function () {\n            this._bufferService.scrollToBottom();\n          }, t.prototype.scrollToLine = function (e) {\n            this._bufferService.scrollToLine(e);\n          }, t.prototype.registerEscHandler = function (e, t) {\n            return this._inputHandler.registerEscHandler(e, t);\n          }, t.prototype.registerDcsHandler = function (e, t) {\n            return this._inputHandler.registerDcsHandler(e, t);\n          }, t.prototype.registerCsiHandler = function (e, t) {\n            return this._inputHandler.registerCsiHandler(e, t);\n          }, t.prototype.registerOscHandler = function (e, t) {\n            return this._inputHandler.registerOscHandler(e, t);\n          }, t.prototype._setup = function () {\n            this.optionsService.rawOptions.windowsMode && this._enableWindowsMode();\n          }, t.prototype.reset = function () {\n            this._inputHandler.reset(), this._bufferService.reset(), this._charsetService.reset(), this.coreService.reset(), this.coreMouseService.reset();\n          }, t.prototype._updateOptions = function (e) {\n            var t;\n\n            switch (e) {\n              case \"scrollback\":\n                this.buffers.resize(this.cols, this.rows);\n                break;\n\n              case \"windowsMode\":\n                this.optionsService.rawOptions.windowsMode ? this._enableWindowsMode() : (null === (t = this._windowsMode) || void 0 === t || t.dispose(), this._windowsMode = void 0);\n            }\n          }, t.prototype._enableWindowsMode = function () {\n            var e = this;\n\n            if (!this._windowsMode) {\n              var t = [];\n              t.push(this.onLineFeed(g.updateWindowsModeWrappedState.bind(null, this._bufferService))), t.push(this.registerCsiHandler({\n                final: \"H\"\n              }, function () {\n                return (0, g.updateWindowsModeWrappedState)(e._bufferService), !1;\n              })), this._windowsMode = {\n                dispose: function () {\n                  for (var e = 0, r = t; e < r.length; e++) r[e].dispose();\n                }\n              };\n            }\n          }, t;\n        }(o.Disposable);\n\n        t.CoreTerminal = C;\n      },\n      8460: (e, t) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.forwardEvent = t.EventEmitter = void 0;\n\n        var r = function () {\n          function e() {\n            this._listeners = [], this._disposed = !1;\n          }\n\n          return Object.defineProperty(e.prototype, \"event\", {\n            get: function () {\n              var e = this;\n              return this._event || (this._event = function (t) {\n                return e._listeners.push(t), {\n                  dispose: function () {\n                    if (!e._disposed) for (var r = 0; r < e._listeners.length; r++) if (e._listeners[r] === t) return void e._listeners.splice(r, 1);\n                  }\n                };\n              }), this._event;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), e.prototype.fire = function (e, t) {\n            for (var r = [], i = 0; i < this._listeners.length; i++) r.push(this._listeners[i]);\n\n            for (i = 0; i < r.length; i++) r[i].call(void 0, e, t);\n          }, e.prototype.dispose = function () {\n            this._listeners && (this._listeners.length = 0), this._disposed = !0;\n          }, e;\n        }();\n\n        t.EventEmitter = r, t.forwardEvent = function (e, t) {\n          return e(function (e) {\n            return t.fire(e);\n          });\n        };\n      },\n      5435: function (e, t, r) {\n        var i,\n            n = this && this.__extends || (i = function (e, t) {\n          return i = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (e, t) {\n            e.__proto__ = t;\n          } || function (e, t) {\n            for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);\n          }, i(e, t);\n        }, function (e, t) {\n          if (\"function\" != typeof t && null !== t) throw new TypeError(\"Class extends value \" + String(t) + \" is not a constructor or null\");\n\n          function r() {\n            this.constructor = e;\n          }\n\n          i(e, t), e.prototype = null === t ? Object.create(t) : (r.prototype = t.prototype, new r());\n        });\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.InputHandler = t.WindowsOptionsReportType = void 0;\n\n        var o,\n            s = r(2584),\n            a = r(7116),\n            c = r(2015),\n            l = r(844),\n            h = r(8273),\n            u = r(482),\n            f = r(8437),\n            _ = r(8460),\n            d = r(643),\n            p = r(511),\n            v = r(3734),\n            g = r(2585),\n            y = r(6242),\n            m = r(6351),\n            S = r(5941),\n            C = {\n          \"(\": 0,\n          \")\": 1,\n          \"*\": 2,\n          \"+\": 3,\n          \"-\": 1,\n          \".\": 2\n        },\n            b = 131072;\n\n        function w(e, t) {\n          if (e > 24) return t.setWinLines || !1;\n\n          switch (e) {\n            case 1:\n              return !!t.restoreWin;\n\n            case 2:\n              return !!t.minimizeWin;\n\n            case 3:\n              return !!t.setWinPosition;\n\n            case 4:\n              return !!t.setWinSizePixels;\n\n            case 5:\n              return !!t.raiseWin;\n\n            case 6:\n              return !!t.lowerWin;\n\n            case 7:\n              return !!t.refreshWin;\n\n            case 8:\n              return !!t.setWinSizeChars;\n\n            case 9:\n              return !!t.maximizeWin;\n\n            case 10:\n              return !!t.fullscreenWin;\n\n            case 11:\n              return !!t.getWinState;\n\n            case 13:\n              return !!t.getWinPosition;\n\n            case 14:\n              return !!t.getWinSizePixels;\n\n            case 15:\n              return !!t.getScreenSizePixels;\n\n            case 16:\n              return !!t.getCellSizePixels;\n\n            case 18:\n              return !!t.getWinSizeChars;\n\n            case 19:\n              return !!t.getScreenSizeChars;\n\n            case 20:\n              return !!t.getIconTitle;\n\n            case 21:\n              return !!t.getWinTitle;\n\n            case 22:\n              return !!t.pushTitle;\n\n            case 23:\n              return !!t.popTitle;\n\n            case 24:\n              return !!t.setWinLines;\n          }\n\n          return !1;\n        }\n\n        !function (e) {\n          e[e.GET_WIN_SIZE_PIXELS = 0] = \"GET_WIN_SIZE_PIXELS\", e[e.GET_CELL_SIZE_PIXELS = 1] = \"GET_CELL_SIZE_PIXELS\";\n        }(o = t.WindowsOptionsReportType || (t.WindowsOptionsReportType = {}));\n\n        var L = function () {\n          function e(e, t, r, i) {\n            this._bufferService = e, this._coreService = t, this._logService = r, this._optionsService = i, this._data = new Uint32Array(0);\n          }\n\n          return e.prototype.hook = function (e) {\n            this._data = new Uint32Array(0);\n          }, e.prototype.put = function (e, t, r) {\n            this._data = (0, h.concat)(this._data, e.subarray(t, r));\n          }, e.prototype.unhook = function (e) {\n            if (!e) return this._data = new Uint32Array(0), !0;\n            var t = (0, u.utf32ToString)(this._data);\n\n            switch (this._data = new Uint32Array(0), t) {\n              case '\"q':\n                this._coreService.triggerDataEvent(s.C0.ESC + 'P1$r0\"q' + s.C0.ESC + \"\\\\\");\n\n                break;\n\n              case '\"p':\n                this._coreService.triggerDataEvent(s.C0.ESC + 'P1$r61;1\"p' + s.C0.ESC + \"\\\\\");\n\n                break;\n\n              case \"r\":\n                var r = this._bufferService.buffer.scrollTop + 1 + \";\" + (this._bufferService.buffer.scrollBottom + 1) + \"r\";\n\n                this._coreService.triggerDataEvent(s.C0.ESC + \"P1$r\" + r + s.C0.ESC + \"\\\\\");\n\n                break;\n\n              case \"m\":\n                this._coreService.triggerDataEvent(s.C0.ESC + \"P1$r0m\" + s.C0.ESC + \"\\\\\");\n\n                break;\n\n              case \" q\":\n                var i = {\n                  block: 2,\n                  underline: 4,\n                  bar: 6\n                }[this._optionsService.rawOptions.cursorStyle];\n                i -= this._optionsService.rawOptions.cursorBlink ? 1 : 0, this._coreService.triggerDataEvent(s.C0.ESC + \"P1$r\" + i + \" q\" + s.C0.ESC + \"\\\\\");\n                break;\n\n              default:\n                this._logService.debug(\"Unknown DCS $q %s\", t), this._coreService.triggerDataEvent(s.C0.ESC + \"P0$r\" + s.C0.ESC + \"\\\\\");\n            }\n\n            return !0;\n          }, e;\n        }(),\n            E = function (e) {\n          function t(t, r, i, n, o, l, h, d, v) {\n            void 0 === v && (v = new c.EscapeSequenceParser());\n            var g = e.call(this) || this;\n            g._bufferService = t, g._charsetService = r, g._coreService = i, g._dirtyRowService = n, g._logService = o, g._optionsService = l, g._coreMouseService = h, g._unicodeService = d, g._parser = v, g._parseBuffer = new Uint32Array(4096), g._stringDecoder = new u.StringToUtf32(), g._utf8Decoder = new u.Utf8ToUtf32(), g._workCell = new p.CellData(), g._windowTitle = \"\", g._iconName = \"\", g._windowTitleStack = [], g._iconNameStack = [], g._curAttrData = f.DEFAULT_ATTR_DATA.clone(), g._eraseAttrDataInternal = f.DEFAULT_ATTR_DATA.clone(), g._onRequestBell = new _.EventEmitter(), g._onRequestRefreshRows = new _.EventEmitter(), g._onRequestReset = new _.EventEmitter(), g._onRequestSendFocus = new _.EventEmitter(), g._onRequestSyncScrollBar = new _.EventEmitter(), g._onRequestWindowsOptionsReport = new _.EventEmitter(), g._onA11yChar = new _.EventEmitter(), g._onA11yTab = new _.EventEmitter(), g._onCursorMove = new _.EventEmitter(), g._onLineFeed = new _.EventEmitter(), g._onScroll = new _.EventEmitter(), g._onTitleChange = new _.EventEmitter(), g._onColor = new _.EventEmitter(), g._parseStack = {\n              paused: !1,\n              cursorStartX: 0,\n              cursorStartY: 0,\n              decodedLength: 0,\n              position: 0\n            }, g._specialColors = [256, 257, 258], g.register(g._parser), g._activeBuffer = g._bufferService.buffer, g.register(g._bufferService.buffers.onBufferActivate(function (e) {\n              return g._activeBuffer = e.activeBuffer;\n            })), g._parser.setCsiHandlerFallback(function (e, t) {\n              g._logService.debug(\"Unknown CSI code: \", {\n                identifier: g._parser.identToString(e),\n                params: t.toArray()\n              });\n            }), g._parser.setEscHandlerFallback(function (e) {\n              g._logService.debug(\"Unknown ESC code: \", {\n                identifier: g._parser.identToString(e)\n              });\n            }), g._parser.setExecuteHandlerFallback(function (e) {\n              g._logService.debug(\"Unknown EXECUTE code: \", {\n                code: e\n              });\n            }), g._parser.setOscHandlerFallback(function (e, t, r) {\n              g._logService.debug(\"Unknown OSC code: \", {\n                identifier: e,\n                action: t,\n                data: r\n              });\n            }), g._parser.setDcsHandlerFallback(function (e, t, r) {\n              \"HOOK\" === t && (r = r.toArray()), g._logService.debug(\"Unknown DCS code: \", {\n                identifier: g._parser.identToString(e),\n                action: t,\n                payload: r\n              });\n            }), g._parser.setPrintHandler(function (e, t, r) {\n              return g.print(e, t, r);\n            }), g._parser.registerCsiHandler({\n              final: \"@\"\n            }, function (e) {\n              return g.insertChars(e);\n            }), g._parser.registerCsiHandler({\n              intermediates: \" \",\n              final: \"@\"\n            }, function (e) {\n              return g.scrollLeft(e);\n            }), g._parser.registerCsiHandler({\n              final: \"A\"\n            }, function (e) {\n              return g.cursorUp(e);\n            }), g._parser.registerCsiHandler({\n              intermediates: \" \",\n              final: \"A\"\n            }, function (e) {\n              return g.scrollRight(e);\n            }), g._parser.registerCsiHandler({\n              final: \"B\"\n            }, function (e) {\n              return g.cursorDown(e);\n            }), g._parser.registerCsiHandler({\n              final: \"C\"\n            }, function (e) {\n              return g.cursorForward(e);\n            }), g._parser.registerCsiHandler({\n              final: \"D\"\n            }, function (e) {\n              return g.cursorBackward(e);\n            }), g._parser.registerCsiHandler({\n              final: \"E\"\n            }, function (e) {\n              return g.cursorNextLine(e);\n            }), g._parser.registerCsiHandler({\n              final: \"F\"\n            }, function (e) {\n              return g.cursorPrecedingLine(e);\n            }), g._parser.registerCsiHandler({\n              final: \"G\"\n            }, function (e) {\n              return g.cursorCharAbsolute(e);\n            }), g._parser.registerCsiHandler({\n              final: \"H\"\n            }, function (e) {\n              return g.cursorPosition(e);\n            }), g._parser.registerCsiHandler({\n              final: \"I\"\n            }, function (e) {\n              return g.cursorForwardTab(e);\n            }), g._parser.registerCsiHandler({\n              final: \"J\"\n            }, function (e) {\n              return g.eraseInDisplay(e);\n            }), g._parser.registerCsiHandler({\n              prefix: \"?\",\n              final: \"J\"\n            }, function (e) {\n              return g.eraseInDisplay(e);\n            }), g._parser.registerCsiHandler({\n              final: \"K\"\n            }, function (e) {\n              return g.eraseInLine(e);\n            }), g._parser.registerCsiHandler({\n              prefix: \"?\",\n              final: \"K\"\n            }, function (e) {\n              return g.eraseInLine(e);\n            }), g._parser.registerCsiHandler({\n              final: \"L\"\n            }, function (e) {\n              return g.insertLines(e);\n            }), g._parser.registerCsiHandler({\n              final: \"M\"\n            }, function (e) {\n              return g.deleteLines(e);\n            }), g._parser.registerCsiHandler({\n              final: \"P\"\n            }, function (e) {\n              return g.deleteChars(e);\n            }), g._parser.registerCsiHandler({\n              final: \"S\"\n            }, function (e) {\n              return g.scrollUp(e);\n            }), g._parser.registerCsiHandler({\n              final: \"T\"\n            }, function (e) {\n              return g.scrollDown(e);\n            }), g._parser.registerCsiHandler({\n              final: \"X\"\n            }, function (e) {\n              return g.eraseChars(e);\n            }), g._parser.registerCsiHandler({\n              final: \"Z\"\n            }, function (e) {\n              return g.cursorBackwardTab(e);\n            }), g._parser.registerCsiHandler({\n              final: \"`\"\n            }, function (e) {\n              return g.charPosAbsolute(e);\n            }), g._parser.registerCsiHandler({\n              final: \"a\"\n            }, function (e) {\n              return g.hPositionRelative(e);\n            }), g._parser.registerCsiHandler({\n              final: \"b\"\n            }, function (e) {\n              return g.repeatPrecedingCharacter(e);\n            }), g._parser.registerCsiHandler({\n              final: \"c\"\n            }, function (e) {\n              return g.sendDeviceAttributesPrimary(e);\n            }), g._parser.registerCsiHandler({\n              prefix: \">\",\n              final: \"c\"\n            }, function (e) {\n              return g.sendDeviceAttributesSecondary(e);\n            }), g._parser.registerCsiHandler({\n              final: \"d\"\n            }, function (e) {\n              return g.linePosAbsolute(e);\n            }), g._parser.registerCsiHandler({\n              final: \"e\"\n            }, function (e) {\n              return g.vPositionRelative(e);\n            }), g._parser.registerCsiHandler({\n              final: \"f\"\n            }, function (e) {\n              return g.hVPosition(e);\n            }), g._parser.registerCsiHandler({\n              final: \"g\"\n            }, function (e) {\n              return g.tabClear(e);\n            }), g._parser.registerCsiHandler({\n              final: \"h\"\n            }, function (e) {\n              return g.setMode(e);\n            }), g._parser.registerCsiHandler({\n              prefix: \"?\",\n              final: \"h\"\n            }, function (e) {\n              return g.setModePrivate(e);\n            }), g._parser.registerCsiHandler({\n              final: \"l\"\n            }, function (e) {\n              return g.resetMode(e);\n            }), g._parser.registerCsiHandler({\n              prefix: \"?\",\n              final: \"l\"\n            }, function (e) {\n              return g.resetModePrivate(e);\n            }), g._parser.registerCsiHandler({\n              final: \"m\"\n            }, function (e) {\n              return g.charAttributes(e);\n            }), g._parser.registerCsiHandler({\n              final: \"n\"\n            }, function (e) {\n              return g.deviceStatus(e);\n            }), g._parser.registerCsiHandler({\n              prefix: \"?\",\n              final: \"n\"\n            }, function (e) {\n              return g.deviceStatusPrivate(e);\n            }), g._parser.registerCsiHandler({\n              intermediates: \"!\",\n              final: \"p\"\n            }, function (e) {\n              return g.softReset(e);\n            }), g._parser.registerCsiHandler({\n              intermediates: \" \",\n              final: \"q\"\n            }, function (e) {\n              return g.setCursorStyle(e);\n            }), g._parser.registerCsiHandler({\n              final: \"r\"\n            }, function (e) {\n              return g.setScrollRegion(e);\n            }), g._parser.registerCsiHandler({\n              final: \"s\"\n            }, function (e) {\n              return g.saveCursor(e);\n            }), g._parser.registerCsiHandler({\n              final: \"t\"\n            }, function (e) {\n              return g.windowOptions(e);\n            }), g._parser.registerCsiHandler({\n              final: \"u\"\n            }, function (e) {\n              return g.restoreCursor(e);\n            }), g._parser.registerCsiHandler({\n              intermediates: \"'\",\n              final: \"}\"\n            }, function (e) {\n              return g.insertColumns(e);\n            }), g._parser.registerCsiHandler({\n              intermediates: \"'\",\n              final: \"~\"\n            }, function (e) {\n              return g.deleteColumns(e);\n            }), g._parser.setExecuteHandler(s.C0.BEL, function () {\n              return g.bell();\n            }), g._parser.setExecuteHandler(s.C0.LF, function () {\n              return g.lineFeed();\n            }), g._parser.setExecuteHandler(s.C0.VT, function () {\n              return g.lineFeed();\n            }), g._parser.setExecuteHandler(s.C0.FF, function () {\n              return g.lineFeed();\n            }), g._parser.setExecuteHandler(s.C0.CR, function () {\n              return g.carriageReturn();\n            }), g._parser.setExecuteHandler(s.C0.BS, function () {\n              return g.backspace();\n            }), g._parser.setExecuteHandler(s.C0.HT, function () {\n              return g.tab();\n            }), g._parser.setExecuteHandler(s.C0.SO, function () {\n              return g.shiftOut();\n            }), g._parser.setExecuteHandler(s.C0.SI, function () {\n              return g.shiftIn();\n            }), g._parser.setExecuteHandler(s.C1.IND, function () {\n              return g.index();\n            }), g._parser.setExecuteHandler(s.C1.NEL, function () {\n              return g.nextLine();\n            }), g._parser.setExecuteHandler(s.C1.HTS, function () {\n              return g.tabSet();\n            }), g._parser.registerOscHandler(0, new y.OscHandler(function (e) {\n              return g.setTitle(e), g.setIconName(e), !0;\n            })), g._parser.registerOscHandler(1, new y.OscHandler(function (e) {\n              return g.setIconName(e);\n            })), g._parser.registerOscHandler(2, new y.OscHandler(function (e) {\n              return g.setTitle(e);\n            })), g._parser.registerOscHandler(4, new y.OscHandler(function (e) {\n              return g.setOrReportIndexedColor(e);\n            })), g._parser.registerOscHandler(10, new y.OscHandler(function (e) {\n              return g.setOrReportFgColor(e);\n            })), g._parser.registerOscHandler(11, new y.OscHandler(function (e) {\n              return g.setOrReportBgColor(e);\n            })), g._parser.registerOscHandler(12, new y.OscHandler(function (e) {\n              return g.setOrReportCursorColor(e);\n            })), g._parser.registerOscHandler(104, new y.OscHandler(function (e) {\n              return g.restoreIndexedColor(e);\n            })), g._parser.registerOscHandler(110, new y.OscHandler(function (e) {\n              return g.restoreFgColor(e);\n            })), g._parser.registerOscHandler(111, new y.OscHandler(function (e) {\n              return g.restoreBgColor(e);\n            })), g._parser.registerOscHandler(112, new y.OscHandler(function (e) {\n              return g.restoreCursorColor(e);\n            })), g._parser.registerEscHandler({\n              final: \"7\"\n            }, function () {\n              return g.saveCursor();\n            }), g._parser.registerEscHandler({\n              final: \"8\"\n            }, function () {\n              return g.restoreCursor();\n            }), g._parser.registerEscHandler({\n              final: \"D\"\n            }, function () {\n              return g.index();\n            }), g._parser.registerEscHandler({\n              final: \"E\"\n            }, function () {\n              return g.nextLine();\n            }), g._parser.registerEscHandler({\n              final: \"H\"\n            }, function () {\n              return g.tabSet();\n            }), g._parser.registerEscHandler({\n              final: \"M\"\n            }, function () {\n              return g.reverseIndex();\n            }), g._parser.registerEscHandler({\n              final: \"=\"\n            }, function () {\n              return g.keypadApplicationMode();\n            }), g._parser.registerEscHandler({\n              final: \">\"\n            }, function () {\n              return g.keypadNumericMode();\n            }), g._parser.registerEscHandler({\n              final: \"c\"\n            }, function () {\n              return g.fullReset();\n            }), g._parser.registerEscHandler({\n              final: \"n\"\n            }, function () {\n              return g.setgLevel(2);\n            }), g._parser.registerEscHandler({\n              final: \"o\"\n            }, function () {\n              return g.setgLevel(3);\n            }), g._parser.registerEscHandler({\n              final: \"|\"\n            }, function () {\n              return g.setgLevel(3);\n            }), g._parser.registerEscHandler({\n              final: \"}\"\n            }, function () {\n              return g.setgLevel(2);\n            }), g._parser.registerEscHandler({\n              final: \"~\"\n            }, function () {\n              return g.setgLevel(1);\n            }), g._parser.registerEscHandler({\n              intermediates: \"%\",\n              final: \"@\"\n            }, function () {\n              return g.selectDefaultCharset();\n            }), g._parser.registerEscHandler({\n              intermediates: \"%\",\n              final: \"G\"\n            }, function () {\n              return g.selectDefaultCharset();\n            });\n\n            var m = function (e) {\n              S._parser.registerEscHandler({\n                intermediates: \"(\",\n                final: e\n              }, function () {\n                return g.selectCharset(\"(\" + e);\n              }), S._parser.registerEscHandler({\n                intermediates: \")\",\n                final: e\n              }, function () {\n                return g.selectCharset(\")\" + e);\n              }), S._parser.registerEscHandler({\n                intermediates: \"*\",\n                final: e\n              }, function () {\n                return g.selectCharset(\"*\" + e);\n              }), S._parser.registerEscHandler({\n                intermediates: \"+\",\n                final: e\n              }, function () {\n                return g.selectCharset(\"+\" + e);\n              }), S._parser.registerEscHandler({\n                intermediates: \"-\",\n                final: e\n              }, function () {\n                return g.selectCharset(\"-\" + e);\n              }), S._parser.registerEscHandler({\n                intermediates: \".\",\n                final: e\n              }, function () {\n                return g.selectCharset(\".\" + e);\n              }), S._parser.registerEscHandler({\n                intermediates: \"/\",\n                final: e\n              }, function () {\n                return g.selectCharset(\"/\" + e);\n              });\n            },\n                S = this;\n\n            for (var C in a.CHARSETS) m(C);\n\n            return g._parser.registerEscHandler({\n              intermediates: \"#\",\n              final: \"8\"\n            }, function () {\n              return g.screenAlignmentPattern();\n            }), g._parser.setErrorHandler(function (e) {\n              return g._logService.error(\"Parsing error: \", e), e;\n            }), g._parser.registerDcsHandler({\n              intermediates: \"$\",\n              final: \"q\"\n            }, new L(g._bufferService, g._coreService, g._logService, g._optionsService)), g;\n          }\n\n          return n(t, e), Object.defineProperty(t.prototype, \"onRequestBell\", {\n            get: function () {\n              return this._onRequestBell.event;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(t.prototype, \"onRequestRefreshRows\", {\n            get: function () {\n              return this._onRequestRefreshRows.event;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(t.prototype, \"onRequestReset\", {\n            get: function () {\n              return this._onRequestReset.event;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(t.prototype, \"onRequestSendFocus\", {\n            get: function () {\n              return this._onRequestSendFocus.event;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(t.prototype, \"onRequestSyncScrollBar\", {\n            get: function () {\n              return this._onRequestSyncScrollBar.event;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(t.prototype, \"onRequestWindowsOptionsReport\", {\n            get: function () {\n              return this._onRequestWindowsOptionsReport.event;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(t.prototype, \"onA11yChar\", {\n            get: function () {\n              return this._onA11yChar.event;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(t.prototype, \"onA11yTab\", {\n            get: function () {\n              return this._onA11yTab.event;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(t.prototype, \"onCursorMove\", {\n            get: function () {\n              return this._onCursorMove.event;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(t.prototype, \"onLineFeed\", {\n            get: function () {\n              return this._onLineFeed.event;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(t.prototype, \"onScroll\", {\n            get: function () {\n              return this._onScroll.event;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(t.prototype, \"onTitleChange\", {\n            get: function () {\n              return this._onTitleChange.event;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(t.prototype, \"onColor\", {\n            get: function () {\n              return this._onColor.event;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), t.prototype.dispose = function () {\n            e.prototype.dispose.call(this);\n          }, t.prototype._preserveStack = function (e, t, r, i) {\n            this._parseStack.paused = !0, this._parseStack.cursorStartX = e, this._parseStack.cursorStartY = t, this._parseStack.decodedLength = r, this._parseStack.position = i;\n          }, t.prototype._logSlowResolvingAsync = function (e) {\n            this._logService.logLevel <= g.LogLevelEnum.WARN && Promise.race([e, new Promise(function (e, t) {\n              return setTimeout(function () {\n                return t(\"#SLOW_TIMEOUT\");\n              }, 5e3);\n            })]).catch(function (e) {\n              if (\"#SLOW_TIMEOUT\" !== e) throw e;\n              console.warn(\"async parser handler taking longer than 5000 ms\");\n            });\n          }, t.prototype.parse = function (e, t) {\n            var r,\n                i = this._activeBuffer.x,\n                n = this._activeBuffer.y,\n                o = 0,\n                s = this._parseStack.paused;\n\n            if (s) {\n              if (r = this._parser.parse(this._parseBuffer, this._parseStack.decodedLength, t)) return this._logSlowResolvingAsync(r), r;\n              i = this._parseStack.cursorStartX, n = this._parseStack.cursorStartY, this._parseStack.paused = !1, e.length > b && (o = this._parseStack.position + b);\n            }\n\n            if (this._logService.logLevel <= g.LogLevelEnum.DEBUG && this._logService.debug(\"parsing data\" + (\"string\" == typeof e ? ' \"' + e + '\"' : \"\"), \"string\" == typeof e ? e.split(\"\").map(function (e) {\n              return e.charCodeAt(0);\n            }) : e), this._parseBuffer.length < e.length && this._parseBuffer.length < b && (this._parseBuffer = new Uint32Array(Math.min(e.length, b))), s || this._dirtyRowService.clearRange(), e.length > b) for (var a = o; a < e.length; a += b) {\n              var c = a + b < e.length ? a + b : e.length,\n                  l = \"string\" == typeof e ? this._stringDecoder.decode(e.substring(a, c), this._parseBuffer) : this._utf8Decoder.decode(e.subarray(a, c), this._parseBuffer);\n              if (r = this._parser.parse(this._parseBuffer, l)) return this._preserveStack(i, n, l, a), this._logSlowResolvingAsync(r), r;\n            } else if (!s && (l = \"string\" == typeof e ? this._stringDecoder.decode(e, this._parseBuffer) : this._utf8Decoder.decode(e, this._parseBuffer), r = this._parser.parse(this._parseBuffer, l))) return this._preserveStack(i, n, l, 0), this._logSlowResolvingAsync(r), r;\n            this._activeBuffer.x === i && this._activeBuffer.y === n || this._onCursorMove.fire(), this._onRequestRefreshRows.fire(this._dirtyRowService.start, this._dirtyRowService.end);\n          }, t.prototype.print = function (e, t, r) {\n            var i,\n                n,\n                o = this._charsetService.charset,\n                s = this._optionsService.rawOptions.screenReaderMode,\n                a = this._bufferService.cols,\n                c = this._coreService.decPrivateModes.wraparound,\n                l = this._coreService.modes.insertMode,\n                h = this._curAttrData,\n                f = this._activeBuffer.lines.get(this._activeBuffer.ybase + this._activeBuffer.y);\n\n            this._dirtyRowService.markDirty(this._activeBuffer.y), this._activeBuffer.x && r - t > 0 && 2 === f.getWidth(this._activeBuffer.x - 1) && f.setCellFromCodePoint(this._activeBuffer.x - 1, 0, 1, h.fg, h.bg, h.extended);\n\n            for (var _ = t; _ < r; ++_) {\n              if (i = e[_], n = this._unicodeService.wcwidth(i), i < 127 && o) {\n                var p = o[String.fromCharCode(i)];\n                p && (i = p.charCodeAt(0));\n              }\n\n              if (s && this._onA11yChar.fire((0, u.stringFromCodePoint)(i)), n || !this._activeBuffer.x) {\n                if (this._activeBuffer.x + n - 1 >= a) if (c) {\n                  for (; this._activeBuffer.x < a;) f.setCellFromCodePoint(this._activeBuffer.x++, 0, 1, h.fg, h.bg, h.extended);\n\n                  this._activeBuffer.x = 0, this._activeBuffer.y++, this._activeBuffer.y === this._activeBuffer.scrollBottom + 1 ? (this._activeBuffer.y--, this._bufferService.scroll(this._eraseAttrData(), !0)) : (this._activeBuffer.y >= this._bufferService.rows && (this._activeBuffer.y = this._bufferService.rows - 1), this._activeBuffer.lines.get(this._activeBuffer.ybase + this._activeBuffer.y).isWrapped = !0), f = this._activeBuffer.lines.get(this._activeBuffer.ybase + this._activeBuffer.y);\n                } else if (this._activeBuffer.x = a - 1, 2 === n) continue;\n                if (l && (f.insertCells(this._activeBuffer.x, n, this._activeBuffer.getNullCell(h), h), 2 === f.getWidth(a - 1) && f.setCellFromCodePoint(a - 1, d.NULL_CELL_CODE, d.NULL_CELL_WIDTH, h.fg, h.bg, h.extended)), f.setCellFromCodePoint(this._activeBuffer.x++, i, n, h.fg, h.bg, h.extended), n > 0) for (; --n;) f.setCellFromCodePoint(this._activeBuffer.x++, 0, 0, h.fg, h.bg, h.extended);\n              } else f.getWidth(this._activeBuffer.x - 1) ? f.addCodepointToCell(this._activeBuffer.x - 1, i) : f.addCodepointToCell(this._activeBuffer.x - 2, i);\n            }\n\n            r - t > 0 && (f.loadCell(this._activeBuffer.x - 1, this._workCell), 2 === this._workCell.getWidth() || this._workCell.getCode() > 65535 ? this._parser.precedingCodepoint = 0 : this._workCell.isCombined() ? this._parser.precedingCodepoint = this._workCell.getChars().charCodeAt(0) : this._parser.precedingCodepoint = this._workCell.content), this._activeBuffer.x < a && r - t > 0 && 0 === f.getWidth(this._activeBuffer.x) && !f.hasContent(this._activeBuffer.x) && f.setCellFromCodePoint(this._activeBuffer.x, 0, 1, h.fg, h.bg, h.extended), this._dirtyRowService.markDirty(this._activeBuffer.y);\n          }, t.prototype.registerCsiHandler = function (e, t) {\n            var r = this;\n            return \"t\" !== e.final || e.prefix || e.intermediates ? this._parser.registerCsiHandler(e, t) : this._parser.registerCsiHandler(e, function (e) {\n              return !w(e.params[0], r._optionsService.rawOptions.windowOptions) || t(e);\n            });\n          }, t.prototype.registerDcsHandler = function (e, t) {\n            return this._parser.registerDcsHandler(e, new m.DcsHandler(t));\n          }, t.prototype.registerEscHandler = function (e, t) {\n            return this._parser.registerEscHandler(e, t);\n          }, t.prototype.registerOscHandler = function (e, t) {\n            return this._parser.registerOscHandler(e, new y.OscHandler(t));\n          }, t.prototype.bell = function () {\n            return this._onRequestBell.fire(), !0;\n          }, t.prototype.lineFeed = function () {\n            return this._dirtyRowService.markDirty(this._activeBuffer.y), this._optionsService.rawOptions.convertEol && (this._activeBuffer.x = 0), this._activeBuffer.y++, this._activeBuffer.y === this._activeBuffer.scrollBottom + 1 ? (this._activeBuffer.y--, this._bufferService.scroll(this._eraseAttrData())) : this._activeBuffer.y >= this._bufferService.rows && (this._activeBuffer.y = this._bufferService.rows - 1), this._activeBuffer.x >= this._bufferService.cols && this._activeBuffer.x--, this._dirtyRowService.markDirty(this._activeBuffer.y), this._onLineFeed.fire(), !0;\n          }, t.prototype.carriageReturn = function () {\n            return this._activeBuffer.x = 0, !0;\n          }, t.prototype.backspace = function () {\n            var e;\n            if (!this._coreService.decPrivateModes.reverseWraparound) return this._restrictCursor(), this._activeBuffer.x > 0 && this._activeBuffer.x--, !0;\n            if (this._restrictCursor(this._bufferService.cols), this._activeBuffer.x > 0) this._activeBuffer.x--;else if (0 === this._activeBuffer.x && this._activeBuffer.y > this._activeBuffer.scrollTop && this._activeBuffer.y <= this._activeBuffer.scrollBottom && (null === (e = this._activeBuffer.lines.get(this._activeBuffer.ybase + this._activeBuffer.y)) || void 0 === e ? void 0 : e.isWrapped)) {\n              this._activeBuffer.lines.get(this._activeBuffer.ybase + this._activeBuffer.y).isWrapped = !1, this._activeBuffer.y--, this._activeBuffer.x = this._bufferService.cols - 1;\n\n              var t = this._activeBuffer.lines.get(this._activeBuffer.ybase + this._activeBuffer.y);\n\n              t.hasWidth(this._activeBuffer.x) && !t.hasContent(this._activeBuffer.x) && this._activeBuffer.x--;\n            }\n            return this._restrictCursor(), !0;\n          }, t.prototype.tab = function () {\n            if (this._activeBuffer.x >= this._bufferService.cols) return !0;\n            var e = this._activeBuffer.x;\n            return this._activeBuffer.x = this._activeBuffer.nextStop(), this._optionsService.rawOptions.screenReaderMode && this._onA11yTab.fire(this._activeBuffer.x - e), !0;\n          }, t.prototype.shiftOut = function () {\n            return this._charsetService.setgLevel(1), !0;\n          }, t.prototype.shiftIn = function () {\n            return this._charsetService.setgLevel(0), !0;\n          }, t.prototype._restrictCursor = function (e) {\n            void 0 === e && (e = this._bufferService.cols - 1), this._activeBuffer.x = Math.min(e, Math.max(0, this._activeBuffer.x)), this._activeBuffer.y = this._coreService.decPrivateModes.origin ? Math.min(this._activeBuffer.scrollBottom, Math.max(this._activeBuffer.scrollTop, this._activeBuffer.y)) : Math.min(this._bufferService.rows - 1, Math.max(0, this._activeBuffer.y)), this._dirtyRowService.markDirty(this._activeBuffer.y);\n          }, t.prototype._setCursor = function (e, t) {\n            this._dirtyRowService.markDirty(this._activeBuffer.y), this._coreService.decPrivateModes.origin ? (this._activeBuffer.x = e, this._activeBuffer.y = this._activeBuffer.scrollTop + t) : (this._activeBuffer.x = e, this._activeBuffer.y = t), this._restrictCursor(), this._dirtyRowService.markDirty(this._activeBuffer.y);\n          }, t.prototype._moveCursor = function (e, t) {\n            this._restrictCursor(), this._setCursor(this._activeBuffer.x + e, this._activeBuffer.y + t);\n          }, t.prototype.cursorUp = function (e) {\n            var t = this._activeBuffer.y - this._activeBuffer.scrollTop;\n            return t >= 0 ? this._moveCursor(0, -Math.min(t, e.params[0] || 1)) : this._moveCursor(0, -(e.params[0] || 1)), !0;\n          }, t.prototype.cursorDown = function (e) {\n            var t = this._activeBuffer.scrollBottom - this._activeBuffer.y;\n            return t >= 0 ? this._moveCursor(0, Math.min(t, e.params[0] || 1)) : this._moveCursor(0, e.params[0] || 1), !0;\n          }, t.prototype.cursorForward = function (e) {\n            return this._moveCursor(e.params[0] || 1, 0), !0;\n          }, t.prototype.cursorBackward = function (e) {\n            return this._moveCursor(-(e.params[0] || 1), 0), !0;\n          }, t.prototype.cursorNextLine = function (e) {\n            return this.cursorDown(e), this._activeBuffer.x = 0, !0;\n          }, t.prototype.cursorPrecedingLine = function (e) {\n            return this.cursorUp(e), this._activeBuffer.x = 0, !0;\n          }, t.prototype.cursorCharAbsolute = function (e) {\n            return this._setCursor((e.params[0] || 1) - 1, this._activeBuffer.y), !0;\n          }, t.prototype.cursorPosition = function (e) {\n            return this._setCursor(e.length >= 2 ? (e.params[1] || 1) - 1 : 0, (e.params[0] || 1) - 1), !0;\n          }, t.prototype.charPosAbsolute = function (e) {\n            return this._setCursor((e.params[0] || 1) - 1, this._activeBuffer.y), !0;\n          }, t.prototype.hPositionRelative = function (e) {\n            return this._moveCursor(e.params[0] || 1, 0), !0;\n          }, t.prototype.linePosAbsolute = function (e) {\n            return this._setCursor(this._activeBuffer.x, (e.params[0] || 1) - 1), !0;\n          }, t.prototype.vPositionRelative = function (e) {\n            return this._moveCursor(0, e.params[0] || 1), !0;\n          }, t.prototype.hVPosition = function (e) {\n            return this.cursorPosition(e), !0;\n          }, t.prototype.tabClear = function (e) {\n            var t = e.params[0];\n            return 0 === t ? delete this._activeBuffer.tabs[this._activeBuffer.x] : 3 === t && (this._activeBuffer.tabs = {}), !0;\n          }, t.prototype.cursorForwardTab = function (e) {\n            if (this._activeBuffer.x >= this._bufferService.cols) return !0;\n\n            for (var t = e.params[0] || 1; t--;) this._activeBuffer.x = this._activeBuffer.nextStop();\n\n            return !0;\n          }, t.prototype.cursorBackwardTab = function (e) {\n            if (this._activeBuffer.x >= this._bufferService.cols) return !0;\n\n            for (var t = e.params[0] || 1; t--;) this._activeBuffer.x = this._activeBuffer.prevStop();\n\n            return !0;\n          }, t.prototype._eraseInBufferLine = function (e, t, r, i) {\n            void 0 === i && (i = !1);\n\n            var n = this._activeBuffer.lines.get(this._activeBuffer.ybase + e);\n\n            n.replaceCells(t, r, this._activeBuffer.getNullCell(this._eraseAttrData()), this._eraseAttrData()), i && (n.isWrapped = !1);\n          }, t.prototype._resetBufferLine = function (e) {\n            var t = this._activeBuffer.lines.get(this._activeBuffer.ybase + e);\n\n            t.fill(this._activeBuffer.getNullCell(this._eraseAttrData())), t.isWrapped = !1;\n          }, t.prototype.eraseInDisplay = function (e) {\n            var t;\n\n            switch (this._restrictCursor(this._bufferService.cols), e.params[0]) {\n              case 0:\n                for (t = this._activeBuffer.y, this._dirtyRowService.markDirty(t), this._eraseInBufferLine(t++, this._activeBuffer.x, this._bufferService.cols, 0 === this._activeBuffer.x); t < this._bufferService.rows; t++) this._resetBufferLine(t);\n\n                this._dirtyRowService.markDirty(t);\n\n                break;\n\n              case 1:\n                for (t = this._activeBuffer.y, this._dirtyRowService.markDirty(t), this._eraseInBufferLine(t, 0, this._activeBuffer.x + 1, !0), this._activeBuffer.x + 1 >= this._bufferService.cols && (this._activeBuffer.lines.get(t + 1).isWrapped = !1); t--;) this._resetBufferLine(t);\n\n                this._dirtyRowService.markDirty(0);\n\n                break;\n\n              case 2:\n                for (t = this._bufferService.rows, this._dirtyRowService.markDirty(t - 1); t--;) this._resetBufferLine(t);\n\n                this._dirtyRowService.markDirty(0);\n\n                break;\n\n              case 3:\n                var r = this._activeBuffer.lines.length - this._bufferService.rows;\n                r > 0 && (this._activeBuffer.lines.trimStart(r), this._activeBuffer.ybase = Math.max(this._activeBuffer.ybase - r, 0), this._activeBuffer.ydisp = Math.max(this._activeBuffer.ydisp - r, 0), this._onScroll.fire(0));\n            }\n\n            return !0;\n          }, t.prototype.eraseInLine = function (e) {\n            switch (this._restrictCursor(this._bufferService.cols), e.params[0]) {\n              case 0:\n                this._eraseInBufferLine(this._activeBuffer.y, this._activeBuffer.x, this._bufferService.cols, 0 === this._activeBuffer.x);\n\n                break;\n\n              case 1:\n                this._eraseInBufferLine(this._activeBuffer.y, 0, this._activeBuffer.x + 1, !1);\n\n                break;\n\n              case 2:\n                this._eraseInBufferLine(this._activeBuffer.y, 0, this._bufferService.cols, !0);\n\n            }\n\n            return this._dirtyRowService.markDirty(this._activeBuffer.y), !0;\n          }, t.prototype.insertLines = function (e) {\n            this._restrictCursor();\n\n            var t = e.params[0] || 1;\n            if (this._activeBuffer.y > this._activeBuffer.scrollBottom || this._activeBuffer.y < this._activeBuffer.scrollTop) return !0;\n\n            for (var r = this._activeBuffer.ybase + this._activeBuffer.y, i = this._bufferService.rows - 1 - this._activeBuffer.scrollBottom, n = this._bufferService.rows - 1 + this._activeBuffer.ybase - i + 1; t--;) this._activeBuffer.lines.splice(n - 1, 1), this._activeBuffer.lines.splice(r, 0, this._activeBuffer.getBlankLine(this._eraseAttrData()));\n\n            return this._dirtyRowService.markRangeDirty(this._activeBuffer.y, this._activeBuffer.scrollBottom), this._activeBuffer.x = 0, !0;\n          }, t.prototype.deleteLines = function (e) {\n            this._restrictCursor();\n\n            var t = e.params[0] || 1;\n            if (this._activeBuffer.y > this._activeBuffer.scrollBottom || this._activeBuffer.y < this._activeBuffer.scrollTop) return !0;\n            var r,\n                i = this._activeBuffer.ybase + this._activeBuffer.y;\n\n            for (r = this._bufferService.rows - 1 - this._activeBuffer.scrollBottom, r = this._bufferService.rows - 1 + this._activeBuffer.ybase - r; t--;) this._activeBuffer.lines.splice(i, 1), this._activeBuffer.lines.splice(r, 0, this._activeBuffer.getBlankLine(this._eraseAttrData()));\n\n            return this._dirtyRowService.markRangeDirty(this._activeBuffer.y, this._activeBuffer.scrollBottom), this._activeBuffer.x = 0, !0;\n          }, t.prototype.insertChars = function (e) {\n            this._restrictCursor();\n\n            var t = this._activeBuffer.lines.get(this._activeBuffer.ybase + this._activeBuffer.y);\n\n            return t && (t.insertCells(this._activeBuffer.x, e.params[0] || 1, this._activeBuffer.getNullCell(this._eraseAttrData()), this._eraseAttrData()), this._dirtyRowService.markDirty(this._activeBuffer.y)), !0;\n          }, t.prototype.deleteChars = function (e) {\n            this._restrictCursor();\n\n            var t = this._activeBuffer.lines.get(this._activeBuffer.ybase + this._activeBuffer.y);\n\n            return t && (t.deleteCells(this._activeBuffer.x, e.params[0] || 1, this._activeBuffer.getNullCell(this._eraseAttrData()), this._eraseAttrData()), this._dirtyRowService.markDirty(this._activeBuffer.y)), !0;\n          }, t.prototype.scrollUp = function (e) {\n            for (var t = e.params[0] || 1; t--;) this._activeBuffer.lines.splice(this._activeBuffer.ybase + this._activeBuffer.scrollTop, 1), this._activeBuffer.lines.splice(this._activeBuffer.ybase + this._activeBuffer.scrollBottom, 0, this._activeBuffer.getBlankLine(this._eraseAttrData()));\n\n            return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop, this._activeBuffer.scrollBottom), !0;\n          }, t.prototype.scrollDown = function (e) {\n            for (var t = e.params[0] || 1; t--;) this._activeBuffer.lines.splice(this._activeBuffer.ybase + this._activeBuffer.scrollBottom, 1), this._activeBuffer.lines.splice(this._activeBuffer.ybase + this._activeBuffer.scrollTop, 0, this._activeBuffer.getBlankLine(f.DEFAULT_ATTR_DATA));\n\n            return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop, this._activeBuffer.scrollBottom), !0;\n          }, t.prototype.scrollLeft = function (e) {\n            if (this._activeBuffer.y > this._activeBuffer.scrollBottom || this._activeBuffer.y < this._activeBuffer.scrollTop) return !0;\n\n            for (var t = e.params[0] || 1, r = this._activeBuffer.scrollTop; r <= this._activeBuffer.scrollBottom; ++r) {\n              var i = this._activeBuffer.lines.get(this._activeBuffer.ybase + r);\n\n              i.deleteCells(0, t, this._activeBuffer.getNullCell(this._eraseAttrData()), this._eraseAttrData()), i.isWrapped = !1;\n            }\n\n            return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop, this._activeBuffer.scrollBottom), !0;\n          }, t.prototype.scrollRight = function (e) {\n            if (this._activeBuffer.y > this._activeBuffer.scrollBottom || this._activeBuffer.y < this._activeBuffer.scrollTop) return !0;\n\n            for (var t = e.params[0] || 1, r = this._activeBuffer.scrollTop; r <= this._activeBuffer.scrollBottom; ++r) {\n              var i = this._activeBuffer.lines.get(this._activeBuffer.ybase + r);\n\n              i.insertCells(0, t, this._activeBuffer.getNullCell(this._eraseAttrData()), this._eraseAttrData()), i.isWrapped = !1;\n            }\n\n            return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop, this._activeBuffer.scrollBottom), !0;\n          }, t.prototype.insertColumns = function (e) {\n            if (this._activeBuffer.y > this._activeBuffer.scrollBottom || this._activeBuffer.y < this._activeBuffer.scrollTop) return !0;\n\n            for (var t = e.params[0] || 1, r = this._activeBuffer.scrollTop; r <= this._activeBuffer.scrollBottom; ++r) {\n              var i = this._activeBuffer.lines.get(this._activeBuffer.ybase + r);\n\n              i.insertCells(this._activeBuffer.x, t, this._activeBuffer.getNullCell(this._eraseAttrData()), this._eraseAttrData()), i.isWrapped = !1;\n            }\n\n            return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop, this._activeBuffer.scrollBottom), !0;\n          }, t.prototype.deleteColumns = function (e) {\n            if (this._activeBuffer.y > this._activeBuffer.scrollBottom || this._activeBuffer.y < this._activeBuffer.scrollTop) return !0;\n\n            for (var t = e.params[0] || 1, r = this._activeBuffer.scrollTop; r <= this._activeBuffer.scrollBottom; ++r) {\n              var i = this._activeBuffer.lines.get(this._activeBuffer.ybase + r);\n\n              i.deleteCells(this._activeBuffer.x, t, this._activeBuffer.getNullCell(this._eraseAttrData()), this._eraseAttrData()), i.isWrapped = !1;\n            }\n\n            return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop, this._activeBuffer.scrollBottom), !0;\n          }, t.prototype.eraseChars = function (e) {\n            this._restrictCursor();\n\n            var t = this._activeBuffer.lines.get(this._activeBuffer.ybase + this._activeBuffer.y);\n\n            return t && (t.replaceCells(this._activeBuffer.x, this._activeBuffer.x + (e.params[0] || 1), this._activeBuffer.getNullCell(this._eraseAttrData()), this._eraseAttrData()), this._dirtyRowService.markDirty(this._activeBuffer.y)), !0;\n          }, t.prototype.repeatPrecedingCharacter = function (e) {\n            if (!this._parser.precedingCodepoint) return !0;\n\n            for (var t = e.params[0] || 1, r = new Uint32Array(t), i = 0; i < t; ++i) r[i] = this._parser.precedingCodepoint;\n\n            return this.print(r, 0, r.length), !0;\n          }, t.prototype.sendDeviceAttributesPrimary = function (e) {\n            return e.params[0] > 0 || (this._is(\"xterm\") || this._is(\"rxvt-unicode\") || this._is(\"screen\") ? this._coreService.triggerDataEvent(s.C0.ESC + \"[?1;2c\") : this._is(\"linux\") && this._coreService.triggerDataEvent(s.C0.ESC + \"[?6c\")), !0;\n          }, t.prototype.sendDeviceAttributesSecondary = function (e) {\n            return e.params[0] > 0 || (this._is(\"xterm\") ? this._coreService.triggerDataEvent(s.C0.ESC + \"[>0;276;0c\") : this._is(\"rxvt-unicode\") ? this._coreService.triggerDataEvent(s.C0.ESC + \"[>85;95;0c\") : this._is(\"linux\") ? this._coreService.triggerDataEvent(e.params[0] + \"c\") : this._is(\"screen\") && this._coreService.triggerDataEvent(s.C0.ESC + \"[>83;40003;0c\")), !0;\n          }, t.prototype._is = function (e) {\n            return 0 === (this._optionsService.rawOptions.termName + \"\").indexOf(e);\n          }, t.prototype.setMode = function (e) {\n            for (var t = 0; t < e.length; t++) 4 === e.params[t] && (this._coreService.modes.insertMode = !0);\n\n            return !0;\n          }, t.prototype.setModePrivate = function (e) {\n            for (var t = 0; t < e.length; t++) switch (e.params[t]) {\n              case 1:\n                this._coreService.decPrivateModes.applicationCursorKeys = !0;\n                break;\n\n              case 2:\n                this._charsetService.setgCharset(0, a.DEFAULT_CHARSET), this._charsetService.setgCharset(1, a.DEFAULT_CHARSET), this._charsetService.setgCharset(2, a.DEFAULT_CHARSET), this._charsetService.setgCharset(3, a.DEFAULT_CHARSET);\n                break;\n\n              case 3:\n                this._optionsService.rawOptions.windowOptions.setWinLines && (this._bufferService.resize(132, this._bufferService.rows), this._onRequestReset.fire());\n                break;\n\n              case 6:\n                this._coreService.decPrivateModes.origin = !0, this._setCursor(0, 0);\n                break;\n\n              case 7:\n                this._coreService.decPrivateModes.wraparound = !0;\n                break;\n\n              case 12:\n                break;\n\n              case 45:\n                this._coreService.decPrivateModes.reverseWraparound = !0;\n                break;\n\n              case 66:\n                this._logService.debug(\"Serial port requested application keypad.\"), this._coreService.decPrivateModes.applicationKeypad = !0, this._onRequestSyncScrollBar.fire();\n                break;\n\n              case 9:\n                this._coreMouseService.activeProtocol = \"X10\";\n                break;\n\n              case 1e3:\n                this._coreMouseService.activeProtocol = \"VT200\";\n                break;\n\n              case 1002:\n                this._coreMouseService.activeProtocol = \"DRAG\";\n                break;\n\n              case 1003:\n                this._coreMouseService.activeProtocol = \"ANY\";\n                break;\n\n              case 1004:\n                this._coreService.decPrivateModes.sendFocus = !0, this._onRequestSendFocus.fire();\n                break;\n\n              case 1005:\n                this._logService.debug(\"DECSET 1005 not supported (see #2507)\");\n\n                break;\n\n              case 1006:\n                this._coreMouseService.activeEncoding = \"SGR\";\n                break;\n\n              case 1015:\n                this._logService.debug(\"DECSET 1015 not supported (see #2507)\");\n\n                break;\n\n              case 25:\n                this._coreService.isCursorHidden = !1;\n                break;\n\n              case 1048:\n                this.saveCursor();\n                break;\n\n              case 1049:\n                this.saveCursor();\n\n              case 47:\n              case 1047:\n                this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()), this._coreService.isCursorInitialized = !0, this._onRequestRefreshRows.fire(0, this._bufferService.rows - 1), this._onRequestSyncScrollBar.fire();\n                break;\n\n              case 2004:\n                this._coreService.decPrivateModes.bracketedPasteMode = !0;\n            }\n\n            return !0;\n          }, t.prototype.resetMode = function (e) {\n            for (var t = 0; t < e.length; t++) 4 === e.params[t] && (this._coreService.modes.insertMode = !1);\n\n            return !0;\n          }, t.prototype.resetModePrivate = function (e) {\n            for (var t = 0; t < e.length; t++) switch (e.params[t]) {\n              case 1:\n                this._coreService.decPrivateModes.applicationCursorKeys = !1;\n                break;\n\n              case 3:\n                this._optionsService.rawOptions.windowOptions.setWinLines && (this._bufferService.resize(80, this._bufferService.rows), this._onRequestReset.fire());\n                break;\n\n              case 6:\n                this._coreService.decPrivateModes.origin = !1, this._setCursor(0, 0);\n                break;\n\n              case 7:\n                this._coreService.decPrivateModes.wraparound = !1;\n                break;\n\n              case 12:\n                break;\n\n              case 45:\n                this._coreService.decPrivateModes.reverseWraparound = !1;\n                break;\n\n              case 66:\n                this._logService.debug(\"Switching back to normal keypad.\"), this._coreService.decPrivateModes.applicationKeypad = !1, this._onRequestSyncScrollBar.fire();\n                break;\n\n              case 9:\n              case 1e3:\n              case 1002:\n              case 1003:\n                this._coreMouseService.activeProtocol = \"NONE\";\n                break;\n\n              case 1004:\n                this._coreService.decPrivateModes.sendFocus = !1;\n                break;\n\n              case 1005:\n                this._logService.debug(\"DECRST 1005 not supported (see #2507)\");\n\n                break;\n\n              case 1006:\n                this._coreMouseService.activeEncoding = \"DEFAULT\";\n                break;\n\n              case 1015:\n                this._logService.debug(\"DECRST 1015 not supported (see #2507)\");\n\n                break;\n\n              case 25:\n                this._coreService.isCursorHidden = !0;\n                break;\n\n              case 1048:\n                this.restoreCursor();\n                break;\n\n              case 1049:\n              case 47:\n              case 1047:\n                this._bufferService.buffers.activateNormalBuffer(), 1049 === e.params[t] && this.restoreCursor(), this._coreService.isCursorInitialized = !0, this._onRequestRefreshRows.fire(0, this._bufferService.rows - 1), this._onRequestSyncScrollBar.fire();\n                break;\n\n              case 2004:\n                this._coreService.decPrivateModes.bracketedPasteMode = !1;\n            }\n\n            return !0;\n          }, t.prototype._updateAttrColor = function (e, t, r, i, n) {\n            return 2 === t ? (e |= 50331648, e &= -16777216, e |= v.AttributeData.fromColorRGB([r, i, n])) : 5 === t && (e &= -50331904, e |= 33554432 | 255 & r), e;\n          }, t.prototype._extractColor = function (e, t, r) {\n            var i = [0, 0, -1, 0, 0, 0],\n                n = 0,\n                o = 0;\n\n            do {\n              if (i[o + n] = e.params[t + o], e.hasSubParams(t + o)) {\n                var s = e.getSubParams(t + o),\n                    a = 0;\n\n                do {\n                  5 === i[1] && (n = 1), i[o + a + 1 + n] = s[a];\n                } while (++a < s.length && a + o + 1 + n < i.length);\n\n                break;\n              }\n\n              if (5 === i[1] && o + n >= 2 || 2 === i[1] && o + n >= 5) break;\n              i[1] && (n = 1);\n            } while (++o + t < e.length && o + n < i.length);\n\n            for (a = 2; a < i.length; ++a) -1 === i[a] && (i[a] = 0);\n\n            switch (i[0]) {\n              case 38:\n                r.fg = this._updateAttrColor(r.fg, i[1], i[3], i[4], i[5]);\n                break;\n\n              case 48:\n                r.bg = this._updateAttrColor(r.bg, i[1], i[3], i[4], i[5]);\n                break;\n\n              case 58:\n                r.extended = r.extended.clone(), r.extended.underlineColor = this._updateAttrColor(r.extended.underlineColor, i[1], i[3], i[4], i[5]);\n            }\n\n            return o;\n          }, t.prototype._processUnderline = function (e, t) {\n            t.extended = t.extended.clone(), (!~e || e > 5) && (e = 1), t.extended.underlineStyle = e, t.fg |= 268435456, 0 === e && (t.fg &= -268435457), t.updateExtended();\n          }, t.prototype.charAttributes = function (e) {\n            if (1 === e.length && 0 === e.params[0]) return this._curAttrData.fg = f.DEFAULT_ATTR_DATA.fg, this._curAttrData.bg = f.DEFAULT_ATTR_DATA.bg, !0;\n\n            for (var t, r = e.length, i = this._curAttrData, n = 0; n < r; n++) (t = e.params[n]) >= 30 && t <= 37 ? (i.fg &= -50331904, i.fg |= 16777216 | t - 30) : t >= 40 && t <= 47 ? (i.bg &= -50331904, i.bg |= 16777216 | t - 40) : t >= 90 && t <= 97 ? (i.fg &= -50331904, i.fg |= 16777224 | t - 90) : t >= 100 && t <= 107 ? (i.bg &= -50331904, i.bg |= 16777224 | t - 100) : 0 === t ? (i.fg = f.DEFAULT_ATTR_DATA.fg, i.bg = f.DEFAULT_ATTR_DATA.bg) : 1 === t ? i.fg |= 134217728 : 3 === t ? i.bg |= 67108864 : 4 === t ? (i.fg |= 268435456, this._processUnderline(e.hasSubParams(n) ? e.getSubParams(n)[0] : 1, i)) : 5 === t ? i.fg |= 536870912 : 7 === t ? i.fg |= 67108864 : 8 === t ? i.fg |= 1073741824 : 9 === t ? i.fg |= 2147483648 : 2 === t ? i.bg |= 134217728 : 21 === t ? this._processUnderline(2, i) : 22 === t ? (i.fg &= -134217729, i.bg &= -134217729) : 23 === t ? i.bg &= -67108865 : 24 === t ? i.fg &= -268435457 : 25 === t ? i.fg &= -536870913 : 27 === t ? i.fg &= -67108865 : 28 === t ? i.fg &= -1073741825 : 29 === t ? i.fg &= 2147483647 : 39 === t ? (i.fg &= -67108864, i.fg |= 16777215 & f.DEFAULT_ATTR_DATA.fg) : 49 === t ? (i.bg &= -67108864, i.bg |= 16777215 & f.DEFAULT_ATTR_DATA.bg) : 38 === t || 48 === t || 58 === t ? n += this._extractColor(e, n, i) : 59 === t ? (i.extended = i.extended.clone(), i.extended.underlineColor = -1, i.updateExtended()) : 100 === t ? (i.fg &= -67108864, i.fg |= 16777215 & f.DEFAULT_ATTR_DATA.fg, i.bg &= -67108864, i.bg |= 16777215 & f.DEFAULT_ATTR_DATA.bg) : this._logService.debug(\"Unknown SGR attribute: %d.\", t);\n\n            return !0;\n          }, t.prototype.deviceStatus = function (e) {\n            switch (e.params[0]) {\n              case 5:\n                this._coreService.triggerDataEvent(s.C0.ESC + \"[0n\");\n\n                break;\n\n              case 6:\n                var t = this._activeBuffer.y + 1,\n                    r = this._activeBuffer.x + 1;\n\n                this._coreService.triggerDataEvent(s.C0.ESC + \"[\" + t + \";\" + r + \"R\");\n\n            }\n\n            return !0;\n          }, t.prototype.deviceStatusPrivate = function (e) {\n            if (6 === e.params[0]) {\n              var t = this._activeBuffer.y + 1,\n                  r = this._activeBuffer.x + 1;\n\n              this._coreService.triggerDataEvent(s.C0.ESC + \"[?\" + t + \";\" + r + \"R\");\n            }\n\n            return !0;\n          }, t.prototype.softReset = function (e) {\n            return this._coreService.isCursorHidden = !1, this._onRequestSyncScrollBar.fire(), this._activeBuffer.scrollTop = 0, this._activeBuffer.scrollBottom = this._bufferService.rows - 1, this._curAttrData = f.DEFAULT_ATTR_DATA.clone(), this._coreService.reset(), this._charsetService.reset(), this._activeBuffer.savedX = 0, this._activeBuffer.savedY = this._activeBuffer.ybase, this._activeBuffer.savedCurAttrData.fg = this._curAttrData.fg, this._activeBuffer.savedCurAttrData.bg = this._curAttrData.bg, this._activeBuffer.savedCharset = this._charsetService.charset, this._coreService.decPrivateModes.origin = !1, !0;\n          }, t.prototype.setCursorStyle = function (e) {\n            var t = e.params[0] || 1;\n\n            switch (t) {\n              case 1:\n              case 2:\n                this._optionsService.options.cursorStyle = \"block\";\n                break;\n\n              case 3:\n              case 4:\n                this._optionsService.options.cursorStyle = \"underline\";\n                break;\n\n              case 5:\n              case 6:\n                this._optionsService.options.cursorStyle = \"bar\";\n            }\n\n            var r = t % 2 == 1;\n            return this._optionsService.options.cursorBlink = r, !0;\n          }, t.prototype.setScrollRegion = function (e) {\n            var t,\n                r = e.params[0] || 1;\n            return (e.length < 2 || (t = e.params[1]) > this._bufferService.rows || 0 === t) && (t = this._bufferService.rows), t > r && (this._activeBuffer.scrollTop = r - 1, this._activeBuffer.scrollBottom = t - 1, this._setCursor(0, 0)), !0;\n          }, t.prototype.windowOptions = function (e) {\n            if (!w(e.params[0], this._optionsService.rawOptions.windowOptions)) return !0;\n            var t = e.length > 1 ? e.params[1] : 0;\n\n            switch (e.params[0]) {\n              case 14:\n                2 !== t && this._onRequestWindowsOptionsReport.fire(o.GET_WIN_SIZE_PIXELS);\n                break;\n\n              case 16:\n                this._onRequestWindowsOptionsReport.fire(o.GET_CELL_SIZE_PIXELS);\n\n                break;\n\n              case 18:\n                this._bufferService && this._coreService.triggerDataEvent(s.C0.ESC + \"[8;\" + this._bufferService.rows + \";\" + this._bufferService.cols + \"t\");\n                break;\n\n              case 22:\n                0 !== t && 2 !== t || (this._windowTitleStack.push(this._windowTitle), this._windowTitleStack.length > 10 && this._windowTitleStack.shift()), 0 !== t && 1 !== t || (this._iconNameStack.push(this._iconName), this._iconNameStack.length > 10 && this._iconNameStack.shift());\n                break;\n\n              case 23:\n                0 !== t && 2 !== t || this._windowTitleStack.length && this.setTitle(this._windowTitleStack.pop()), 0 !== t && 1 !== t || this._iconNameStack.length && this.setIconName(this._iconNameStack.pop());\n            }\n\n            return !0;\n          }, t.prototype.saveCursor = function (e) {\n            return this._activeBuffer.savedX = this._activeBuffer.x, this._activeBuffer.savedY = this._activeBuffer.ybase + this._activeBuffer.y, this._activeBuffer.savedCurAttrData.fg = this._curAttrData.fg, this._activeBuffer.savedCurAttrData.bg = this._curAttrData.bg, this._activeBuffer.savedCharset = this._charsetService.charset, !0;\n          }, t.prototype.restoreCursor = function (e) {\n            return this._activeBuffer.x = this._activeBuffer.savedX || 0, this._activeBuffer.y = Math.max(this._activeBuffer.savedY - this._activeBuffer.ybase, 0), this._curAttrData.fg = this._activeBuffer.savedCurAttrData.fg, this._curAttrData.bg = this._activeBuffer.savedCurAttrData.bg, this._charsetService.charset = this._savedCharset, this._activeBuffer.savedCharset && (this._charsetService.charset = this._activeBuffer.savedCharset), this._restrictCursor(), !0;\n          }, t.prototype.setTitle = function (e) {\n            return this._windowTitle = e, this._onTitleChange.fire(e), !0;\n          }, t.prototype.setIconName = function (e) {\n            return this._iconName = e, !0;\n          }, t.prototype.setOrReportIndexedColor = function (e) {\n            for (var t = [], r = e.split(\";\"); r.length > 1;) {\n              var i = r.shift(),\n                  n = r.shift();\n\n              if (/^\\d+$/.exec(i)) {\n                var o = parseInt(i);\n                if (0 <= o && o < 256) if (\"?\" === n) t.push({\n                  type: 0,\n                  index: o\n                });else {\n                  var s = (0, S.parseColor)(n);\n                  s && t.push({\n                    type: 1,\n                    index: o,\n                    color: s\n                  });\n                }\n              }\n            }\n\n            return t.length && this._onColor.fire(t), !0;\n          }, t.prototype._setOrReportSpecialColor = function (e, t) {\n            for (var r = e.split(\";\"), i = 0; i < r.length && !(t >= this._specialColors.length); ++i, ++t) if (\"?\" === r[i]) this._onColor.fire([{\n              type: 0,\n              index: this._specialColors[t]\n            }]);else {\n              var n = (0, S.parseColor)(r[i]);\n              n && this._onColor.fire([{\n                type: 1,\n                index: this._specialColors[t],\n                color: n\n              }]);\n            }\n\n            return !0;\n          }, t.prototype.setOrReportFgColor = function (e) {\n            return this._setOrReportSpecialColor(e, 0);\n          }, t.prototype.setOrReportBgColor = function (e) {\n            return this._setOrReportSpecialColor(e, 1);\n          }, t.prototype.setOrReportCursorColor = function (e) {\n            return this._setOrReportSpecialColor(e, 2);\n          }, t.prototype.restoreIndexedColor = function (e) {\n            if (!e) return this._onColor.fire([{\n              type: 2\n            }]), !0;\n\n            for (var t = [], r = e.split(\";\"), i = 0; i < r.length; ++i) if (/^\\d+$/.exec(r[i])) {\n              var n = parseInt(r[i]);\n              0 <= n && n < 256 && t.push({\n                type: 2,\n                index: n\n              });\n            }\n\n            return t.length && this._onColor.fire(t), !0;\n          }, t.prototype.restoreFgColor = function (e) {\n            return this._onColor.fire([{\n              type: 2,\n              index: 256\n            }]), !0;\n          }, t.prototype.restoreBgColor = function (e) {\n            return this._onColor.fire([{\n              type: 2,\n              index: 257\n            }]), !0;\n          }, t.prototype.restoreCursorColor = function (e) {\n            return this._onColor.fire([{\n              type: 2,\n              index: 258\n            }]), !0;\n          }, t.prototype.nextLine = function () {\n            return this._activeBuffer.x = 0, this.index(), !0;\n          }, t.prototype.keypadApplicationMode = function () {\n            return this._logService.debug(\"Serial port requested application keypad.\"), this._coreService.decPrivateModes.applicationKeypad = !0, this._onRequestSyncScrollBar.fire(), !0;\n          }, t.prototype.keypadNumericMode = function () {\n            return this._logService.debug(\"Switching back to normal keypad.\"), this._coreService.decPrivateModes.applicationKeypad = !1, this._onRequestSyncScrollBar.fire(), !0;\n          }, t.prototype.selectDefaultCharset = function () {\n            return this._charsetService.setgLevel(0), this._charsetService.setgCharset(0, a.DEFAULT_CHARSET), !0;\n          }, t.prototype.selectCharset = function (e) {\n            return 2 !== e.length ? (this.selectDefaultCharset(), !0) : (\"/\" === e[0] || this._charsetService.setgCharset(C[e[0]], a.CHARSETS[e[1]] || a.DEFAULT_CHARSET), !0);\n          }, t.prototype.index = function () {\n            return this._restrictCursor(), this._activeBuffer.y++, this._activeBuffer.y === this._activeBuffer.scrollBottom + 1 ? (this._activeBuffer.y--, this._bufferService.scroll(this._eraseAttrData())) : this._activeBuffer.y >= this._bufferService.rows && (this._activeBuffer.y = this._bufferService.rows - 1), this._restrictCursor(), !0;\n          }, t.prototype.tabSet = function () {\n            return this._activeBuffer.tabs[this._activeBuffer.x] = !0, !0;\n          }, t.prototype.reverseIndex = function () {\n            if (this._restrictCursor(), this._activeBuffer.y === this._activeBuffer.scrollTop) {\n              var e = this._activeBuffer.scrollBottom - this._activeBuffer.scrollTop;\n              this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase + this._activeBuffer.y, e, 1), this._activeBuffer.lines.set(this._activeBuffer.ybase + this._activeBuffer.y, this._activeBuffer.getBlankLine(this._eraseAttrData())), this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop, this._activeBuffer.scrollBottom);\n            } else this._activeBuffer.y--, this._restrictCursor();\n\n            return !0;\n          }, t.prototype.fullReset = function () {\n            return this._parser.reset(), this._onRequestReset.fire(), !0;\n          }, t.prototype.reset = function () {\n            this._curAttrData = f.DEFAULT_ATTR_DATA.clone(), this._eraseAttrDataInternal = f.DEFAULT_ATTR_DATA.clone();\n          }, t.prototype._eraseAttrData = function () {\n            return this._eraseAttrDataInternal.bg &= -67108864, this._eraseAttrDataInternal.bg |= 67108863 & this._curAttrData.bg, this._eraseAttrDataInternal;\n          }, t.prototype.setgLevel = function (e) {\n            return this._charsetService.setgLevel(e), !0;\n          }, t.prototype.screenAlignmentPattern = function () {\n            var e = new p.CellData();\n            e.content = 1 << 22 | \"E\".charCodeAt(0), e.fg = this._curAttrData.fg, e.bg = this._curAttrData.bg, this._setCursor(0, 0);\n\n            for (var t = 0; t < this._bufferService.rows; ++t) {\n              var r = this._activeBuffer.ybase + this._activeBuffer.y + t,\n                  i = this._activeBuffer.lines.get(r);\n\n              i && (i.fill(e), i.isWrapped = !1);\n            }\n\n            return this._dirtyRowService.markAllDirty(), this._setCursor(0, 0), !0;\n          }, t;\n        }(l.Disposable);\n\n        t.InputHandler = E;\n      },\n      844: (e, t) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.getDisposeArrayDisposable = t.disposeArray = t.Disposable = void 0;\n\n        var r = function () {\n          function e() {\n            this._disposables = [], this._isDisposed = !1;\n          }\n\n          return e.prototype.dispose = function () {\n            this._isDisposed = !0;\n\n            for (var e = 0, t = this._disposables; e < t.length; e++) t[e].dispose();\n\n            this._disposables.length = 0;\n          }, e.prototype.register = function (e) {\n            return this._disposables.push(e), e;\n          }, e.prototype.unregister = function (e) {\n            var t = this._disposables.indexOf(e);\n\n            -1 !== t && this._disposables.splice(t, 1);\n          }, e;\n        }();\n\n        function i(e) {\n          for (var t = 0, r = e; t < r.length; t++) r[t].dispose();\n\n          e.length = 0;\n        }\n\n        t.Disposable = r, t.disposeArray = i, t.getDisposeArrayDisposable = function (e) {\n          return {\n            dispose: function () {\n              return i(e);\n            }\n          };\n        };\n      },\n      6114: (e, t) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.isLinux = t.isWindows = t.isIphone = t.isIpad = t.isMac = t.isSafari = t.isLegacyEdge = t.isFirefox = void 0;\n        var r = \"undefined\" == typeof navigator,\n            i = r ? \"node\" : navigator.userAgent,\n            n = r ? \"node\" : navigator.platform;\n        t.isFirefox = i.includes(\"Firefox\"), t.isLegacyEdge = i.includes(\"Edge\"), t.isSafari = /^((?!chrome|android).)*safari/i.test(i), t.isMac = [\"Macintosh\", \"MacIntel\", \"MacPPC\", \"Mac68K\"].includes(n), t.isIpad = \"iPad\" === n, t.isIphone = \"iPhone\" === n, t.isWindows = [\"Windows\", \"Win16\", \"Win32\", \"WinCE\"].includes(n), t.isLinux = n.indexOf(\"Linux\") >= 0;\n      },\n      8273: (e, t) => {\n        function r(e, t, r, i) {\n          if (void 0 === r && (r = 0), void 0 === i && (i = e.length), r >= e.length) return e;\n          r = (e.length + r) % e.length, i = i >= e.length ? e.length : (e.length + i) % e.length;\n\n          for (var n = r; n < i; ++n) e[n] = t;\n\n          return e;\n        }\n\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.concat = t.fillFallback = t.fill = void 0, t.fill = function (e, t, i, n) {\n          return e.fill ? e.fill(t, i, n) : r(e, t, i, n);\n        }, t.fillFallback = r, t.concat = function (e, t) {\n          var r = new e.constructor(e.length + t.length);\n          return r.set(e), r.set(t, e.length), r;\n        };\n      },\n      9282: (e, t, r) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.updateWindowsModeWrappedState = void 0;\n        var i = r(643);\n\n        t.updateWindowsModeWrappedState = function (e) {\n          var t = e.buffer.lines.get(e.buffer.ybase + e.buffer.y - 1),\n              r = null == t ? void 0 : t.get(e.cols - 1),\n              n = e.buffer.lines.get(e.buffer.ybase + e.buffer.y);\n          n && r && (n.isWrapped = r[i.CHAR_DATA_CODE_INDEX] !== i.NULL_CELL_CODE && r[i.CHAR_DATA_CODE_INDEX] !== i.WHITESPACE_CELL_CODE);\n        };\n      },\n      3734: (e, t) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.ExtendedAttrs = t.AttributeData = void 0;\n\n        var r = function () {\n          function e() {\n            this.fg = 0, this.bg = 0, this.extended = new i();\n          }\n\n          return e.toColorRGB = function (e) {\n            return [e >>> 16 & 255, e >>> 8 & 255, 255 & e];\n          }, e.fromColorRGB = function (e) {\n            return (255 & e[0]) << 16 | (255 & e[1]) << 8 | 255 & e[2];\n          }, e.prototype.clone = function () {\n            var t = new e();\n            return t.fg = this.fg, t.bg = this.bg, t.extended = this.extended.clone(), t;\n          }, e.prototype.isInverse = function () {\n            return 67108864 & this.fg;\n          }, e.prototype.isBold = function () {\n            return 134217728 & this.fg;\n          }, e.prototype.isUnderline = function () {\n            return 268435456 & this.fg;\n          }, e.prototype.isBlink = function () {\n            return 536870912 & this.fg;\n          }, e.prototype.isInvisible = function () {\n            return 1073741824 & this.fg;\n          }, e.prototype.isItalic = function () {\n            return 67108864 & this.bg;\n          }, e.prototype.isDim = function () {\n            return 134217728 & this.bg;\n          }, e.prototype.isStrikethrough = function () {\n            return 2147483648 & this.fg;\n          }, e.prototype.getFgColorMode = function () {\n            return 50331648 & this.fg;\n          }, e.prototype.getBgColorMode = function () {\n            return 50331648 & this.bg;\n          }, e.prototype.isFgRGB = function () {\n            return 50331648 == (50331648 & this.fg);\n          }, e.prototype.isBgRGB = function () {\n            return 50331648 == (50331648 & this.bg);\n          }, e.prototype.isFgPalette = function () {\n            return 16777216 == (50331648 & this.fg) || 33554432 == (50331648 & this.fg);\n          }, e.prototype.isBgPalette = function () {\n            return 16777216 == (50331648 & this.bg) || 33554432 == (50331648 & this.bg);\n          }, e.prototype.isFgDefault = function () {\n            return 0 == (50331648 & this.fg);\n          }, e.prototype.isBgDefault = function () {\n            return 0 == (50331648 & this.bg);\n          }, e.prototype.isAttributeDefault = function () {\n            return 0 === this.fg && 0 === this.bg;\n          }, e.prototype.getFgColor = function () {\n            switch (50331648 & this.fg) {\n              case 16777216:\n              case 33554432:\n                return 255 & this.fg;\n\n              case 50331648:\n                return 16777215 & this.fg;\n\n              default:\n                return -1;\n            }\n          }, e.prototype.getBgColor = function () {\n            switch (50331648 & this.bg) {\n              case 16777216:\n              case 33554432:\n                return 255 & this.bg;\n\n              case 50331648:\n                return 16777215 & this.bg;\n\n              default:\n                return -1;\n            }\n          }, e.prototype.hasExtendedAttrs = function () {\n            return 268435456 & this.bg;\n          }, e.prototype.updateExtended = function () {\n            this.extended.isEmpty() ? this.bg &= -268435457 : this.bg |= 268435456;\n          }, e.prototype.getUnderlineColor = function () {\n            if (268435456 & this.bg && ~this.extended.underlineColor) switch (50331648 & this.extended.underlineColor) {\n              case 16777216:\n              case 33554432:\n                return 255 & this.extended.underlineColor;\n\n              case 50331648:\n                return 16777215 & this.extended.underlineColor;\n\n              default:\n                return this.getFgColor();\n            }\n            return this.getFgColor();\n          }, e.prototype.getUnderlineColorMode = function () {\n            return 268435456 & this.bg && ~this.extended.underlineColor ? 50331648 & this.extended.underlineColor : this.getFgColorMode();\n          }, e.prototype.isUnderlineColorRGB = function () {\n            return 268435456 & this.bg && ~this.extended.underlineColor ? 50331648 == (50331648 & this.extended.underlineColor) : this.isFgRGB();\n          }, e.prototype.isUnderlineColorPalette = function () {\n            return 268435456 & this.bg && ~this.extended.underlineColor ? 16777216 == (50331648 & this.extended.underlineColor) || 33554432 == (50331648 & this.extended.underlineColor) : this.isFgPalette();\n          }, e.prototype.isUnderlineColorDefault = function () {\n            return 268435456 & this.bg && ~this.extended.underlineColor ? 0 == (50331648 & this.extended.underlineColor) : this.isFgDefault();\n          }, e.prototype.getUnderlineStyle = function () {\n            return 268435456 & this.fg ? 268435456 & this.bg ? this.extended.underlineStyle : 1 : 0;\n          }, e;\n        }();\n\n        t.AttributeData = r;\n\n        var i = function () {\n          function e(e, t) {\n            void 0 === e && (e = 0), void 0 === t && (t = -1), this.underlineStyle = e, this.underlineColor = t;\n          }\n\n          return e.prototype.clone = function () {\n            return new e(this.underlineStyle, this.underlineColor);\n          }, e.prototype.isEmpty = function () {\n            return 0 === this.underlineStyle;\n          }, e;\n        }();\n\n        t.ExtendedAttrs = i;\n      },\n      9092: (e, t, r) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.BufferStringIterator = t.Buffer = t.MAX_BUFFER_SIZE = void 0;\n        var i = r(6349),\n            n = r(8437),\n            o = r(511),\n            s = r(643),\n            a = r(4634),\n            c = r(4863),\n            l = r(7116),\n            h = r(3734);\n        t.MAX_BUFFER_SIZE = 4294967295;\n\n        var u = function () {\n          function e(e, t, r) {\n            this._hasScrollback = e, this._optionsService = t, this._bufferService = r, this.ydisp = 0, this.ybase = 0, this.y = 0, this.x = 0, this.savedY = 0, this.savedX = 0, this.savedCurAttrData = n.DEFAULT_ATTR_DATA.clone(), this.savedCharset = l.DEFAULT_CHARSET, this.markers = [], this._nullCell = o.CellData.fromCharData([0, s.NULL_CELL_CHAR, s.NULL_CELL_WIDTH, s.NULL_CELL_CODE]), this._whitespaceCell = o.CellData.fromCharData([0, s.WHITESPACE_CELL_CHAR, s.WHITESPACE_CELL_WIDTH, s.WHITESPACE_CELL_CODE]), this._cols = this._bufferService.cols, this._rows = this._bufferService.rows, this.lines = new i.CircularList(this._getCorrectBufferLength(this._rows)), this.scrollTop = 0, this.scrollBottom = this._rows - 1, this.setupTabStops();\n          }\n\n          return e.prototype.getNullCell = function (e) {\n            return e ? (this._nullCell.fg = e.fg, this._nullCell.bg = e.bg, this._nullCell.extended = e.extended) : (this._nullCell.fg = 0, this._nullCell.bg = 0, this._nullCell.extended = new h.ExtendedAttrs()), this._nullCell;\n          }, e.prototype.getWhitespaceCell = function (e) {\n            return e ? (this._whitespaceCell.fg = e.fg, this._whitespaceCell.bg = e.bg, this._whitespaceCell.extended = e.extended) : (this._whitespaceCell.fg = 0, this._whitespaceCell.bg = 0, this._whitespaceCell.extended = new h.ExtendedAttrs()), this._whitespaceCell;\n          }, e.prototype.getBlankLine = function (e, t) {\n            return new n.BufferLine(this._bufferService.cols, this.getNullCell(e), t);\n          }, Object.defineProperty(e.prototype, \"hasScrollback\", {\n            get: function () {\n              return this._hasScrollback && this.lines.maxLength > this._rows;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(e.prototype, \"isCursorInViewport\", {\n            get: function () {\n              var e = this.ybase + this.y - this.ydisp;\n              return e >= 0 && e < this._rows;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), e.prototype._getCorrectBufferLength = function (e) {\n            if (!this._hasScrollback) return e;\n            var r = e + this._optionsService.rawOptions.scrollback;\n            return r > t.MAX_BUFFER_SIZE ? t.MAX_BUFFER_SIZE : r;\n          }, e.prototype.fillViewportRows = function (e) {\n            if (0 === this.lines.length) {\n              void 0 === e && (e = n.DEFAULT_ATTR_DATA);\n\n              for (var t = this._rows; t--;) this.lines.push(this.getBlankLine(e));\n            }\n          }, e.prototype.clear = function () {\n            this.ydisp = 0, this.ybase = 0, this.y = 0, this.x = 0, this.lines = new i.CircularList(this._getCorrectBufferLength(this._rows)), this.scrollTop = 0, this.scrollBottom = this._rows - 1, this.setupTabStops();\n          }, e.prototype.resize = function (e, t) {\n            var r = this.getNullCell(n.DEFAULT_ATTR_DATA),\n                i = this._getCorrectBufferLength(t);\n\n            if (i > this.lines.maxLength && (this.lines.maxLength = i), this.lines.length > 0) {\n              if (this._cols < e) for (var o = 0; o < this.lines.length; o++) this.lines.get(o).resize(e, r);\n              var s = 0;\n              if (this._rows < t) for (var a = this._rows; a < t; a++) this.lines.length < t + this.ybase && (this._optionsService.rawOptions.windowsMode ? this.lines.push(new n.BufferLine(e, r)) : this.ybase > 0 && this.lines.length <= this.ybase + this.y + s + 1 ? (this.ybase--, s++, this.ydisp > 0 && this.ydisp--) : this.lines.push(new n.BufferLine(e, r)));else for (a = this._rows; a > t; a--) this.lines.length > t + this.ybase && (this.lines.length > this.ybase + this.y + 1 ? this.lines.pop() : (this.ybase++, this.ydisp++));\n\n              if (i < this.lines.maxLength) {\n                var c = this.lines.length - i;\n                c > 0 && (this.lines.trimStart(c), this.ybase = Math.max(this.ybase - c, 0), this.ydisp = Math.max(this.ydisp - c, 0), this.savedY = Math.max(this.savedY - c, 0)), this.lines.maxLength = i;\n              }\n\n              this.x = Math.min(this.x, e - 1), this.y = Math.min(this.y, t - 1), s && (this.y += s), this.savedX = Math.min(this.savedX, e - 1), this.scrollTop = 0;\n            }\n\n            if (this.scrollBottom = t - 1, this._isReflowEnabled && (this._reflow(e, t), this._cols > e)) for (o = 0; o < this.lines.length; o++) this.lines.get(o).resize(e, r);\n            this._cols = e, this._rows = t;\n          }, Object.defineProperty(e.prototype, \"_isReflowEnabled\", {\n            get: function () {\n              return this._hasScrollback && !this._optionsService.rawOptions.windowsMode;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), e.prototype._reflow = function (e, t) {\n            this._cols !== e && (e > this._cols ? this._reflowLarger(e, t) : this._reflowSmaller(e, t));\n          }, e.prototype._reflowLarger = function (e, t) {\n            var r = (0, a.reflowLargerGetLinesToRemove)(this.lines, this._cols, e, this.ybase + this.y, this.getNullCell(n.DEFAULT_ATTR_DATA));\n\n            if (r.length > 0) {\n              var i = (0, a.reflowLargerCreateNewLayout)(this.lines, r);\n              (0, a.reflowLargerApplyNewLayout)(this.lines, i.layout), this._reflowLargerAdjustViewport(e, t, i.countRemoved);\n            }\n          }, e.prototype._reflowLargerAdjustViewport = function (e, t, r) {\n            for (var i = this.getNullCell(n.DEFAULT_ATTR_DATA), o = r; o-- > 0;) 0 === this.ybase ? (this.y > 0 && this.y--, this.lines.length < t && this.lines.push(new n.BufferLine(e, i))) : (this.ydisp === this.ybase && this.ydisp--, this.ybase--);\n\n            this.savedY = Math.max(this.savedY - r, 0);\n          }, e.prototype._reflowSmaller = function (e, t) {\n            for (var r = this.getNullCell(n.DEFAULT_ATTR_DATA), i = [], o = 0, s = this.lines.length - 1; s >= 0; s--) {\n              var c = this.lines.get(s);\n\n              if (!(!c || !c.isWrapped && c.getTrimmedLength() <= e)) {\n                for (var l = [c]; c.isWrapped && s > 0;) c = this.lines.get(--s), l.unshift(c);\n\n                var h = this.ybase + this.y;\n\n                if (!(h >= s && h < s + l.length)) {\n                  var u,\n                      f = l[l.length - 1].getTrimmedLength(),\n                      _ = (0, a.reflowSmallerGetNewLineLengths)(l, this._cols, e),\n                      d = _.length - l.length;\n\n                  u = 0 === this.ybase && this.y !== this.lines.length - 1 ? Math.max(0, this.y - this.lines.maxLength + d) : Math.max(0, this.lines.length - this.lines.maxLength + d);\n\n                  for (var p = [], v = 0; v < d; v++) {\n                    var g = this.getBlankLine(n.DEFAULT_ATTR_DATA, !0);\n                    p.push(g);\n                  }\n\n                  p.length > 0 && (i.push({\n                    start: s + l.length + o,\n                    newLines: p\n                  }), o += p.length), l.push.apply(l, p);\n                  var y = _.length - 1,\n                      m = _[y];\n                  0 === m && (m = _[--y]);\n\n                  for (var S = l.length - d - 1, C = f; S >= 0;) {\n                    var b = Math.min(C, m);\n                    if (void 0 === l[y]) break;\n\n                    if (l[y].copyCellsFrom(l[S], C - b, m - b, b, !0), 0 == (m -= b) && (m = _[--y]), 0 == (C -= b)) {\n                      S--;\n                      var w = Math.max(S, 0);\n                      C = (0, a.getWrappedLineTrimmedLength)(l, w, this._cols);\n                    }\n                  }\n\n                  for (v = 0; v < l.length; v++) _[v] < e && l[v].setCell(_[v], r);\n\n                  for (var L = d - u; L-- > 0;) 0 === this.ybase ? this.y < t - 1 ? (this.y++, this.lines.pop()) : (this.ybase++, this.ydisp++) : this.ybase < Math.min(this.lines.maxLength, this.lines.length + o) - t && (this.ybase === this.ydisp && this.ydisp++, this.ybase++);\n\n                  this.savedY = Math.min(this.savedY + d, this.ybase + t - 1);\n                }\n              }\n            }\n\n            if (i.length > 0) {\n              var E = [],\n                  x = [];\n\n              for (v = 0; v < this.lines.length; v++) x.push(this.lines.get(v));\n\n              var M = this.lines.length,\n                  k = M - 1,\n                  A = 0,\n                  R = i[A];\n              this.lines.length = Math.min(this.lines.maxLength, this.lines.length + o);\n              var O = 0;\n\n              for (v = Math.min(this.lines.maxLength - 1, M + o - 1); v >= 0; v--) if (R && R.start > k + O) {\n                for (var T = R.newLines.length - 1; T >= 0; T--) this.lines.set(v--, R.newLines[T]);\n\n                v++, E.push({\n                  index: k + 1,\n                  amount: R.newLines.length\n                }), O += R.newLines.length, R = i[++A];\n              } else this.lines.set(v, x[k--]);\n\n              var B = 0;\n\n              for (v = E.length - 1; v >= 0; v--) E[v].index += B, this.lines.onInsertEmitter.fire(E[v]), B += E[v].amount;\n\n              var D = Math.max(0, M + o - this.lines.maxLength);\n              D > 0 && this.lines.onTrimEmitter.fire(D);\n            }\n          }, e.prototype.stringIndexToBufferIndex = function (e, t, r) {\n            for (void 0 === r && (r = !1); t;) {\n              var i = this.lines.get(e);\n              if (!i) return [-1, -1];\n\n              for (var n = r ? i.getTrimmedLength() : i.length, o = 0; o < n; ++o) if (i.get(o)[s.CHAR_DATA_WIDTH_INDEX] && (t -= i.get(o)[s.CHAR_DATA_CHAR_INDEX].length || 1), t < 0) return [e, o];\n\n              e++;\n            }\n\n            return [e, 0];\n          }, e.prototype.translateBufferLineToString = function (e, t, r, i) {\n            void 0 === r && (r = 0);\n            var n = this.lines.get(e);\n            return n ? n.translateToString(t, r, i) : \"\";\n          }, e.prototype.getWrappedRangeForLine = function (e) {\n            for (var t = e, r = e; t > 0 && this.lines.get(t).isWrapped;) t--;\n\n            for (; r + 1 < this.lines.length && this.lines.get(r + 1).isWrapped;) r++;\n\n            return {\n              first: t,\n              last: r\n            };\n          }, e.prototype.setupTabStops = function (e) {\n            for (null != e ? this.tabs[e] || (e = this.prevStop(e)) : (this.tabs = {}, e = 0); e < this._cols; e += this._optionsService.rawOptions.tabStopWidth) this.tabs[e] = !0;\n          }, e.prototype.prevStop = function (e) {\n            for (null == e && (e = this.x); !this.tabs[--e] && e > 0;);\n\n            return e >= this._cols ? this._cols - 1 : e < 0 ? 0 : e;\n          }, e.prototype.nextStop = function (e) {\n            for (null == e && (e = this.x); !this.tabs[++e] && e < this._cols;);\n\n            return e >= this._cols ? this._cols - 1 : e < 0 ? 0 : e;\n          }, e.prototype.addMarker = function (e) {\n            var t = this,\n                r = new c.Marker(e);\n            return this.markers.push(r), r.register(this.lines.onTrim(function (e) {\n              r.line -= e, r.line < 0 && r.dispose();\n            })), r.register(this.lines.onInsert(function (e) {\n              r.line >= e.index && (r.line += e.amount);\n            })), r.register(this.lines.onDelete(function (e) {\n              r.line >= e.index && r.line < e.index + e.amount && r.dispose(), r.line > e.index && (r.line -= e.amount);\n            })), r.register(r.onDispose(function () {\n              return t._removeMarker(r);\n            })), r;\n          }, e.prototype._removeMarker = function (e) {\n            this.markers.splice(this.markers.indexOf(e), 1);\n          }, e.prototype.iterator = function (e, t, r, i, n) {\n            return new f(this, e, t, r, i, n);\n          }, e;\n        }();\n\n        t.Buffer = u;\n\n        var f = function () {\n          function e(e, t, r, i, n, o) {\n            void 0 === r && (r = 0), void 0 === i && (i = e.lines.length), void 0 === n && (n = 0), void 0 === o && (o = 0), this._buffer = e, this._trimRight = t, this._startIndex = r, this._endIndex = i, this._startOverscan = n, this._endOverscan = o, this._startIndex < 0 && (this._startIndex = 0), this._endIndex > this._buffer.lines.length && (this._endIndex = this._buffer.lines.length), this._current = this._startIndex;\n          }\n\n          return e.prototype.hasNext = function () {\n            return this._current < this._endIndex;\n          }, e.prototype.next = function () {\n            var e = this._buffer.getWrappedRangeForLine(this._current);\n\n            e.first < this._startIndex - this._startOverscan && (e.first = this._startIndex - this._startOverscan), e.last > this._endIndex + this._endOverscan && (e.last = this._endIndex + this._endOverscan), e.first = Math.max(e.first, 0), e.last = Math.min(e.last, this._buffer.lines.length);\n\n            for (var t = \"\", r = e.first; r <= e.last; ++r) t += this._buffer.translateBufferLineToString(r, this._trimRight);\n\n            return this._current = e.last + 1, {\n              range: e,\n              content: t\n            };\n          }, e;\n        }();\n\n        t.BufferStringIterator = f;\n      },\n      8437: (e, t, r) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.BufferLine = t.DEFAULT_ATTR_DATA = void 0;\n        var i = r(482),\n            n = r(643),\n            o = r(511),\n            s = r(3734);\n        t.DEFAULT_ATTR_DATA = Object.freeze(new s.AttributeData());\n\n        var a = function () {\n          function e(e, t, r) {\n            void 0 === r && (r = !1), this.isWrapped = r, this._combined = {}, this._extendedAttrs = {}, this._data = new Uint32Array(3 * e);\n\n            for (var i = t || o.CellData.fromCharData([0, n.NULL_CELL_CHAR, n.NULL_CELL_WIDTH, n.NULL_CELL_CODE]), s = 0; s < e; ++s) this.setCell(s, i);\n\n            this.length = e;\n          }\n\n          return e.prototype.get = function (e) {\n            var t = this._data[3 * e + 0],\n                r = 2097151 & t;\n            return [this._data[3 * e + 1], 2097152 & t ? this._combined[e] : r ? (0, i.stringFromCodePoint)(r) : \"\", t >> 22, 2097152 & t ? this._combined[e].charCodeAt(this._combined[e].length - 1) : r];\n          }, e.prototype.set = function (e, t) {\n            this._data[3 * e + 1] = t[n.CHAR_DATA_ATTR_INDEX], t[n.CHAR_DATA_CHAR_INDEX].length > 1 ? (this._combined[e] = t[1], this._data[3 * e + 0] = 2097152 | e | t[n.CHAR_DATA_WIDTH_INDEX] << 22) : this._data[3 * e + 0] = t[n.CHAR_DATA_CHAR_INDEX].charCodeAt(0) | t[n.CHAR_DATA_WIDTH_INDEX] << 22;\n          }, e.prototype.getWidth = function (e) {\n            return this._data[3 * e + 0] >> 22;\n          }, e.prototype.hasWidth = function (e) {\n            return 12582912 & this._data[3 * e + 0];\n          }, e.prototype.getFg = function (e) {\n            return this._data[3 * e + 1];\n          }, e.prototype.getBg = function (e) {\n            return this._data[3 * e + 2];\n          }, e.prototype.hasContent = function (e) {\n            return 4194303 & this._data[3 * e + 0];\n          }, e.prototype.getCodePoint = function (e) {\n            var t = this._data[3 * e + 0];\n            return 2097152 & t ? this._combined[e].charCodeAt(this._combined[e].length - 1) : 2097151 & t;\n          }, e.prototype.isCombined = function (e) {\n            return 2097152 & this._data[3 * e + 0];\n          }, e.prototype.getString = function (e) {\n            var t = this._data[3 * e + 0];\n            return 2097152 & t ? this._combined[e] : 2097151 & t ? (0, i.stringFromCodePoint)(2097151 & t) : \"\";\n          }, e.prototype.loadCell = function (e, t) {\n            var r = 3 * e;\n            return t.content = this._data[r + 0], t.fg = this._data[r + 1], t.bg = this._data[r + 2], 2097152 & t.content && (t.combinedData = this._combined[e]), 268435456 & t.bg && (t.extended = this._extendedAttrs[e]), t;\n          }, e.prototype.setCell = function (e, t) {\n            2097152 & t.content && (this._combined[e] = t.combinedData), 268435456 & t.bg && (this._extendedAttrs[e] = t.extended), this._data[3 * e + 0] = t.content, this._data[3 * e + 1] = t.fg, this._data[3 * e + 2] = t.bg;\n          }, e.prototype.setCellFromCodePoint = function (e, t, r, i, n, o) {\n            268435456 & n && (this._extendedAttrs[e] = o), this._data[3 * e + 0] = t | r << 22, this._data[3 * e + 1] = i, this._data[3 * e + 2] = n;\n          }, e.prototype.addCodepointToCell = function (e, t) {\n            var r = this._data[3 * e + 0];\n            2097152 & r ? this._combined[e] += (0, i.stringFromCodePoint)(t) : (2097151 & r ? (this._combined[e] = (0, i.stringFromCodePoint)(2097151 & r) + (0, i.stringFromCodePoint)(t), r &= -2097152, r |= 2097152) : r = t | 1 << 22, this._data[3 * e + 0] = r);\n          }, e.prototype.insertCells = function (e, t, r, i) {\n            if ((e %= this.length) && 2 === this.getWidth(e - 1) && this.setCellFromCodePoint(e - 1, 0, 1, (null == i ? void 0 : i.fg) || 0, (null == i ? void 0 : i.bg) || 0, (null == i ? void 0 : i.extended) || new s.ExtendedAttrs()), t < this.length - e) {\n              for (var n = new o.CellData(), a = this.length - e - t - 1; a >= 0; --a) this.setCell(e + t + a, this.loadCell(e + a, n));\n\n              for (a = 0; a < t; ++a) this.setCell(e + a, r);\n            } else for (a = e; a < this.length; ++a) this.setCell(a, r);\n\n            2 === this.getWidth(this.length - 1) && this.setCellFromCodePoint(this.length - 1, 0, 1, (null == i ? void 0 : i.fg) || 0, (null == i ? void 0 : i.bg) || 0, (null == i ? void 0 : i.extended) || new s.ExtendedAttrs());\n          }, e.prototype.deleteCells = function (e, t, r, i) {\n            if (e %= this.length, t < this.length - e) {\n              for (var n = new o.CellData(), a = 0; a < this.length - e - t; ++a) this.setCell(e + a, this.loadCell(e + t + a, n));\n\n              for (a = this.length - t; a < this.length; ++a) this.setCell(a, r);\n            } else for (a = e; a < this.length; ++a) this.setCell(a, r);\n\n            e && 2 === this.getWidth(e - 1) && this.setCellFromCodePoint(e - 1, 0, 1, (null == i ? void 0 : i.fg) || 0, (null == i ? void 0 : i.bg) || 0, (null == i ? void 0 : i.extended) || new s.ExtendedAttrs()), 0 !== this.getWidth(e) || this.hasContent(e) || this.setCellFromCodePoint(e, 0, 1, (null == i ? void 0 : i.fg) || 0, (null == i ? void 0 : i.bg) || 0, (null == i ? void 0 : i.extended) || new s.ExtendedAttrs());\n          }, e.prototype.replaceCells = function (e, t, r, i) {\n            for (e && 2 === this.getWidth(e - 1) && this.setCellFromCodePoint(e - 1, 0, 1, (null == i ? void 0 : i.fg) || 0, (null == i ? void 0 : i.bg) || 0, (null == i ? void 0 : i.extended) || new s.ExtendedAttrs()), t < this.length && 2 === this.getWidth(t - 1) && this.setCellFromCodePoint(t, 0, 1, (null == i ? void 0 : i.fg) || 0, (null == i ? void 0 : i.bg) || 0, (null == i ? void 0 : i.extended) || new s.ExtendedAttrs()); e < t && e < this.length;) this.setCell(e++, r);\n          }, e.prototype.resize = function (e, t) {\n            if (e !== this.length) {\n              if (e > this.length) {\n                var r = new Uint32Array(3 * e);\n                this.length && (3 * e < this._data.length ? r.set(this._data.subarray(0, 3 * e)) : r.set(this._data)), this._data = r;\n\n                for (var i = this.length; i < e; ++i) this.setCell(i, t);\n              } else if (e) {\n                (r = new Uint32Array(3 * e)).set(this._data.subarray(0, 3 * e)), this._data = r;\n                var n = Object.keys(this._combined);\n\n                for (i = 0; i < n.length; i++) {\n                  var o = parseInt(n[i], 10);\n                  o >= e && delete this._combined[o];\n                }\n              } else this._data = new Uint32Array(0), this._combined = {};\n\n              this.length = e;\n            }\n          }, e.prototype.fill = function (e) {\n            this._combined = {}, this._extendedAttrs = {};\n\n            for (var t = 0; t < this.length; ++t) this.setCell(t, e);\n          }, e.prototype.copyFrom = function (e) {\n            for (var t in this.length !== e.length ? this._data = new Uint32Array(e._data) : this._data.set(e._data), this.length = e.length, this._combined = {}, e._combined) this._combined[t] = e._combined[t];\n\n            for (var t in this._extendedAttrs = {}, e._extendedAttrs) this._extendedAttrs[t] = e._extendedAttrs[t];\n\n            this.isWrapped = e.isWrapped;\n          }, e.prototype.clone = function () {\n            var t = new e(0);\n\n            for (var r in t._data = new Uint32Array(this._data), t.length = this.length, this._combined) t._combined[r] = this._combined[r];\n\n            for (var r in this._extendedAttrs) t._extendedAttrs[r] = this._extendedAttrs[r];\n\n            return t.isWrapped = this.isWrapped, t;\n          }, e.prototype.getTrimmedLength = function () {\n            for (var e = this.length - 1; e >= 0; --e) if (4194303 & this._data[3 * e + 0]) return e + (this._data[3 * e + 0] >> 22);\n\n            return 0;\n          }, e.prototype.copyCellsFrom = function (e, t, r, i, n) {\n            var o = e._data;\n            if (n) for (var s = i - 1; s >= 0; s--) for (var a = 0; a < 3; a++) this._data[3 * (r + s) + a] = o[3 * (t + s) + a];else for (s = 0; s < i; s++) for (a = 0; a < 3; a++) this._data[3 * (r + s) + a] = o[3 * (t + s) + a];\n            var c = Object.keys(e._combined);\n\n            for (a = 0; a < c.length; a++) {\n              var l = parseInt(c[a], 10);\n              l >= t && (this._combined[l - t + r] = e._combined[l]);\n            }\n          }, e.prototype.translateToString = function (e, t, r) {\n            void 0 === e && (e = !1), void 0 === t && (t = 0), void 0 === r && (r = this.length), e && (r = Math.min(r, this.getTrimmedLength()));\n\n            for (var o = \"\"; t < r;) {\n              var s = this._data[3 * t + 0],\n                  a = 2097151 & s;\n              o += 2097152 & s ? this._combined[t] : a ? (0, i.stringFromCodePoint)(a) : n.WHITESPACE_CELL_CHAR, t += s >> 22 || 1;\n            }\n\n            return o;\n          }, e;\n        }();\n\n        t.BufferLine = a;\n      },\n      4841: (e, t) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.getRangeLength = void 0, t.getRangeLength = function (e, t) {\n          if (e.start.y > e.end.y) throw new Error(\"Buffer range end (\" + e.end.x + \", \" + e.end.y + \") cannot be before start (\" + e.start.x + \", \" + e.start.y + \")\");\n          return t * (e.end.y - e.start.y) + (e.end.x - e.start.x + 1);\n        };\n      },\n      4634: (e, t) => {\n        function r(e, t, r) {\n          if (t === e.length - 1) return e[t].getTrimmedLength();\n          var i = !e[t].hasContent(r - 1) && 1 === e[t].getWidth(r - 1),\n              n = 2 === e[t + 1].getWidth(0);\n          return i && n ? r - 1 : r;\n        }\n\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.getWrappedLineTrimmedLength = t.reflowSmallerGetNewLineLengths = t.reflowLargerApplyNewLayout = t.reflowLargerCreateNewLayout = t.reflowLargerGetLinesToRemove = void 0, t.reflowLargerGetLinesToRemove = function (e, t, i, n, o) {\n          for (var s = [], a = 0; a < e.length - 1; a++) {\n            var c = a,\n                l = e.get(++c);\n\n            if (l.isWrapped) {\n              for (var h = [e.get(a)]; c < e.length && l.isWrapped;) h.push(l), l = e.get(++c);\n\n              if (n >= a && n < c) a += h.length - 1;else {\n                for (var u = 0, f = r(h, u, t), _ = 1, d = 0; _ < h.length;) {\n                  var p = r(h, _, t),\n                      v = p - d,\n                      g = i - f,\n                      y = Math.min(v, g);\n                  h[u].copyCellsFrom(h[_], d, f, y, !1), (f += y) === i && (u++, f = 0), (d += y) === p && (_++, d = 0), 0 === f && 0 !== u && 2 === h[u - 1].getWidth(i - 1) && (h[u].copyCellsFrom(h[u - 1], i - 1, f++, 1, !1), h[u - 1].setCell(i - 1, o));\n                }\n\n                h[u].replaceCells(f, i, o);\n\n                for (var m = 0, S = h.length - 1; S > 0 && (S > u || 0 === h[S].getTrimmedLength()); S--) m++;\n\n                m > 0 && (s.push(a + h.length - m), s.push(m)), a += h.length - 1;\n              }\n            }\n          }\n\n          return s;\n        }, t.reflowLargerCreateNewLayout = function (e, t) {\n          for (var r = [], i = 0, n = t[i], o = 0, s = 0; s < e.length; s++) if (n === s) {\n            var a = t[++i];\n            e.onDeleteEmitter.fire({\n              index: s - o,\n              amount: a\n            }), s += a - 1, o += a, n = t[++i];\n          } else r.push(s);\n\n          return {\n            layout: r,\n            countRemoved: o\n          };\n        }, t.reflowLargerApplyNewLayout = function (e, t) {\n          for (var r = [], i = 0; i < t.length; i++) r.push(e.get(t[i]));\n\n          for (i = 0; i < r.length; i++) e.set(i, r[i]);\n\n          e.length = t.length;\n        }, t.reflowSmallerGetNewLineLengths = function (e, t, i) {\n          for (var n = [], o = e.map(function (i, n) {\n            return r(e, n, t);\n          }).reduce(function (e, t) {\n            return e + t;\n          }), s = 0, a = 0, c = 0; c < o;) {\n            if (o - c < i) {\n              n.push(o - c);\n              break;\n            }\n\n            s += i;\n            var l = r(e, a, t);\n            s > l && (s -= l, a++);\n            var h = 2 === e[a].getWidth(s - 1);\n            h && s--;\n            var u = h ? i - 1 : i;\n            n.push(u), c += u;\n          }\n\n          return n;\n        }, t.getWrappedLineTrimmedLength = r;\n      },\n      5295: function (e, t, r) {\n        var i,\n            n = this && this.__extends || (i = function (e, t) {\n          return i = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (e, t) {\n            e.__proto__ = t;\n          } || function (e, t) {\n            for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);\n          }, i(e, t);\n        }, function (e, t) {\n          if (\"function\" != typeof t && null !== t) throw new TypeError(\"Class extends value \" + String(t) + \" is not a constructor or null\");\n\n          function r() {\n            this.constructor = e;\n          }\n\n          i(e, t), e.prototype = null === t ? Object.create(t) : (r.prototype = t.prototype, new r());\n        });\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.BufferSet = void 0;\n\n        var o = r(9092),\n            s = r(8460),\n            a = function (e) {\n          function t(t, r) {\n            var i = e.call(this) || this;\n            return i._optionsService = t, i._bufferService = r, i._onBufferActivate = i.register(new s.EventEmitter()), i.reset(), i;\n          }\n\n          return n(t, e), Object.defineProperty(t.prototype, \"onBufferActivate\", {\n            get: function () {\n              return this._onBufferActivate.event;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), t.prototype.reset = function () {\n            this._normal = new o.Buffer(!0, this._optionsService, this._bufferService), this._normal.fillViewportRows(), this._alt = new o.Buffer(!1, this._optionsService, this._bufferService), this._activeBuffer = this._normal, this._onBufferActivate.fire({\n              activeBuffer: this._normal,\n              inactiveBuffer: this._alt\n            }), this.setupTabStops();\n          }, Object.defineProperty(t.prototype, \"alt\", {\n            get: function () {\n              return this._alt;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(t.prototype, \"active\", {\n            get: function () {\n              return this._activeBuffer;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(t.prototype, \"normal\", {\n            get: function () {\n              return this._normal;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), t.prototype.activateNormalBuffer = function () {\n            this._activeBuffer !== this._normal && (this._normal.x = this._alt.x, this._normal.y = this._alt.y, this._alt.clear(), this._activeBuffer = this._normal, this._onBufferActivate.fire({\n              activeBuffer: this._normal,\n              inactiveBuffer: this._alt\n            }));\n          }, t.prototype.activateAltBuffer = function (e) {\n            this._activeBuffer !== this._alt && (this._alt.fillViewportRows(e), this._alt.x = this._normal.x, this._alt.y = this._normal.y, this._activeBuffer = this._alt, this._onBufferActivate.fire({\n              activeBuffer: this._alt,\n              inactiveBuffer: this._normal\n            }));\n          }, t.prototype.resize = function (e, t) {\n            this._normal.resize(e, t), this._alt.resize(e, t);\n          }, t.prototype.setupTabStops = function (e) {\n            this._normal.setupTabStops(e), this._alt.setupTabStops(e);\n          }, t;\n        }(r(844).Disposable);\n\n        t.BufferSet = a;\n      },\n      511: function (e, t, r) {\n        var i,\n            n = this && this.__extends || (i = function (e, t) {\n          return i = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (e, t) {\n            e.__proto__ = t;\n          } || function (e, t) {\n            for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);\n          }, i(e, t);\n        }, function (e, t) {\n          if (\"function\" != typeof t && null !== t) throw new TypeError(\"Class extends value \" + String(t) + \" is not a constructor or null\");\n\n          function r() {\n            this.constructor = e;\n          }\n\n          i(e, t), e.prototype = null === t ? Object.create(t) : (r.prototype = t.prototype, new r());\n        });\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.CellData = void 0;\n\n        var o = r(482),\n            s = r(643),\n            a = r(3734),\n            c = function (e) {\n          function t() {\n            var t = null !== e && e.apply(this, arguments) || this;\n            return t.content = 0, t.fg = 0, t.bg = 0, t.extended = new a.ExtendedAttrs(), t.combinedData = \"\", t;\n          }\n\n          return n(t, e), t.fromCharData = function (e) {\n            var r = new t();\n            return r.setFromCharData(e), r;\n          }, t.prototype.isCombined = function () {\n            return 2097152 & this.content;\n          }, t.prototype.getWidth = function () {\n            return this.content >> 22;\n          }, t.prototype.getChars = function () {\n            return 2097152 & this.content ? this.combinedData : 2097151 & this.content ? (0, o.stringFromCodePoint)(2097151 & this.content) : \"\";\n          }, t.prototype.getCode = function () {\n            return this.isCombined() ? this.combinedData.charCodeAt(this.combinedData.length - 1) : 2097151 & this.content;\n          }, t.prototype.setFromCharData = function (e) {\n            this.fg = e[s.CHAR_DATA_ATTR_INDEX], this.bg = 0;\n            var t = !1;\n            if (e[s.CHAR_DATA_CHAR_INDEX].length > 2) t = !0;else if (2 === e[s.CHAR_DATA_CHAR_INDEX].length) {\n              var r = e[s.CHAR_DATA_CHAR_INDEX].charCodeAt(0);\n\n              if (55296 <= r && r <= 56319) {\n                var i = e[s.CHAR_DATA_CHAR_INDEX].charCodeAt(1);\n                56320 <= i && i <= 57343 ? this.content = 1024 * (r - 55296) + i - 56320 + 65536 | e[s.CHAR_DATA_WIDTH_INDEX] << 22 : t = !0;\n              } else t = !0;\n            } else this.content = e[s.CHAR_DATA_CHAR_INDEX].charCodeAt(0) | e[s.CHAR_DATA_WIDTH_INDEX] << 22;\n            t && (this.combinedData = e[s.CHAR_DATA_CHAR_INDEX], this.content = 2097152 | e[s.CHAR_DATA_WIDTH_INDEX] << 22);\n          }, t.prototype.getAsCharData = function () {\n            return [this.fg, this.getChars(), this.getWidth(), this.getCode()];\n          }, t;\n        }(a.AttributeData);\n\n        t.CellData = c;\n      },\n      643: (e, t) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.WHITESPACE_CELL_CODE = t.WHITESPACE_CELL_WIDTH = t.WHITESPACE_CELL_CHAR = t.NULL_CELL_CODE = t.NULL_CELL_WIDTH = t.NULL_CELL_CHAR = t.CHAR_DATA_CODE_INDEX = t.CHAR_DATA_WIDTH_INDEX = t.CHAR_DATA_CHAR_INDEX = t.CHAR_DATA_ATTR_INDEX = t.DEFAULT_ATTR = t.DEFAULT_COLOR = void 0, t.DEFAULT_COLOR = 256, t.DEFAULT_ATTR = 256 | t.DEFAULT_COLOR << 9, t.CHAR_DATA_ATTR_INDEX = 0, t.CHAR_DATA_CHAR_INDEX = 1, t.CHAR_DATA_WIDTH_INDEX = 2, t.CHAR_DATA_CODE_INDEX = 3, t.NULL_CELL_CHAR = \"\", t.NULL_CELL_WIDTH = 1, t.NULL_CELL_CODE = 0, t.WHITESPACE_CELL_CHAR = \" \", t.WHITESPACE_CELL_WIDTH = 1, t.WHITESPACE_CELL_CODE = 32;\n      },\n      4863: function (e, t, r) {\n        var i,\n            n = this && this.__extends || (i = function (e, t) {\n          return i = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (e, t) {\n            e.__proto__ = t;\n          } || function (e, t) {\n            for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);\n          }, i(e, t);\n        }, function (e, t) {\n          if (\"function\" != typeof t && null !== t) throw new TypeError(\"Class extends value \" + String(t) + \" is not a constructor or null\");\n\n          function r() {\n            this.constructor = e;\n          }\n\n          i(e, t), e.prototype = null === t ? Object.create(t) : (r.prototype = t.prototype, new r());\n        });\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.Marker = void 0;\n\n        var o = r(8460),\n            s = function (e) {\n          function t(r) {\n            var i = e.call(this) || this;\n            return i.line = r, i._id = t._nextId++, i.isDisposed = !1, i._onDispose = new o.EventEmitter(), i;\n          }\n\n          return n(t, e), Object.defineProperty(t.prototype, \"id\", {\n            get: function () {\n              return this._id;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(t.prototype, \"onDispose\", {\n            get: function () {\n              return this._onDispose.event;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), t.prototype.dispose = function () {\n            this.isDisposed || (this.isDisposed = !0, this.line = -1, this._onDispose.fire(), e.prototype.dispose.call(this));\n          }, t._nextId = 1, t;\n        }(r(844).Disposable);\n\n        t.Marker = s;\n      },\n      7116: (e, t) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.DEFAULT_CHARSET = t.CHARSETS = void 0, t.CHARSETS = {}, t.DEFAULT_CHARSET = t.CHARSETS.B, t.CHARSETS[0] = {\n          \"`\": \"â\",\n          a: \"â\",\n          b: \"â\",\n          c: \"â\",\n          d: \"â\",\n          e: \"â\",\n          f: \"Â°\",\n          g: \"Â±\",\n          h: \"â¤\",\n          i: \"â\",\n          j: \"â\",\n          k: \"â\",\n          l: \"â\",\n          m: \"â\",\n          n: \"â¼\",\n          o: \"âº\",\n          p: \"â»\",\n          q: \"â\",\n          r: \"â¼\",\n          s: \"â½\",\n          t: \"â\",\n          u: \"â¤\",\n          v: \"â´\",\n          w: \"â¬\",\n          x: \"â\",\n          y: \"â¤\",\n          z: \"â¥\",\n          \"{\": \"Ï\",\n          \"|\": \"â \",\n          \"}\": \"Â£\",\n          \"~\": \"Â·\"\n        }, t.CHARSETS.A = {\n          \"#\": \"Â£\"\n        }, t.CHARSETS.B = void 0, t.CHARSETS[4] = {\n          \"#\": \"Â£\",\n          \"@\": \"Â¾\",\n          \"[\": \"ij\",\n          \"\\\\\": \"Â½\",\n          \"]\": \"|\",\n          \"{\": \"Â¨\",\n          \"|\": \"f\",\n          \"}\": \"Â¼\",\n          \"~\": \"Â´\"\n        }, t.CHARSETS.C = t.CHARSETS[5] = {\n          \"[\": \"Ã\",\n          \"\\\\\": \"Ã\",\n          \"]\": \"Ã\",\n          \"^\": \"Ã\",\n          \"`\": \"Ã©\",\n          \"{\": \"Ã¤\",\n          \"|\": \"Ã¶\",\n          \"}\": \"Ã¥\",\n          \"~\": \"Ã¼\"\n        }, t.CHARSETS.R = {\n          \"#\": \"Â£\",\n          \"@\": \"Ã \",\n          \"[\": \"Â°\",\n          \"\\\\\": \"Ã§\",\n          \"]\": \"Â§\",\n          \"{\": \"Ã©\",\n          \"|\": \"Ã¹\",\n          \"}\": \"Ã¨\",\n          \"~\": \"Â¨\"\n        }, t.CHARSETS.Q = {\n          \"@\": \"Ã \",\n          \"[\": \"Ã¢\",\n          \"\\\\\": \"Ã§\",\n          \"]\": \"Ãª\",\n          \"^\": \"Ã®\",\n          \"`\": \"Ã´\",\n          \"{\": \"Ã©\",\n          \"|\": \"Ã¹\",\n          \"}\": \"Ã¨\",\n          \"~\": \"Ã»\"\n        }, t.CHARSETS.K = {\n          \"@\": \"Â§\",\n          \"[\": \"Ã\",\n          \"\\\\\": \"Ã\",\n          \"]\": \"Ã\",\n          \"{\": \"Ã¤\",\n          \"|\": \"Ã¶\",\n          \"}\": \"Ã¼\",\n          \"~\": \"Ã\"\n        }, t.CHARSETS.Y = {\n          \"#\": \"Â£\",\n          \"@\": \"Â§\",\n          \"[\": \"Â°\",\n          \"\\\\\": \"Ã§\",\n          \"]\": \"Ã©\",\n          \"`\": \"Ã¹\",\n          \"{\": \"Ã \",\n          \"|\": \"Ã²\",\n          \"}\": \"Ã¨\",\n          \"~\": \"Ã¬\"\n        }, t.CHARSETS.E = t.CHARSETS[6] = {\n          \"@\": \"Ã\",\n          \"[\": \"Ã\",\n          \"\\\\\": \"Ã\",\n          \"]\": \"Ã\",\n          \"^\": \"Ã\",\n          \"`\": \"Ã¤\",\n          \"{\": \"Ã¦\",\n          \"|\": \"Ã¸\",\n          \"}\": \"Ã¥\",\n          \"~\": \"Ã¼\"\n        }, t.CHARSETS.Z = {\n          \"#\": \"Â£\",\n          \"@\": \"Â§\",\n          \"[\": \"Â¡\",\n          \"\\\\\": \"Ã\",\n          \"]\": \"Â¿\",\n          \"{\": \"Â°\",\n          \"|\": \"Ã±\",\n          \"}\": \"Ã§\"\n        }, t.CHARSETS.H = t.CHARSETS[7] = {\n          \"@\": \"Ã\",\n          \"[\": \"Ã\",\n          \"\\\\\": \"Ã\",\n          \"]\": \"Ã\",\n          \"^\": \"Ã\",\n          \"`\": \"Ã©\",\n          \"{\": \"Ã¤\",\n          \"|\": \"Ã¶\",\n          \"}\": \"Ã¥\",\n          \"~\": \"Ã¼\"\n        }, t.CHARSETS[\"=\"] = {\n          \"#\": \"Ã¹\",\n          \"@\": \"Ã \",\n          \"[\": \"Ã©\",\n          \"\\\\\": \"Ã§\",\n          \"]\": \"Ãª\",\n          \"^\": \"Ã®\",\n          _: \"Ã¨\",\n          \"`\": \"Ã´\",\n          \"{\": \"Ã¤\",\n          \"|\": \"Ã¶\",\n          \"}\": \"Ã¼\",\n          \"~\": \"Ã»\"\n        };\n      },\n      2584: (e, t) => {\n        var r, i;\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.C1 = t.C0 = void 0, (i = t.C0 || (t.C0 = {})).NUL = \"\\0\", i.SOH = \"\u0001\", i.STX = \"\u0002\", i.ETX = \"\u0003\", i.EOT = \"\u0004\", i.ENQ = \"\u0005\", i.ACK = \"\u0006\", i.BEL = \"\u0007\", i.BS = \"\\b\", i.HT = \"\\t\", i.LF = \"\\n\", i.VT = \"\\v\", i.FF = \"\\f\", i.CR = \"\\r\", i.SO = \"\u000e\", i.SI = \"\u000f\", i.DLE = \"\u0010\", i.DC1 = \"\u0011\", i.DC2 = \"\u0012\", i.DC3 = \"\u0013\", i.DC4 = \"\u0014\", i.NAK = \"\u0015\", i.SYN = \"\u0016\", i.ETB = \"\u0017\", i.CAN = \"\u0018\", i.EM = \"\u0019\", i.SUB = \"\u001a\", i.ESC = \"\u001b\", i.FS = \"\u001c\", i.GS = \"\u001d\", i.RS = \"\u001e\", i.US = \"\u001f\", i.SP = \" \", i.DEL = \"\", (r = t.C1 || (t.C1 = {})).PAD = \"Â\", r.HOP = \"Â\", r.BPH = \"Â\", r.NBH = \"Â\", r.IND = \"Â\", r.NEL = \"Â\", r.SSA = \"Â\", r.ESA = \"Â\", r.HTS = \"Â\", r.HTJ = \"Â\", r.VTS = \"Â\", r.PLD = \"Â\", r.PLU = \"Â\", r.RI = \"Â\", r.SS2 = \"Â\", r.SS3 = \"Â\", r.DCS = \"Â\", r.PU1 = \"Â\", r.PU2 = \"Â\", r.STS = \"Â\", r.CCH = \"Â\", r.MW = \"Â\", r.SPA = \"Â\", r.EPA = \"Â\", r.SOS = \"Â\", r.SGCI = \"Â\", r.SCI = \"Â\", r.CSI = \"Â\", r.ST = \"Â\", r.OSC = \"Â\", r.PM = \"Â\", r.APC = \"Â\";\n      },\n      7399: (e, t, r) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.evaluateKeyboardEvent = void 0;\n        var i = r(2584),\n            n = {\n          48: [\"0\", \")\"],\n          49: [\"1\", \"!\"],\n          50: [\"2\", \"@\"],\n          51: [\"3\", \"#\"],\n          52: [\"4\", \"$\"],\n          53: [\"5\", \"%\"],\n          54: [\"6\", \"^\"],\n          55: [\"7\", \"&\"],\n          56: [\"8\", \"*\"],\n          57: [\"9\", \"(\"],\n          186: [\";\", \":\"],\n          187: [\"=\", \"+\"],\n          188: [\",\", \"<\"],\n          189: [\"-\", \"_\"],\n          190: [\".\", \">\"],\n          191: [\"/\", \"?\"],\n          192: [\"`\", \"~\"],\n          219: [\"[\", \"{\"],\n          220: [\"\\\\\", \"|\"],\n          221: [\"]\", \"}\"],\n          222: [\"'\", '\"']\n        };\n\n        t.evaluateKeyboardEvent = function (e, t, r, o) {\n          var s = {\n            type: 0,\n            cancel: !1,\n            key: void 0\n          },\n              a = (e.shiftKey ? 1 : 0) | (e.altKey ? 2 : 0) | (e.ctrlKey ? 4 : 0) | (e.metaKey ? 8 : 0);\n\n          switch (e.keyCode) {\n            case 0:\n              \"UIKeyInputUpArrow\" === e.key ? s.key = t ? i.C0.ESC + \"OA\" : i.C0.ESC + \"[A\" : \"UIKeyInputLeftArrow\" === e.key ? s.key = t ? i.C0.ESC + \"OD\" : i.C0.ESC + \"[D\" : \"UIKeyInputRightArrow\" === e.key ? s.key = t ? i.C0.ESC + \"OC\" : i.C0.ESC + \"[C\" : \"UIKeyInputDownArrow\" === e.key && (s.key = t ? i.C0.ESC + \"OB\" : i.C0.ESC + \"[B\");\n              break;\n\n            case 8:\n              if (e.shiftKey) {\n                s.key = i.C0.BS;\n                break;\n              }\n\n              if (e.altKey) {\n                s.key = i.C0.ESC + i.C0.DEL;\n                break;\n              }\n\n              s.key = i.C0.DEL;\n              break;\n\n            case 9:\n              if (e.shiftKey) {\n                s.key = i.C0.ESC + \"[Z\";\n                break;\n              }\n\n              s.key = i.C0.HT, s.cancel = !0;\n              break;\n\n            case 13:\n              s.key = e.altKey ? i.C0.ESC + i.C0.CR : i.C0.CR, s.cancel = !0;\n              break;\n\n            case 27:\n              s.key = i.C0.ESC, e.altKey && (s.key = i.C0.ESC + i.C0.ESC), s.cancel = !0;\n              break;\n\n            case 37:\n              if (e.metaKey) break;\n              a ? (s.key = i.C0.ESC + \"[1;\" + (a + 1) + \"D\", s.key === i.C0.ESC + \"[1;3D\" && (s.key = i.C0.ESC + (r ? \"b\" : \"[1;5D\"))) : s.key = t ? i.C0.ESC + \"OD\" : i.C0.ESC + \"[D\";\n              break;\n\n            case 39:\n              if (e.metaKey) break;\n              a ? (s.key = i.C0.ESC + \"[1;\" + (a + 1) + \"C\", s.key === i.C0.ESC + \"[1;3C\" && (s.key = i.C0.ESC + (r ? \"f\" : \"[1;5C\"))) : s.key = t ? i.C0.ESC + \"OC\" : i.C0.ESC + \"[C\";\n              break;\n\n            case 38:\n              if (e.metaKey) break;\n              a ? (s.key = i.C0.ESC + \"[1;\" + (a + 1) + \"A\", r || s.key !== i.C0.ESC + \"[1;3A\" || (s.key = i.C0.ESC + \"[1;5A\")) : s.key = t ? i.C0.ESC + \"OA\" : i.C0.ESC + \"[A\";\n              break;\n\n            case 40:\n              if (e.metaKey) break;\n              a ? (s.key = i.C0.ESC + \"[1;\" + (a + 1) + \"B\", r || s.key !== i.C0.ESC + \"[1;3B\" || (s.key = i.C0.ESC + \"[1;5B\")) : s.key = t ? i.C0.ESC + \"OB\" : i.C0.ESC + \"[B\";\n              break;\n\n            case 45:\n              e.shiftKey || e.ctrlKey || (s.key = i.C0.ESC + \"[2~\");\n              break;\n\n            case 46:\n              s.key = a ? i.C0.ESC + \"[3;\" + (a + 1) + \"~\" : i.C0.ESC + \"[3~\";\n              break;\n\n            case 36:\n              s.key = a ? i.C0.ESC + \"[1;\" + (a + 1) + \"H\" : t ? i.C0.ESC + \"OH\" : i.C0.ESC + \"[H\";\n              break;\n\n            case 35:\n              s.key = a ? i.C0.ESC + \"[1;\" + (a + 1) + \"F\" : t ? i.C0.ESC + \"OF\" : i.C0.ESC + \"[F\";\n              break;\n\n            case 33:\n              e.shiftKey ? s.type = 2 : s.key = i.C0.ESC + \"[5~\";\n              break;\n\n            case 34:\n              e.shiftKey ? s.type = 3 : s.key = i.C0.ESC + \"[6~\";\n              break;\n\n            case 112:\n              s.key = a ? i.C0.ESC + \"[1;\" + (a + 1) + \"P\" : i.C0.ESC + \"OP\";\n              break;\n\n            case 113:\n              s.key = a ? i.C0.ESC + \"[1;\" + (a + 1) + \"Q\" : i.C0.ESC + \"OQ\";\n              break;\n\n            case 114:\n              s.key = a ? i.C0.ESC + \"[1;\" + (a + 1) + \"R\" : i.C0.ESC + \"OR\";\n              break;\n\n            case 115:\n              s.key = a ? i.C0.ESC + \"[1;\" + (a + 1) + \"S\" : i.C0.ESC + \"OS\";\n              break;\n\n            case 116:\n              s.key = a ? i.C0.ESC + \"[15;\" + (a + 1) + \"~\" : i.C0.ESC + \"[15~\";\n              break;\n\n            case 117:\n              s.key = a ? i.C0.ESC + \"[17;\" + (a + 1) + \"~\" : i.C0.ESC + \"[17~\";\n              break;\n\n            case 118:\n              s.key = a ? i.C0.ESC + \"[18;\" + (a + 1) + \"~\" : i.C0.ESC + \"[18~\";\n              break;\n\n            case 119:\n              s.key = a ? i.C0.ESC + \"[19;\" + (a + 1) + \"~\" : i.C0.ESC + \"[19~\";\n              break;\n\n            case 120:\n              s.key = a ? i.C0.ESC + \"[20;\" + (a + 1) + \"~\" : i.C0.ESC + \"[20~\";\n              break;\n\n            case 121:\n              s.key = a ? i.C0.ESC + \"[21;\" + (a + 1) + \"~\" : i.C0.ESC + \"[21~\";\n              break;\n\n            case 122:\n              s.key = a ? i.C0.ESC + \"[23;\" + (a + 1) + \"~\" : i.C0.ESC + \"[23~\";\n              break;\n\n            case 123:\n              s.key = a ? i.C0.ESC + \"[24;\" + (a + 1) + \"~\" : i.C0.ESC + \"[24~\";\n              break;\n\n            default:\n              if (!e.ctrlKey || e.shiftKey || e.altKey || e.metaKey) {\n                if (r && !o || !e.altKey || e.metaKey) !r || e.altKey || e.ctrlKey || e.shiftKey || !e.metaKey ? e.key && !e.ctrlKey && !e.altKey && !e.metaKey && e.keyCode >= 48 && 1 === e.key.length ? s.key = e.key : e.key && e.ctrlKey && \"_\" === e.key && (s.key = i.C0.US) : 65 === e.keyCode && (s.type = 1);else {\n                  var c = n[e.keyCode],\n                      l = null == c ? void 0 : c[e.shiftKey ? 1 : 0];\n                  if (l) s.key = i.C0.ESC + l;else if (e.keyCode >= 65 && e.keyCode <= 90) {\n                    var h = e.ctrlKey ? e.keyCode - 64 : e.keyCode + 32;\n                    s.key = i.C0.ESC + String.fromCharCode(h);\n                  }\n                }\n              } else e.keyCode >= 65 && e.keyCode <= 90 ? s.key = String.fromCharCode(e.keyCode - 64) : 32 === e.keyCode ? s.key = i.C0.NUL : e.keyCode >= 51 && e.keyCode <= 55 ? s.key = String.fromCharCode(e.keyCode - 51 + 27) : 56 === e.keyCode ? s.key = i.C0.DEL : 219 === e.keyCode ? s.key = i.C0.ESC : 220 === e.keyCode ? s.key = i.C0.FS : 221 === e.keyCode && (s.key = i.C0.GS);\n          }\n\n          return s;\n        };\n      },\n      482: (e, t) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.Utf8ToUtf32 = t.StringToUtf32 = t.utf32ToString = t.stringFromCodePoint = void 0, t.stringFromCodePoint = function (e) {\n          return e > 65535 ? (e -= 65536, String.fromCharCode(55296 + (e >> 10)) + String.fromCharCode(e % 1024 + 56320)) : String.fromCharCode(e);\n        }, t.utf32ToString = function (e, t, r) {\n          void 0 === t && (t = 0), void 0 === r && (r = e.length);\n\n          for (var i = \"\", n = t; n < r; ++n) {\n            var o = e[n];\n            o > 65535 ? (o -= 65536, i += String.fromCharCode(55296 + (o >> 10)) + String.fromCharCode(o % 1024 + 56320)) : i += String.fromCharCode(o);\n          }\n\n          return i;\n        };\n\n        var r = function () {\n          function e() {\n            this._interim = 0;\n          }\n\n          return e.prototype.clear = function () {\n            this._interim = 0;\n          }, e.prototype.decode = function (e, t) {\n            var r = e.length;\n            if (!r) return 0;\n            var i = 0,\n                n = 0;\n            this._interim && (56320 <= (a = e.charCodeAt(n++)) && a <= 57343 ? t[i++] = 1024 * (this._interim - 55296) + a - 56320 + 65536 : (t[i++] = this._interim, t[i++] = a), this._interim = 0);\n\n            for (var o = n; o < r; ++o) {\n              var s = e.charCodeAt(o);\n\n              if (55296 <= s && s <= 56319) {\n                if (++o >= r) return this._interim = s, i;\n                var a;\n                56320 <= (a = e.charCodeAt(o)) && a <= 57343 ? t[i++] = 1024 * (s - 55296) + a - 56320 + 65536 : (t[i++] = s, t[i++] = a);\n              } else 65279 !== s && (t[i++] = s);\n            }\n\n            return i;\n          }, e;\n        }();\n\n        t.StringToUtf32 = r;\n\n        var i = function () {\n          function e() {\n            this.interim = new Uint8Array(3);\n          }\n\n          return e.prototype.clear = function () {\n            this.interim.fill(0);\n          }, e.prototype.decode = function (e, t) {\n            var r = e.length;\n            if (!r) return 0;\n            var i,\n                n,\n                o,\n                s,\n                a = 0,\n                c = 0,\n                l = 0;\n\n            if (this.interim[0]) {\n              var h = !1,\n                  u = this.interim[0];\n              u &= 192 == (224 & u) ? 31 : 224 == (240 & u) ? 15 : 7;\n\n              for (var f = 0, _ = void 0; (_ = 63 & this.interim[++f]) && f < 4;) u <<= 6, u |= _;\n\n              for (var d = 192 == (224 & this.interim[0]) ? 2 : 224 == (240 & this.interim[0]) ? 3 : 4, p = d - f; l < p;) {\n                if (l >= r) return 0;\n\n                if (128 != (192 & (_ = e[l++]))) {\n                  l--, h = !0;\n                  break;\n                }\n\n                this.interim[f++] = _, u <<= 6, u |= 63 & _;\n              }\n\n              h || (2 === d ? u < 128 ? l-- : t[a++] = u : 3 === d ? u < 2048 || u >= 55296 && u <= 57343 || 65279 === u || (t[a++] = u) : u < 65536 || u > 1114111 || (t[a++] = u)), this.interim.fill(0);\n            }\n\n            for (var v = r - 4, g = l; g < r;) {\n              for (; !(!(g < v) || 128 & (i = e[g]) || 128 & (n = e[g + 1]) || 128 & (o = e[g + 2]) || 128 & (s = e[g + 3]));) t[a++] = i, t[a++] = n, t[a++] = o, t[a++] = s, g += 4;\n\n              if ((i = e[g++]) < 128) t[a++] = i;else if (192 == (224 & i)) {\n                if (g >= r) return this.interim[0] = i, a;\n\n                if (128 != (192 & (n = e[g++]))) {\n                  g--;\n                  continue;\n                }\n\n                if ((c = (31 & i) << 6 | 63 & n) < 128) {\n                  g--;\n                  continue;\n                }\n\n                t[a++] = c;\n              } else if (224 == (240 & i)) {\n                if (g >= r) return this.interim[0] = i, a;\n\n                if (128 != (192 & (n = e[g++]))) {\n                  g--;\n                  continue;\n                }\n\n                if (g >= r) return this.interim[0] = i, this.interim[1] = n, a;\n\n                if (128 != (192 & (o = e[g++]))) {\n                  g--;\n                  continue;\n                }\n\n                if ((c = (15 & i) << 12 | (63 & n) << 6 | 63 & o) < 2048 || c >= 55296 && c <= 57343 || 65279 === c) continue;\n                t[a++] = c;\n              } else if (240 == (248 & i)) {\n                if (g >= r) return this.interim[0] = i, a;\n\n                if (128 != (192 & (n = e[g++]))) {\n                  g--;\n                  continue;\n                }\n\n                if (g >= r) return this.interim[0] = i, this.interim[1] = n, a;\n\n                if (128 != (192 & (o = e[g++]))) {\n                  g--;\n                  continue;\n                }\n\n                if (g >= r) return this.interim[0] = i, this.interim[1] = n, this.interim[2] = o, a;\n\n                if (128 != (192 & (s = e[g++]))) {\n                  g--;\n                  continue;\n                }\n\n                if ((c = (7 & i) << 18 | (63 & n) << 12 | (63 & o) << 6 | 63 & s) < 65536 || c > 1114111) continue;\n                t[a++] = c;\n              }\n            }\n\n            return a;\n          }, e;\n        }();\n\n        t.Utf8ToUtf32 = i;\n      },\n      225: (e, t, r) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.UnicodeV6 = void 0;\n\n        var i,\n            n = r(8273),\n            o = [[768, 879], [1155, 1158], [1160, 1161], [1425, 1469], [1471, 1471], [1473, 1474], [1476, 1477], [1479, 1479], [1536, 1539], [1552, 1557], [1611, 1630], [1648, 1648], [1750, 1764], [1767, 1768], [1770, 1773], [1807, 1807], [1809, 1809], [1840, 1866], [1958, 1968], [2027, 2035], [2305, 2306], [2364, 2364], [2369, 2376], [2381, 2381], [2385, 2388], [2402, 2403], [2433, 2433], [2492, 2492], [2497, 2500], [2509, 2509], [2530, 2531], [2561, 2562], [2620, 2620], [2625, 2626], [2631, 2632], [2635, 2637], [2672, 2673], [2689, 2690], [2748, 2748], [2753, 2757], [2759, 2760], [2765, 2765], [2786, 2787], [2817, 2817], [2876, 2876], [2879, 2879], [2881, 2883], [2893, 2893], [2902, 2902], [2946, 2946], [3008, 3008], [3021, 3021], [3134, 3136], [3142, 3144], [3146, 3149], [3157, 3158], [3260, 3260], [3263, 3263], [3270, 3270], [3276, 3277], [3298, 3299], [3393, 3395], [3405, 3405], [3530, 3530], [3538, 3540], [3542, 3542], [3633, 3633], [3636, 3642], [3655, 3662], [3761, 3761], [3764, 3769], [3771, 3772], [3784, 3789], [3864, 3865], [3893, 3893], [3895, 3895], [3897, 3897], [3953, 3966], [3968, 3972], [3974, 3975], [3984, 3991], [3993, 4028], [4038, 4038], [4141, 4144], [4146, 4146], [4150, 4151], [4153, 4153], [4184, 4185], [4448, 4607], [4959, 4959], [5906, 5908], [5938, 5940], [5970, 5971], [6002, 6003], [6068, 6069], [6071, 6077], [6086, 6086], [6089, 6099], [6109, 6109], [6155, 6157], [6313, 6313], [6432, 6434], [6439, 6440], [6450, 6450], [6457, 6459], [6679, 6680], [6912, 6915], [6964, 6964], [6966, 6970], [6972, 6972], [6978, 6978], [7019, 7027], [7616, 7626], [7678, 7679], [8203, 8207], [8234, 8238], [8288, 8291], [8298, 8303], [8400, 8431], [12330, 12335], [12441, 12442], [43014, 43014], [43019, 43019], [43045, 43046], [64286, 64286], [65024, 65039], [65056, 65059], [65279, 65279], [65529, 65531]],\n            s = [[68097, 68099], [68101, 68102], [68108, 68111], [68152, 68154], [68159, 68159], [119143, 119145], [119155, 119170], [119173, 119179], [119210, 119213], [119362, 119364], [917505, 917505], [917536, 917631], [917760, 917999]],\n            a = function () {\n          function e() {\n            if (this.version = \"6\", !i) {\n              i = new Uint8Array(65536), (0, n.fill)(i, 1), i[0] = 0, (0, n.fill)(i, 0, 1, 32), (0, n.fill)(i, 0, 127, 160), (0, n.fill)(i, 2, 4352, 4448), i[9001] = 2, i[9002] = 2, (0, n.fill)(i, 2, 11904, 42192), i[12351] = 1, (0, n.fill)(i, 2, 44032, 55204), (0, n.fill)(i, 2, 63744, 64256), (0, n.fill)(i, 2, 65040, 65050), (0, n.fill)(i, 2, 65072, 65136), (0, n.fill)(i, 2, 65280, 65377), (0, n.fill)(i, 2, 65504, 65511);\n\n              for (var e = 0; e < o.length; ++e) (0, n.fill)(i, 0, o[e][0], o[e][1] + 1);\n            }\n          }\n\n          return e.prototype.wcwidth = function (e) {\n            return e < 32 ? 0 : e < 127 ? 1 : e < 65536 ? i[e] : function (e, t) {\n              var r,\n                  i = 0,\n                  n = t.length - 1;\n              if (e < t[0][0] || e > t[n][1]) return !1;\n\n              for (; n >= i;) if (e > t[r = i + n >> 1][1]) i = r + 1;else {\n                if (!(e < t[r][0])) return !0;\n                n = r - 1;\n              }\n\n              return !1;\n            }(e, s) ? 0 : e >= 131072 && e <= 196605 || e >= 196608 && e <= 262141 ? 2 : 1;\n          }, e;\n        }();\n\n        t.UnicodeV6 = a;\n      },\n      5981: (e, t) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.WriteBuffer = void 0;\n\n        var r = \"undefined\" == typeof queueMicrotask ? function (e) {\n          Promise.resolve().then(e);\n        } : queueMicrotask,\n            i = function () {\n          function e(e) {\n            this._action = e, this._writeBuffer = [], this._callbacks = [], this._pendingData = 0, this._bufferOffset = 0, this._isSyncWriting = !1, this._syncCalls = 0;\n          }\n\n          return e.prototype.writeSync = function (e, t) {\n            if (void 0 !== t && this._syncCalls > t) this._syncCalls = 0;else if (this._pendingData += e.length, this._writeBuffer.push(e), this._callbacks.push(void 0), this._syncCalls++, !this._isSyncWriting) {\n              var r;\n\n              for (this._isSyncWriting = !0; r = this._writeBuffer.shift();) {\n                this._action(r);\n\n                var i = this._callbacks.shift();\n\n                i && i();\n              }\n\n              this._pendingData = 0, this._bufferOffset = 2147483647, this._isSyncWriting = !1, this._syncCalls = 0;\n            }\n          }, e.prototype.write = function (e, t) {\n            var r = this;\n            if (this._pendingData > 5e7) throw new Error(\"write data discarded, use flow control to avoid losing data\");\n            this._writeBuffer.length || (this._bufferOffset = 0, setTimeout(function () {\n              return r._innerWrite();\n            })), this._pendingData += e.length, this._writeBuffer.push(e), this._callbacks.push(t);\n          }, e.prototype._innerWrite = function (e, t) {\n            var i = this;\n            void 0 === e && (e = 0), void 0 === t && (t = !0);\n\n            for (var n = e || Date.now(); this._writeBuffer.length > this._bufferOffset;) {\n              var o = this._writeBuffer[this._bufferOffset],\n                  s = this._action(o, t);\n\n              if (s) return void s.catch(function (e) {\n                return r(function () {\n                  throw e;\n                }), Promise.resolve(!1);\n              }).then(function (e) {\n                return Date.now() - n >= 12 ? setTimeout(function () {\n                  return i._innerWrite(0, e);\n                }) : i._innerWrite(n, e);\n              });\n              var a = this._callbacks[this._bufferOffset];\n              if (a && a(), this._bufferOffset++, this._pendingData -= o.length, Date.now() - n >= 12) break;\n            }\n\n            this._writeBuffer.length > this._bufferOffset ? (this._bufferOffset > 50 && (this._writeBuffer = this._writeBuffer.slice(this._bufferOffset), this._callbacks = this._callbacks.slice(this._bufferOffset), this._bufferOffset = 0), setTimeout(function () {\n              return i._innerWrite();\n            })) : (this._writeBuffer.length = 0, this._callbacks.length = 0, this._pendingData = 0, this._bufferOffset = 0);\n          }, e;\n        }();\n\n        t.WriteBuffer = i;\n      },\n      5941: (e, t) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.toRgbString = t.parseColor = void 0;\n        var r = /^([\\da-f]{1})\\/([\\da-f]{1})\\/([\\da-f]{1})$|^([\\da-f]{2})\\/([\\da-f]{2})\\/([\\da-f]{2})$|^([\\da-f]{3})\\/([\\da-f]{3})\\/([\\da-f]{3})$|^([\\da-f]{4})\\/([\\da-f]{4})\\/([\\da-f]{4})$/,\n            i = /^[\\da-f]+$/;\n\n        function n(e, t) {\n          var r = e.toString(16),\n              i = r.length < 2 ? \"0\" + r : r;\n\n          switch (t) {\n            case 4:\n              return r[0];\n\n            case 8:\n              return i;\n\n            case 12:\n              return (i + i).slice(0, 3);\n\n            default:\n              return i + i;\n          }\n        }\n\n        t.parseColor = function (e) {\n          if (e) {\n            var t = e.toLowerCase();\n\n            if (0 === t.indexOf(\"rgb:\")) {\n              t = t.slice(4);\n              var n = r.exec(t);\n\n              if (n) {\n                var o = n[1] ? 15 : n[4] ? 255 : n[7] ? 4095 : 65535;\n                return [Math.round(parseInt(n[1] || n[4] || n[7] || n[10], 16) / o * 255), Math.round(parseInt(n[2] || n[5] || n[8] || n[11], 16) / o * 255), Math.round(parseInt(n[3] || n[6] || n[9] || n[12], 16) / o * 255)];\n              }\n            } else if (0 === t.indexOf(\"#\") && (t = t.slice(1), i.exec(t) && [3, 6, 9, 12].includes(t.length))) {\n              for (var s = t.length / 3, a = [0, 0, 0], c = 0; c < 3; ++c) {\n                var l = parseInt(t.slice(s * c, s * c + s), 16);\n                a[c] = 1 === s ? l << 4 : 2 === s ? l : 3 === s ? l >> 4 : l >> 8;\n              }\n\n              return a;\n            }\n          }\n        }, t.toRgbString = function (e, t) {\n          void 0 === t && (t = 16);\n          var r = e[0],\n              i = e[1],\n              o = e[2];\n          return \"rgb:\" + n(r, t) + \"/\" + n(i, t) + \"/\" + n(o, t);\n        };\n      },\n      5770: (e, t) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.PAYLOAD_LIMIT = void 0, t.PAYLOAD_LIMIT = 1e7;\n      },\n      6351: (e, t, r) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.DcsHandler = t.DcsParser = void 0;\n\n        var i = r(482),\n            n = r(8742),\n            o = r(5770),\n            s = [],\n            a = function () {\n          function e() {\n            this._handlers = Object.create(null), this._active = s, this._ident = 0, this._handlerFb = function () {}, this._stack = {\n              paused: !1,\n              loopPosition: 0,\n              fallThrough: !1\n            };\n          }\n\n          return e.prototype.dispose = function () {\n            this._handlers = Object.create(null), this._handlerFb = function () {}, this._active = s;\n          }, e.prototype.registerHandler = function (e, t) {\n            void 0 === this._handlers[e] && (this._handlers[e] = []);\n            var r = this._handlers[e];\n            return r.push(t), {\n              dispose: function () {\n                var e = r.indexOf(t);\n                -1 !== e && r.splice(e, 1);\n              }\n            };\n          }, e.prototype.clearHandler = function (e) {\n            this._handlers[e] && delete this._handlers[e];\n          }, e.prototype.setHandlerFallback = function (e) {\n            this._handlerFb = e;\n          }, e.prototype.reset = function () {\n            if (this._active.length) for (var e = this._stack.paused ? this._stack.loopPosition - 1 : this._active.length - 1; e >= 0; --e) this._active[e].unhook(!1);\n            this._stack.paused = !1, this._active = s, this._ident = 0;\n          }, e.prototype.hook = function (e, t) {\n            if (this.reset(), this._ident = e, this._active = this._handlers[e] || s, this._active.length) for (var r = this._active.length - 1; r >= 0; r--) this._active[r].hook(t);else this._handlerFb(this._ident, \"HOOK\", t);\n          }, e.prototype.put = function (e, t, r) {\n            if (this._active.length) for (var n = this._active.length - 1; n >= 0; n--) this._active[n].put(e, t, r);else this._handlerFb(this._ident, \"PUT\", (0, i.utf32ToString)(e, t, r));\n          }, e.prototype.unhook = function (e, t) {\n            if (void 0 === t && (t = !0), this._active.length) {\n              var r = !1,\n                  i = this._active.length - 1,\n                  n = !1;\n\n              if (this._stack.paused && (i = this._stack.loopPosition - 1, r = t, n = this._stack.fallThrough, this._stack.paused = !1), !n && !1 === r) {\n                for (; i >= 0 && !0 !== (r = this._active[i].unhook(e)); i--) if (r instanceof Promise) return this._stack.paused = !0, this._stack.loopPosition = i, this._stack.fallThrough = !1, r;\n\n                i--;\n              }\n\n              for (; i >= 0; i--) if ((r = this._active[i].unhook(!1)) instanceof Promise) return this._stack.paused = !0, this._stack.loopPosition = i, this._stack.fallThrough = !0, r;\n            } else this._handlerFb(this._ident, \"UNHOOK\", e);\n\n            this._active = s, this._ident = 0;\n          }, e;\n        }();\n\n        t.DcsParser = a;\n        var c = new n.Params();\n        c.addParam(0);\n\n        var l = function () {\n          function e(e) {\n            this._handler = e, this._data = \"\", this._params = c, this._hitLimit = !1;\n          }\n\n          return e.prototype.hook = function (e) {\n            this._params = e.length > 1 || e.params[0] ? e.clone() : c, this._data = \"\", this._hitLimit = !1;\n          }, e.prototype.put = function (e, t, r) {\n            this._hitLimit || (this._data += (0, i.utf32ToString)(e, t, r), this._data.length > o.PAYLOAD_LIMIT && (this._data = \"\", this._hitLimit = !0));\n          }, e.prototype.unhook = function (e) {\n            var t = this,\n                r = !1;\n            if (this._hitLimit) r = !1;else if (e && (r = this._handler(this._data, this._params)) instanceof Promise) return r.then(function (e) {\n              return t._params = c, t._data = \"\", t._hitLimit = !1, e;\n            });\n            return this._params = c, this._data = \"\", this._hitLimit = !1, r;\n          }, e;\n        }();\n\n        t.DcsHandler = l;\n      },\n      2015: function (e, t, r) {\n        var i,\n            n = this && this.__extends || (i = function (e, t) {\n          return i = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (e, t) {\n            e.__proto__ = t;\n          } || function (e, t) {\n            for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);\n          }, i(e, t);\n        }, function (e, t) {\n          if (\"function\" != typeof t && null !== t) throw new TypeError(\"Class extends value \" + String(t) + \" is not a constructor or null\");\n\n          function r() {\n            this.constructor = e;\n          }\n\n          i(e, t), e.prototype = null === t ? Object.create(t) : (r.prototype = t.prototype, new r());\n        });\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.EscapeSequenceParser = t.VT500_TRANSITION_TABLE = t.TransitionTable = void 0;\n\n        var o = r(844),\n            s = r(8273),\n            a = r(8742),\n            c = r(6242),\n            l = r(6351),\n            h = function () {\n          function e(e) {\n            this.table = new Uint8Array(e);\n          }\n\n          return e.prototype.setDefault = function (e, t) {\n            (0, s.fill)(this.table, e << 4 | t);\n          }, e.prototype.add = function (e, t, r, i) {\n            this.table[t << 8 | e] = r << 4 | i;\n          }, e.prototype.addMany = function (e, t, r, i) {\n            for (var n = 0; n < e.length; n++) this.table[t << 8 | e[n]] = r << 4 | i;\n          }, e;\n        }();\n\n        t.TransitionTable = h;\n        var u = 160;\n\n        t.VT500_TRANSITION_TABLE = function () {\n          var e = new h(4095),\n              t = Array.apply(null, Array(256)).map(function (e, t) {\n            return t;\n          }),\n              r = function (e, r) {\n            return t.slice(e, r);\n          },\n              i = r(32, 127),\n              n = r(0, 24);\n\n          n.push(25), n.push.apply(n, r(28, 32));\n          var o,\n              s = r(0, 14);\n\n          for (o in e.setDefault(1, 0), e.addMany(i, 0, 2, 0), s) e.addMany([24, 26, 153, 154], o, 3, 0), e.addMany(r(128, 144), o, 3, 0), e.addMany(r(144, 152), o, 3, 0), e.add(156, o, 0, 0), e.add(27, o, 11, 1), e.add(157, o, 4, 8), e.addMany([152, 158, 159], o, 0, 7), e.add(155, o, 11, 3), e.add(144, o, 11, 9);\n\n          return e.addMany(n, 0, 3, 0), e.addMany(n, 1, 3, 1), e.add(127, 1, 0, 1), e.addMany(n, 8, 0, 8), e.addMany(n, 3, 3, 3), e.add(127, 3, 0, 3), e.addMany(n, 4, 3, 4), e.add(127, 4, 0, 4), e.addMany(n, 6, 3, 6), e.addMany(n, 5, 3, 5), e.add(127, 5, 0, 5), e.addMany(n, 2, 3, 2), e.add(127, 2, 0, 2), e.add(93, 1, 4, 8), e.addMany(i, 8, 5, 8), e.add(127, 8, 5, 8), e.addMany([156, 27, 24, 26, 7], 8, 6, 0), e.addMany(r(28, 32), 8, 0, 8), e.addMany([88, 94, 95], 1, 0, 7), e.addMany(i, 7, 0, 7), e.addMany(n, 7, 0, 7), e.add(156, 7, 0, 0), e.add(127, 7, 0, 7), e.add(91, 1, 11, 3), e.addMany(r(64, 127), 3, 7, 0), e.addMany(r(48, 60), 3, 8, 4), e.addMany([60, 61, 62, 63], 3, 9, 4), e.addMany(r(48, 60), 4, 8, 4), e.addMany(r(64, 127), 4, 7, 0), e.addMany([60, 61, 62, 63], 4, 0, 6), e.addMany(r(32, 64), 6, 0, 6), e.add(127, 6, 0, 6), e.addMany(r(64, 127), 6, 0, 0), e.addMany(r(32, 48), 3, 9, 5), e.addMany(r(32, 48), 5, 9, 5), e.addMany(r(48, 64), 5, 0, 6), e.addMany(r(64, 127), 5, 7, 0), e.addMany(r(32, 48), 4, 9, 5), e.addMany(r(32, 48), 1, 9, 2), e.addMany(r(32, 48), 2, 9, 2), e.addMany(r(48, 127), 2, 10, 0), e.addMany(r(48, 80), 1, 10, 0), e.addMany(r(81, 88), 1, 10, 0), e.addMany([89, 90, 92], 1, 10, 0), e.addMany(r(96, 127), 1, 10, 0), e.add(80, 1, 11, 9), e.addMany(n, 9, 0, 9), e.add(127, 9, 0, 9), e.addMany(r(28, 32), 9, 0, 9), e.addMany(r(32, 48), 9, 9, 12), e.addMany(r(48, 60), 9, 8, 10), e.addMany([60, 61, 62, 63], 9, 9, 10), e.addMany(n, 11, 0, 11), e.addMany(r(32, 128), 11, 0, 11), e.addMany(r(28, 32), 11, 0, 11), e.addMany(n, 10, 0, 10), e.add(127, 10, 0, 10), e.addMany(r(28, 32), 10, 0, 10), e.addMany(r(48, 60), 10, 8, 10), e.addMany([60, 61, 62, 63], 10, 0, 11), e.addMany(r(32, 48), 10, 9, 12), e.addMany(n, 12, 0, 12), e.add(127, 12, 0, 12), e.addMany(r(28, 32), 12, 0, 12), e.addMany(r(32, 48), 12, 9, 12), e.addMany(r(48, 64), 12, 0, 11), e.addMany(r(64, 127), 12, 12, 13), e.addMany(r(64, 127), 10, 12, 13), e.addMany(r(64, 127), 9, 12, 13), e.addMany(n, 13, 13, 13), e.addMany(i, 13, 13, 13), e.add(127, 13, 0, 13), e.addMany([27, 156, 24, 26], 13, 14, 0), e.add(u, 0, 2, 0), e.add(u, 8, 5, 8), e.add(u, 6, 0, 6), e.add(u, 11, 0, 11), e.add(u, 13, 13, 13), e;\n        }();\n\n        var f = function (e) {\n          function r(r) {\n            void 0 === r && (r = t.VT500_TRANSITION_TABLE);\n            var i = e.call(this) || this;\n            return i._transitions = r, i._parseStack = {\n              state: 0,\n              handlers: [],\n              handlerPos: 0,\n              transition: 0,\n              chunkPos: 0\n            }, i.initialState = 0, i.currentState = i.initialState, i._params = new a.Params(), i._params.addParam(0), i._collect = 0, i.precedingCodepoint = 0, i._printHandlerFb = function (e, t, r) {}, i._executeHandlerFb = function (e) {}, i._csiHandlerFb = function (e, t) {}, i._escHandlerFb = function (e) {}, i._errorHandlerFb = function (e) {\n              return e;\n            }, i._printHandler = i._printHandlerFb, i._executeHandlers = Object.create(null), i._csiHandlers = Object.create(null), i._escHandlers = Object.create(null), i._oscParser = new c.OscParser(), i._dcsParser = new l.DcsParser(), i._errorHandler = i._errorHandlerFb, i.registerEscHandler({\n              final: \"\\\\\"\n            }, function () {\n              return !0;\n            }), i;\n          }\n\n          return n(r, e), r.prototype._identifier = function (e, t) {\n            void 0 === t && (t = [64, 126]);\n            var r = 0;\n\n            if (e.prefix) {\n              if (e.prefix.length > 1) throw new Error(\"only one byte as prefix supported\");\n              if ((r = e.prefix.charCodeAt(0)) && 60 > r || r > 63) throw new Error(\"prefix must be in range 0x3c .. 0x3f\");\n            }\n\n            if (e.intermediates) {\n              if (e.intermediates.length > 2) throw new Error(\"only two bytes as intermediates are supported\");\n\n              for (var i = 0; i < e.intermediates.length; ++i) {\n                var n = e.intermediates.charCodeAt(i);\n                if (32 > n || n > 47) throw new Error(\"intermediate must be in range 0x20 .. 0x2f\");\n                r <<= 8, r |= n;\n              }\n            }\n\n            if (1 !== e.final.length) throw new Error(\"final must be a single byte\");\n            var o = e.final.charCodeAt(0);\n            if (t[0] > o || o > t[1]) throw new Error(\"final must be in range \" + t[0] + \" .. \" + t[1]);\n            return (r <<= 8) | o;\n          }, r.prototype.identToString = function (e) {\n            for (var t = []; e;) t.push(String.fromCharCode(255 & e)), e >>= 8;\n\n            return t.reverse().join(\"\");\n          }, r.prototype.dispose = function () {\n            this._csiHandlers = Object.create(null), this._executeHandlers = Object.create(null), this._escHandlers = Object.create(null), this._oscParser.dispose(), this._dcsParser.dispose();\n          }, r.prototype.setPrintHandler = function (e) {\n            this._printHandler = e;\n          }, r.prototype.clearPrintHandler = function () {\n            this._printHandler = this._printHandlerFb;\n          }, r.prototype.registerEscHandler = function (e, t) {\n            var r = this._identifier(e, [48, 126]);\n\n            void 0 === this._escHandlers[r] && (this._escHandlers[r] = []);\n            var i = this._escHandlers[r];\n            return i.push(t), {\n              dispose: function () {\n                var e = i.indexOf(t);\n                -1 !== e && i.splice(e, 1);\n              }\n            };\n          }, r.prototype.clearEscHandler = function (e) {\n            this._escHandlers[this._identifier(e, [48, 126])] && delete this._escHandlers[this._identifier(e, [48, 126])];\n          }, r.prototype.setEscHandlerFallback = function (e) {\n            this._escHandlerFb = e;\n          }, r.prototype.setExecuteHandler = function (e, t) {\n            this._executeHandlers[e.charCodeAt(0)] = t;\n          }, r.prototype.clearExecuteHandler = function (e) {\n            this._executeHandlers[e.charCodeAt(0)] && delete this._executeHandlers[e.charCodeAt(0)];\n          }, r.prototype.setExecuteHandlerFallback = function (e) {\n            this._executeHandlerFb = e;\n          }, r.prototype.registerCsiHandler = function (e, t) {\n            var r = this._identifier(e);\n\n            void 0 === this._csiHandlers[r] && (this._csiHandlers[r] = []);\n            var i = this._csiHandlers[r];\n            return i.push(t), {\n              dispose: function () {\n                var e = i.indexOf(t);\n                -1 !== e && i.splice(e, 1);\n              }\n            };\n          }, r.prototype.clearCsiHandler = function (e) {\n            this._csiHandlers[this._identifier(e)] && delete this._csiHandlers[this._identifier(e)];\n          }, r.prototype.setCsiHandlerFallback = function (e) {\n            this._csiHandlerFb = e;\n          }, r.prototype.registerDcsHandler = function (e, t) {\n            return this._dcsParser.registerHandler(this._identifier(e), t);\n          }, r.prototype.clearDcsHandler = function (e) {\n            this._dcsParser.clearHandler(this._identifier(e));\n          }, r.prototype.setDcsHandlerFallback = function (e) {\n            this._dcsParser.setHandlerFallback(e);\n          }, r.prototype.registerOscHandler = function (e, t) {\n            return this._oscParser.registerHandler(e, t);\n          }, r.prototype.clearOscHandler = function (e) {\n            this._oscParser.clearHandler(e);\n          }, r.prototype.setOscHandlerFallback = function (e) {\n            this._oscParser.setHandlerFallback(e);\n          }, r.prototype.setErrorHandler = function (e) {\n            this._errorHandler = e;\n          }, r.prototype.clearErrorHandler = function () {\n            this._errorHandler = this._errorHandlerFb;\n          }, r.prototype.reset = function () {\n            this.currentState = this.initialState, this._oscParser.reset(), this._dcsParser.reset(), this._params.reset(), this._params.addParam(0), this._collect = 0, this.precedingCodepoint = 0, 0 !== this._parseStack.state && (this._parseStack.state = 2, this._parseStack.handlers = []);\n          }, r.prototype._preserveStack = function (e, t, r, i, n) {\n            this._parseStack.state = e, this._parseStack.handlers = t, this._parseStack.handlerPos = r, this._parseStack.transition = i, this._parseStack.chunkPos = n;\n          }, r.prototype.parse = function (e, t, r) {\n            var i,\n                n = 0,\n                o = 0,\n                s = 0;\n            if (this._parseStack.state) if (2 === this._parseStack.state) this._parseStack.state = 0, s = this._parseStack.chunkPos + 1;else {\n              if (void 0 === r || 1 === this._parseStack.state) throw this._parseStack.state = 1, new Error(\"improper continuation due to previous async handler, giving up parsing\");\n              var a = this._parseStack.handlers,\n                  c = this._parseStack.handlerPos - 1;\n\n              switch (this._parseStack.state) {\n                case 3:\n                  if (!1 === r && c > -1) for (; c >= 0 && !0 !== (i = a[c](this._params)); c--) if (i instanceof Promise) return this._parseStack.handlerPos = c, i;\n                  this._parseStack.handlers = [];\n                  break;\n\n                case 4:\n                  if (!1 === r && c > -1) for (; c >= 0 && !0 !== (i = a[c]()); c--) if (i instanceof Promise) return this._parseStack.handlerPos = c, i;\n                  this._parseStack.handlers = [];\n                  break;\n\n                case 6:\n                  if (n = e[this._parseStack.chunkPos], i = this._dcsParser.unhook(24 !== n && 26 !== n, r)) return i;\n                  27 === n && (this._parseStack.transition |= 1), this._params.reset(), this._params.addParam(0), this._collect = 0;\n                  break;\n\n                case 5:\n                  if (n = e[this._parseStack.chunkPos], i = this._oscParser.end(24 !== n && 26 !== n, r)) return i;\n                  27 === n && (this._parseStack.transition |= 1), this._params.reset(), this._params.addParam(0), this._collect = 0;\n              }\n\n              this._parseStack.state = 0, s = this._parseStack.chunkPos + 1, this.precedingCodepoint = 0, this.currentState = 15 & this._parseStack.transition;\n            }\n\n            for (var l = s; l < t; ++l) {\n              switch (n = e[l], (o = this._transitions.table[this.currentState << 8 | (n < 160 ? n : u)]) >> 4) {\n                case 2:\n                  for (var h = l + 1;; ++h) {\n                    if (h >= t || (n = e[h]) < 32 || n > 126 && n < u) {\n                      this._printHandler(e, l, h), l = h - 1;\n                      break;\n                    }\n\n                    if (++h >= t || (n = e[h]) < 32 || n > 126 && n < u) {\n                      this._printHandler(e, l, h), l = h - 1;\n                      break;\n                    }\n\n                    if (++h >= t || (n = e[h]) < 32 || n > 126 && n < u) {\n                      this._printHandler(e, l, h), l = h - 1;\n                      break;\n                    }\n\n                    if (++h >= t || (n = e[h]) < 32 || n > 126 && n < u) {\n                      this._printHandler(e, l, h), l = h - 1;\n                      break;\n                    }\n                  }\n\n                  break;\n\n                case 3:\n                  this._executeHandlers[n] ? this._executeHandlers[n]() : this._executeHandlerFb(n), this.precedingCodepoint = 0;\n                  break;\n\n                case 0:\n                  break;\n\n                case 1:\n                  if (this._errorHandler({\n                    position: l,\n                    code: n,\n                    currentState: this.currentState,\n                    collect: this._collect,\n                    params: this._params,\n                    abort: !1\n                  }).abort) return;\n                  break;\n\n                case 7:\n                  for (var f = (a = this._csiHandlers[this._collect << 8 | n]) ? a.length - 1 : -1; f >= 0 && !0 !== (i = a[f](this._params)); f--) if (i instanceof Promise) return this._preserveStack(3, a, f, o, l), i;\n\n                  f < 0 && this._csiHandlerFb(this._collect << 8 | n, this._params), this.precedingCodepoint = 0;\n                  break;\n\n                case 8:\n                  do {\n                    switch (n) {\n                      case 59:\n                        this._params.addParam(0);\n\n                        break;\n\n                      case 58:\n                        this._params.addSubParam(-1);\n\n                        break;\n\n                      default:\n                        this._params.addDigit(n - 48);\n\n                    }\n                  } while (++l < t && (n = e[l]) > 47 && n < 60);\n\n                  l--;\n                  break;\n\n                case 9:\n                  this._collect <<= 8, this._collect |= n;\n                  break;\n\n                case 10:\n                  for (var _ = this._escHandlers[this._collect << 8 | n], d = _ ? _.length - 1 : -1; d >= 0 && !0 !== (i = _[d]()); d--) if (i instanceof Promise) return this._preserveStack(4, _, d, o, l), i;\n\n                  d < 0 && this._escHandlerFb(this._collect << 8 | n), this.precedingCodepoint = 0;\n                  break;\n\n                case 11:\n                  this._params.reset(), this._params.addParam(0), this._collect = 0;\n                  break;\n\n                case 12:\n                  this._dcsParser.hook(this._collect << 8 | n, this._params);\n\n                  break;\n\n                case 13:\n                  for (var p = l + 1;; ++p) if (p >= t || 24 === (n = e[p]) || 26 === n || 27 === n || n > 127 && n < u) {\n                    this._dcsParser.put(e, l, p), l = p - 1;\n                    break;\n                  }\n\n                  break;\n\n                case 14:\n                  if (i = this._dcsParser.unhook(24 !== n && 26 !== n)) return this._preserveStack(6, [], 0, o, l), i;\n                  27 === n && (o |= 1), this._params.reset(), this._params.addParam(0), this._collect = 0, this.precedingCodepoint = 0;\n                  break;\n\n                case 4:\n                  this._oscParser.start();\n\n                  break;\n\n                case 5:\n                  for (var v = l + 1;; v++) if (v >= t || (n = e[v]) < 32 || n > 127 && n < u) {\n                    this._oscParser.put(e, l, v), l = v - 1;\n                    break;\n                  }\n\n                  break;\n\n                case 6:\n                  if (i = this._oscParser.end(24 !== n && 26 !== n)) return this._preserveStack(5, [], 0, o, l), i;\n                  27 === n && (o |= 1), this._params.reset(), this._params.addParam(0), this._collect = 0, this.precedingCodepoint = 0;\n              }\n\n              this.currentState = 15 & o;\n            }\n          }, r;\n        }(o.Disposable);\n\n        t.EscapeSequenceParser = f;\n      },\n      6242: (e, t, r) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.OscHandler = t.OscParser = void 0;\n\n        var i = r(5770),\n            n = r(482),\n            o = [],\n            s = function () {\n          function e() {\n            this._state = 0, this._active = o, this._id = -1, this._handlers = Object.create(null), this._handlerFb = function () {}, this._stack = {\n              paused: !1,\n              loopPosition: 0,\n              fallThrough: !1\n            };\n          }\n\n          return e.prototype.registerHandler = function (e, t) {\n            void 0 === this._handlers[e] && (this._handlers[e] = []);\n            var r = this._handlers[e];\n            return r.push(t), {\n              dispose: function () {\n                var e = r.indexOf(t);\n                -1 !== e && r.splice(e, 1);\n              }\n            };\n          }, e.prototype.clearHandler = function (e) {\n            this._handlers[e] && delete this._handlers[e];\n          }, e.prototype.setHandlerFallback = function (e) {\n            this._handlerFb = e;\n          }, e.prototype.dispose = function () {\n            this._handlers = Object.create(null), this._handlerFb = function () {}, this._active = o;\n          }, e.prototype.reset = function () {\n            if (2 === this._state) for (var e = this._stack.paused ? this._stack.loopPosition - 1 : this._active.length - 1; e >= 0; --e) this._active[e].end(!1);\n            this._stack.paused = !1, this._active = o, this._id = -1, this._state = 0;\n          }, e.prototype._start = function () {\n            if (this._active = this._handlers[this._id] || o, this._active.length) for (var e = this._active.length - 1; e >= 0; e--) this._active[e].start();else this._handlerFb(this._id, \"START\");\n          }, e.prototype._put = function (e, t, r) {\n            if (this._active.length) for (var i = this._active.length - 1; i >= 0; i--) this._active[i].put(e, t, r);else this._handlerFb(this._id, \"PUT\", (0, n.utf32ToString)(e, t, r));\n          }, e.prototype.start = function () {\n            this.reset(), this._state = 1;\n          }, e.prototype.put = function (e, t, r) {\n            if (3 !== this._state) {\n              if (1 === this._state) for (; t < r;) {\n                var i = e[t++];\n\n                if (59 === i) {\n                  this._state = 2, this._start();\n                  break;\n                }\n\n                if (i < 48 || 57 < i) return void (this._state = 3);\n                -1 === this._id && (this._id = 0), this._id = 10 * this._id + i - 48;\n              }\n              2 === this._state && r - t > 0 && this._put(e, t, r);\n            }\n          }, e.prototype.end = function (e, t) {\n            if (void 0 === t && (t = !0), 0 !== this._state) {\n              if (3 !== this._state) if (1 === this._state && this._start(), this._active.length) {\n                var r = !1,\n                    i = this._active.length - 1,\n                    n = !1;\n\n                if (this._stack.paused && (i = this._stack.loopPosition - 1, r = t, n = this._stack.fallThrough, this._stack.paused = !1), !n && !1 === r) {\n                  for (; i >= 0 && !0 !== (r = this._active[i].end(e)); i--) if (r instanceof Promise) return this._stack.paused = !0, this._stack.loopPosition = i, this._stack.fallThrough = !1, r;\n\n                  i--;\n                }\n\n                for (; i >= 0; i--) if ((r = this._active[i].end(!1)) instanceof Promise) return this._stack.paused = !0, this._stack.loopPosition = i, this._stack.fallThrough = !0, r;\n              } else this._handlerFb(this._id, \"END\", e);\n              this._active = o, this._id = -1, this._state = 0;\n            }\n          }, e;\n        }();\n\n        t.OscParser = s;\n\n        var a = function () {\n          function e(e) {\n            this._handler = e, this._data = \"\", this._hitLimit = !1;\n          }\n\n          return e.prototype.start = function () {\n            this._data = \"\", this._hitLimit = !1;\n          }, e.prototype.put = function (e, t, r) {\n            this._hitLimit || (this._data += (0, n.utf32ToString)(e, t, r), this._data.length > i.PAYLOAD_LIMIT && (this._data = \"\", this._hitLimit = !0));\n          }, e.prototype.end = function (e) {\n            var t = this,\n                r = !1;\n            if (this._hitLimit) r = !1;else if (e && (r = this._handler(this._data)) instanceof Promise) return r.then(function (e) {\n              return t._data = \"\", t._hitLimit = !1, e;\n            });\n            return this._data = \"\", this._hitLimit = !1, r;\n          }, e;\n        }();\n\n        t.OscHandler = a;\n      },\n      8742: (e, t) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.Params = void 0;\n\n        var r = 2147483647,\n            i = function () {\n          function e(e, t) {\n            if (void 0 === e && (e = 32), void 0 === t && (t = 32), this.maxLength = e, this.maxSubParamsLength = t, t > 256) throw new Error(\"maxSubParamsLength must not be greater than 256\");\n            this.params = new Int32Array(e), this.length = 0, this._subParams = new Int32Array(t), this._subParamsLength = 0, this._subParamsIdx = new Uint16Array(e), this._rejectDigits = !1, this._rejectSubDigits = !1, this._digitIsSub = !1;\n          }\n\n          return e.fromArray = function (t) {\n            var r = new e();\n            if (!t.length) return r;\n\n            for (var i = Array.isArray(t[0]) ? 1 : 0; i < t.length; ++i) {\n              var n = t[i];\n              if (Array.isArray(n)) for (var o = 0; o < n.length; ++o) r.addSubParam(n[o]);else r.addParam(n);\n            }\n\n            return r;\n          }, e.prototype.clone = function () {\n            var t = new e(this.maxLength, this.maxSubParamsLength);\n            return t.params.set(this.params), t.length = this.length, t._subParams.set(this._subParams), t._subParamsLength = this._subParamsLength, t._subParamsIdx.set(this._subParamsIdx), t._rejectDigits = this._rejectDigits, t._rejectSubDigits = this._rejectSubDigits, t._digitIsSub = this._digitIsSub, t;\n          }, e.prototype.toArray = function () {\n            for (var e = [], t = 0; t < this.length; ++t) {\n              e.push(this.params[t]);\n              var r = this._subParamsIdx[t] >> 8,\n                  i = 255 & this._subParamsIdx[t];\n              i - r > 0 && e.push(Array.prototype.slice.call(this._subParams, r, i));\n            }\n\n            return e;\n          }, e.prototype.reset = function () {\n            this.length = 0, this._subParamsLength = 0, this._rejectDigits = !1, this._rejectSubDigits = !1, this._digitIsSub = !1;\n          }, e.prototype.addParam = function (e) {\n            if (this._digitIsSub = !1, this.length >= this.maxLength) this._rejectDigits = !0;else {\n              if (e < -1) throw new Error(\"values lesser than -1 are not allowed\");\n              this._subParamsIdx[this.length] = this._subParamsLength << 8 | this._subParamsLength, this.params[this.length++] = e > r ? r : e;\n            }\n          }, e.prototype.addSubParam = function (e) {\n            if (this._digitIsSub = !0, this.length) if (this._rejectDigits || this._subParamsLength >= this.maxSubParamsLength) this._rejectSubDigits = !0;else {\n              if (e < -1) throw new Error(\"values lesser than -1 are not allowed\");\n              this._subParams[this._subParamsLength++] = e > r ? r : e, this._subParamsIdx[this.length - 1]++;\n            }\n          }, e.prototype.hasSubParams = function (e) {\n            return (255 & this._subParamsIdx[e]) - (this._subParamsIdx[e] >> 8) > 0;\n          }, e.prototype.getSubParams = function (e) {\n            var t = this._subParamsIdx[e] >> 8,\n                r = 255 & this._subParamsIdx[e];\n            return r - t > 0 ? this._subParams.subarray(t, r) : null;\n          }, e.prototype.getSubParamsAll = function () {\n            for (var e = {}, t = 0; t < this.length; ++t) {\n              var r = this._subParamsIdx[t] >> 8,\n                  i = 255 & this._subParamsIdx[t];\n              i - r > 0 && (e[t] = this._subParams.slice(r, i));\n            }\n\n            return e;\n          }, e.prototype.addDigit = function (e) {\n            var t;\n\n            if (!(this._rejectDigits || !(t = this._digitIsSub ? this._subParamsLength : this.length) || this._digitIsSub && this._rejectSubDigits)) {\n              var i = this._digitIsSub ? this._subParams : this.params,\n                  n = i[t - 1];\n              i[t - 1] = ~n ? Math.min(10 * n + e, r) : e;\n            }\n          }, e;\n        }();\n\n        t.Params = i;\n      },\n      5741: (e, t) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.AddonManager = void 0;\n\n        var r = function () {\n          function e() {\n            this._addons = [];\n          }\n\n          return e.prototype.dispose = function () {\n            for (var e = this._addons.length - 1; e >= 0; e--) this._addons[e].instance.dispose();\n          }, e.prototype.loadAddon = function (e, t) {\n            var r = this,\n                i = {\n              instance: t,\n              dispose: t.dispose,\n              isDisposed: !1\n            };\n            this._addons.push(i), t.dispose = function () {\n              return r._wrappedAddonDispose(i);\n            }, t.activate(e);\n          }, e.prototype._wrappedAddonDispose = function (e) {\n            if (!e.isDisposed) {\n              for (var t = -1, r = 0; r < this._addons.length; r++) if (this._addons[r] === e) {\n                t = r;\n                break;\n              }\n\n              if (-1 === t) throw new Error(\"Could not dispose an addon that has not been loaded\");\n              e.isDisposed = !0, e.dispose.apply(e.instance), this._addons.splice(t, 1);\n            }\n          }, e;\n        }();\n\n        t.AddonManager = r;\n      },\n      8771: (e, t, r) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.BufferApiView = void 0;\n\n        var i = r(3785),\n            n = r(511),\n            o = function () {\n          function e(e, t) {\n            this._buffer = e, this.type = t;\n          }\n\n          return e.prototype.init = function (e) {\n            return this._buffer = e, this;\n          }, Object.defineProperty(e.prototype, \"cursorY\", {\n            get: function () {\n              return this._buffer.y;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(e.prototype, \"cursorX\", {\n            get: function () {\n              return this._buffer.x;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(e.prototype, \"viewportY\", {\n            get: function () {\n              return this._buffer.ydisp;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(e.prototype, \"baseY\", {\n            get: function () {\n              return this._buffer.ybase;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(e.prototype, \"length\", {\n            get: function () {\n              return this._buffer.lines.length;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), e.prototype.getLine = function (e) {\n            var t = this._buffer.lines.get(e);\n\n            if (t) return new i.BufferLineApiView(t);\n          }, e.prototype.getNullCell = function () {\n            return new n.CellData();\n          }, e;\n        }();\n\n        t.BufferApiView = o;\n      },\n      3785: (e, t, r) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.BufferLineApiView = void 0;\n\n        var i = r(511),\n            n = function () {\n          function e(e) {\n            this._line = e;\n          }\n\n          return Object.defineProperty(e.prototype, \"isWrapped\", {\n            get: function () {\n              return this._line.isWrapped;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(e.prototype, \"length\", {\n            get: function () {\n              return this._line.length;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), e.prototype.getCell = function (e, t) {\n            if (!(e < 0 || e >= this._line.length)) return t ? (this._line.loadCell(e, t), t) : this._line.loadCell(e, new i.CellData());\n          }, e.prototype.translateToString = function (e, t, r) {\n            return this._line.translateToString(e, t, r);\n          }, e;\n        }();\n\n        t.BufferLineApiView = n;\n      },\n      8285: (e, t, r) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.BufferNamespaceApi = void 0;\n\n        var i = r(8771),\n            n = r(8460),\n            o = function () {\n          function e(e) {\n            var t = this;\n            this._core = e, this._onBufferChange = new n.EventEmitter(), this._normal = new i.BufferApiView(this._core.buffers.normal, \"normal\"), this._alternate = new i.BufferApiView(this._core.buffers.alt, \"alternate\"), this._core.buffers.onBufferActivate(function () {\n              return t._onBufferChange.fire(t.active);\n            });\n          }\n\n          return Object.defineProperty(e.prototype, \"onBufferChange\", {\n            get: function () {\n              return this._onBufferChange.event;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(e.prototype, \"active\", {\n            get: function () {\n              if (this._core.buffers.active === this._core.buffers.normal) return this.normal;\n              if (this._core.buffers.active === this._core.buffers.alt) return this.alternate;\n              throw new Error(\"Active buffer is neither normal nor alternate\");\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(e.prototype, \"normal\", {\n            get: function () {\n              return this._normal.init(this._core.buffers.normal);\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(e.prototype, \"alternate\", {\n            get: function () {\n              return this._alternate.init(this._core.buffers.alt);\n            },\n            enumerable: !1,\n            configurable: !0\n          }), e;\n        }();\n\n        t.BufferNamespaceApi = o;\n      },\n      7975: (e, t) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.ParserApi = void 0;\n\n        var r = function () {\n          function e(e) {\n            this._core = e;\n          }\n\n          return e.prototype.registerCsiHandler = function (e, t) {\n            return this._core.registerCsiHandler(e, function (e) {\n              return t(e.toArray());\n            });\n          }, e.prototype.addCsiHandler = function (e, t) {\n            return this.registerCsiHandler(e, t);\n          }, e.prototype.registerDcsHandler = function (e, t) {\n            return this._core.registerDcsHandler(e, function (e, r) {\n              return t(e, r.toArray());\n            });\n          }, e.prototype.addDcsHandler = function (e, t) {\n            return this.registerDcsHandler(e, t);\n          }, e.prototype.registerEscHandler = function (e, t) {\n            return this._core.registerEscHandler(e, t);\n          }, e.prototype.addEscHandler = function (e, t) {\n            return this.registerEscHandler(e, t);\n          }, e.prototype.registerOscHandler = function (e, t) {\n            return this._core.registerOscHandler(e, t);\n          }, e.prototype.addOscHandler = function (e, t) {\n            return this.registerOscHandler(e, t);\n          }, e;\n        }();\n\n        t.ParserApi = r;\n      },\n      7090: (e, t) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.UnicodeApi = void 0;\n\n        var r = function () {\n          function e(e) {\n            this._core = e;\n          }\n\n          return e.prototype.register = function (e) {\n            this._core.unicodeService.register(e);\n          }, Object.defineProperty(e.prototype, \"versions\", {\n            get: function () {\n              return this._core.unicodeService.versions;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(e.prototype, \"activeVersion\", {\n            get: function () {\n              return this._core.unicodeService.activeVersion;\n            },\n            set: function (e) {\n              this._core.unicodeService.activeVersion = e;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), e;\n        }();\n\n        t.UnicodeApi = r;\n      },\n      744: function (e, t, r) {\n        var i,\n            n = this && this.__extends || (i = function (e, t) {\n          return i = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (e, t) {\n            e.__proto__ = t;\n          } || function (e, t) {\n            for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);\n          }, i(e, t);\n        }, function (e, t) {\n          if (\"function\" != typeof t && null !== t) throw new TypeError(\"Class extends value \" + String(t) + \" is not a constructor or null\");\n\n          function r() {\n            this.constructor = e;\n          }\n\n          i(e, t), e.prototype = null === t ? Object.create(t) : (r.prototype = t.prototype, new r());\n        }),\n            o = this && this.__decorate || function (e, t, r, i) {\n          var n,\n              o = arguments.length,\n              s = o < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, r) : i;\n          if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.decorate) s = Reflect.decorate(e, t, r, i);else for (var a = e.length - 1; a >= 0; a--) (n = e[a]) && (s = (o < 3 ? n(s) : o > 3 ? n(t, r, s) : n(t, r)) || s);\n          return o > 3 && s && Object.defineProperty(t, r, s), s;\n        },\n            s = this && this.__param || function (e, t) {\n          return function (r, i) {\n            t(r, i, e);\n          };\n        };\n\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.BufferService = t.MINIMUM_ROWS = t.MINIMUM_COLS = void 0;\n        var a = r(2585),\n            c = r(5295),\n            l = r(8460),\n            h = r(844);\n        t.MINIMUM_COLS = 2, t.MINIMUM_ROWS = 1;\n\n        var u = function (e) {\n          function r(r) {\n            var i = e.call(this) || this;\n            return i._optionsService = r, i.isUserScrolling = !1, i._onResize = new l.EventEmitter(), i._onScroll = new l.EventEmitter(), i.cols = Math.max(r.rawOptions.cols || 0, t.MINIMUM_COLS), i.rows = Math.max(r.rawOptions.rows || 0, t.MINIMUM_ROWS), i.buffers = new c.BufferSet(r, i), i;\n          }\n\n          return n(r, e), Object.defineProperty(r.prototype, \"onResize\", {\n            get: function () {\n              return this._onResize.event;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(r.prototype, \"onScroll\", {\n            get: function () {\n              return this._onScroll.event;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(r.prototype, \"buffer\", {\n            get: function () {\n              return this.buffers.active;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), r.prototype.dispose = function () {\n            e.prototype.dispose.call(this), this.buffers.dispose();\n          }, r.prototype.resize = function (e, t) {\n            this.cols = e, this.rows = t, this.buffers.resize(e, t), this.buffers.setupTabStops(this.cols), this._onResize.fire({\n              cols: e,\n              rows: t\n            });\n          }, r.prototype.reset = function () {\n            this.buffers.reset(), this.isUserScrolling = !1;\n          }, r.prototype.scroll = function (e, t) {\n            void 0 === t && (t = !1);\n            var r,\n                i = this.buffer;\n            (r = this._cachedBlankLine) && r.length === this.cols && r.getFg(0) === e.fg && r.getBg(0) === e.bg || (r = i.getBlankLine(e, t), this._cachedBlankLine = r), r.isWrapped = t;\n            var n = i.ybase + i.scrollTop,\n                o = i.ybase + i.scrollBottom;\n\n            if (0 === i.scrollTop) {\n              var s = i.lines.isFull;\n              o === i.lines.length - 1 ? s ? i.lines.recycle().copyFrom(r) : i.lines.push(r.clone()) : i.lines.splice(o + 1, 0, r.clone()), s ? this.isUserScrolling && (i.ydisp = Math.max(i.ydisp - 1, 0)) : (i.ybase++, this.isUserScrolling || i.ydisp++);\n            } else {\n              var a = o - n + 1;\n              i.lines.shiftElements(n + 1, a - 1, -1), i.lines.set(o, r.clone());\n            }\n\n            this.isUserScrolling || (i.ydisp = i.ybase), this._onScroll.fire(i.ydisp);\n          }, r.prototype.scrollLines = function (e, t, r) {\n            var i = this.buffer;\n\n            if (e < 0) {\n              if (0 === i.ydisp) return;\n              this.isUserScrolling = !0;\n            } else e + i.ydisp >= i.ybase && (this.isUserScrolling = !1);\n\n            var n = i.ydisp;\n            i.ydisp = Math.max(Math.min(i.ydisp + e, i.ybase), 0), n !== i.ydisp && (t || this._onScroll.fire(i.ydisp));\n          }, r.prototype.scrollPages = function (e) {\n            this.scrollLines(e * (this.rows - 1));\n          }, r.prototype.scrollToTop = function () {\n            this.scrollLines(-this.buffer.ydisp);\n          }, r.prototype.scrollToBottom = function () {\n            this.scrollLines(this.buffer.ybase - this.buffer.ydisp);\n          }, r.prototype.scrollToLine = function (e) {\n            var t = e - this.buffer.ydisp;\n            0 !== t && this.scrollLines(t);\n          }, o([s(0, a.IOptionsService)], r);\n        }(h.Disposable);\n\n        t.BufferService = u;\n      },\n      7994: (e, t) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.CharsetService = void 0;\n\n        var r = function () {\n          function e() {\n            this.glevel = 0, this._charsets = [];\n          }\n\n          return e.prototype.reset = function () {\n            this.charset = void 0, this._charsets = [], this.glevel = 0;\n          }, e.prototype.setgLevel = function (e) {\n            this.glevel = e, this.charset = this._charsets[e];\n          }, e.prototype.setgCharset = function (e, t) {\n            this._charsets[e] = t, this.glevel === e && (this.charset = t);\n          }, e;\n        }();\n\n        t.CharsetService = r;\n      },\n      1753: function (e, t, r) {\n        var i = this && this.__decorate || function (e, t, r, i) {\n          var n,\n              o = arguments.length,\n              s = o < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, r) : i;\n          if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.decorate) s = Reflect.decorate(e, t, r, i);else for (var a = e.length - 1; a >= 0; a--) (n = e[a]) && (s = (o < 3 ? n(s) : o > 3 ? n(t, r, s) : n(t, r)) || s);\n          return o > 3 && s && Object.defineProperty(t, r, s), s;\n        },\n            n = this && this.__param || function (e, t) {\n          return function (r, i) {\n            t(r, i, e);\n          };\n        };\n\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.CoreMouseService = void 0;\n        var o = r(2585),\n            s = r(8460),\n            a = {\n          NONE: {\n            events: 0,\n            restrict: function () {\n              return !1;\n            }\n          },\n          X10: {\n            events: 1,\n            restrict: function (e) {\n              return 4 !== e.button && 1 === e.action && (e.ctrl = !1, e.alt = !1, e.shift = !1, !0);\n            }\n          },\n          VT200: {\n            events: 19,\n            restrict: function (e) {\n              return 32 !== e.action;\n            }\n          },\n          DRAG: {\n            events: 23,\n            restrict: function (e) {\n              return 32 !== e.action || 3 !== e.button;\n            }\n          },\n          ANY: {\n            events: 31,\n            restrict: function (e) {\n              return !0;\n            }\n          }\n        };\n\n        function c(e, t) {\n          var r = (e.ctrl ? 16 : 0) | (e.shift ? 4 : 0) | (e.alt ? 8 : 0);\n          return 4 === e.button ? (r |= 64, r |= e.action) : (r |= 3 & e.button, 4 & e.button && (r |= 64), 8 & e.button && (r |= 128), 32 === e.action ? r |= 32 : 0 !== e.action || t || (r |= 3)), r;\n        }\n\n        var l = String.fromCharCode,\n            h = {\n          DEFAULT: function (e) {\n            var t = [c(e, !1) + 32, e.col + 32, e.row + 32];\n            return t[0] > 255 || t[1] > 255 || t[2] > 255 ? \"\" : \"\u001b[M\" + l(t[0]) + l(t[1]) + l(t[2]);\n          },\n          SGR: function (e) {\n            var t = 0 === e.action && 4 !== e.button ? \"m\" : \"M\";\n            return \"\u001b[<\" + c(e, !0) + \";\" + e.col + \";\" + e.row + t;\n          }\n        },\n            u = function () {\n          function e(e, t) {\n            this._bufferService = e, this._coreService = t, this._protocols = {}, this._encodings = {}, this._activeProtocol = \"\", this._activeEncoding = \"\", this._onProtocolChange = new s.EventEmitter(), this._lastEvent = null;\n\n            for (var r = 0, i = Object.keys(a); r < i.length; r++) {\n              var n = i[r];\n              this.addProtocol(n, a[n]);\n            }\n\n            for (var o = 0, c = Object.keys(h); o < c.length; o++) {\n              var l = c[o];\n              this.addEncoding(l, h[l]);\n            }\n\n            this.reset();\n          }\n\n          return e.prototype.addProtocol = function (e, t) {\n            this._protocols[e] = t;\n          }, e.prototype.addEncoding = function (e, t) {\n            this._encodings[e] = t;\n          }, Object.defineProperty(e.prototype, \"activeProtocol\", {\n            get: function () {\n              return this._activeProtocol;\n            },\n            set: function (e) {\n              if (!this._protocols[e]) throw new Error('unknown protocol \"' + e + '\"');\n              this._activeProtocol = e, this._onProtocolChange.fire(this._protocols[e].events);\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(e.prototype, \"areMouseEventsActive\", {\n            get: function () {\n              return 0 !== this._protocols[this._activeProtocol].events;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(e.prototype, \"activeEncoding\", {\n            get: function () {\n              return this._activeEncoding;\n            },\n            set: function (e) {\n              if (!this._encodings[e]) throw new Error('unknown encoding \"' + e + '\"');\n              this._activeEncoding = e;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), e.prototype.reset = function () {\n            this.activeProtocol = \"NONE\", this.activeEncoding = \"DEFAULT\", this._lastEvent = null;\n          }, Object.defineProperty(e.prototype, \"onProtocolChange\", {\n            get: function () {\n              return this._onProtocolChange.event;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), e.prototype.triggerMouseEvent = function (e) {\n            if (e.col < 0 || e.col >= this._bufferService.cols || e.row < 0 || e.row >= this._bufferService.rows) return !1;\n            if (4 === e.button && 32 === e.action) return !1;\n            if (3 === e.button && 32 !== e.action) return !1;\n            if (4 !== e.button && (2 === e.action || 3 === e.action)) return !1;\n            if (e.col++, e.row++, 32 === e.action && this._lastEvent && this._compareEvents(this._lastEvent, e)) return !1;\n            if (!this._protocols[this._activeProtocol].restrict(e)) return !1;\n\n            var t = this._encodings[this._activeEncoding](e);\n\n            return t && (\"DEFAULT\" === this._activeEncoding ? this._coreService.triggerBinaryEvent(t) : this._coreService.triggerDataEvent(t, !0)), this._lastEvent = e, !0;\n          }, e.prototype.explainEvents = function (e) {\n            return {\n              down: !!(1 & e),\n              up: !!(2 & e),\n              drag: !!(4 & e),\n              move: !!(8 & e),\n              wheel: !!(16 & e)\n            };\n          }, e.prototype._compareEvents = function (e, t) {\n            return e.col === t.col && e.row === t.row && e.button === t.button && e.action === t.action && e.ctrl === t.ctrl && e.alt === t.alt && e.shift === t.shift;\n          }, i([n(0, o.IBufferService), n(1, o.ICoreService)], e);\n        }();\n\n        t.CoreMouseService = u;\n      },\n      6975: function (e, t, r) {\n        var i,\n            n = this && this.__extends || (i = function (e, t) {\n          return i = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (e, t) {\n            e.__proto__ = t;\n          } || function (e, t) {\n            for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);\n          }, i(e, t);\n        }, function (e, t) {\n          if (\"function\" != typeof t && null !== t) throw new TypeError(\"Class extends value \" + String(t) + \" is not a constructor or null\");\n\n          function r() {\n            this.constructor = e;\n          }\n\n          i(e, t), e.prototype = null === t ? Object.create(t) : (r.prototype = t.prototype, new r());\n        }),\n            o = this && this.__decorate || function (e, t, r, i) {\n          var n,\n              o = arguments.length,\n              s = o < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, r) : i;\n          if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.decorate) s = Reflect.decorate(e, t, r, i);else for (var a = e.length - 1; a >= 0; a--) (n = e[a]) && (s = (o < 3 ? n(s) : o > 3 ? n(t, r, s) : n(t, r)) || s);\n          return o > 3 && s && Object.defineProperty(t, r, s), s;\n        },\n            s = this && this.__param || function (e, t) {\n          return function (r, i) {\n            t(r, i, e);\n          };\n        };\n\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.CoreService = void 0;\n\n        var a = r(2585),\n            c = r(8460),\n            l = r(1439),\n            h = r(844),\n            u = Object.freeze({\n          insertMode: !1\n        }),\n            f = Object.freeze({\n          applicationCursorKeys: !1,\n          applicationKeypad: !1,\n          bracketedPasteMode: !1,\n          origin: !1,\n          reverseWraparound: !1,\n          sendFocus: !1,\n          wraparound: !0\n        }),\n            _ = function (e) {\n          function t(t, r, i, n) {\n            var o = e.call(this) || this;\n            return o._bufferService = r, o._logService = i, o._optionsService = n, o.isCursorInitialized = !1, o.isCursorHidden = !1, o._onData = o.register(new c.EventEmitter()), o._onUserInput = o.register(new c.EventEmitter()), o._onBinary = o.register(new c.EventEmitter()), o._scrollToBottom = t, o.register({\n              dispose: function () {\n                return o._scrollToBottom = void 0;\n              }\n            }), o.modes = (0, l.clone)(u), o.decPrivateModes = (0, l.clone)(f), o;\n          }\n\n          return n(t, e), Object.defineProperty(t.prototype, \"onData\", {\n            get: function () {\n              return this._onData.event;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(t.prototype, \"onUserInput\", {\n            get: function () {\n              return this._onUserInput.event;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(t.prototype, \"onBinary\", {\n            get: function () {\n              return this._onBinary.event;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), t.prototype.reset = function () {\n            this.modes = (0, l.clone)(u), this.decPrivateModes = (0, l.clone)(f);\n          }, t.prototype.triggerDataEvent = function (e, t) {\n            if (void 0 === t && (t = !1), !this._optionsService.rawOptions.disableStdin) {\n              var r = this._bufferService.buffer;\n              r.ybase !== r.ydisp && this._scrollToBottom(), t && this._onUserInput.fire(), this._logService.debug('sending data \"' + e + '\"', function () {\n                return e.split(\"\").map(function (e) {\n                  return e.charCodeAt(0);\n                });\n              }), this._onData.fire(e);\n            }\n          }, t.prototype.triggerBinaryEvent = function (e) {\n            this._optionsService.rawOptions.disableStdin || (this._logService.debug('sending binary \"' + e + '\"', function () {\n              return e.split(\"\").map(function (e) {\n                return e.charCodeAt(0);\n              });\n            }), this._onBinary.fire(e));\n          }, o([s(1, a.IBufferService), s(2, a.ILogService), s(3, a.IOptionsService)], t);\n        }(h.Disposable);\n\n        t.CoreService = _;\n      },\n      3730: function (e, t, r) {\n        var i = this && this.__decorate || function (e, t, r, i) {\n          var n,\n              o = arguments.length,\n              s = o < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, r) : i;\n          if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.decorate) s = Reflect.decorate(e, t, r, i);else for (var a = e.length - 1; a >= 0; a--) (n = e[a]) && (s = (o < 3 ? n(s) : o > 3 ? n(t, r, s) : n(t, r)) || s);\n          return o > 3 && s && Object.defineProperty(t, r, s), s;\n        },\n            n = this && this.__param || function (e, t) {\n          return function (r, i) {\n            t(r, i, e);\n          };\n        };\n\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.DirtyRowService = void 0;\n\n        var o = r(2585),\n            s = function () {\n          function e(e) {\n            this._bufferService = e, this.clearRange();\n          }\n\n          return Object.defineProperty(e.prototype, \"start\", {\n            get: function () {\n              return this._start;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(e.prototype, \"end\", {\n            get: function () {\n              return this._end;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), e.prototype.clearRange = function () {\n            this._start = this._bufferService.buffer.y, this._end = this._bufferService.buffer.y;\n          }, e.prototype.markDirty = function (e) {\n            e < this._start ? this._start = e : e > this._end && (this._end = e);\n          }, e.prototype.markRangeDirty = function (e, t) {\n            if (e > t) {\n              var r = e;\n              e = t, t = r;\n            }\n\n            e < this._start && (this._start = e), t > this._end && (this._end = t);\n          }, e.prototype.markAllDirty = function () {\n            this.markRangeDirty(0, this._bufferService.rows - 1);\n          }, i([n(0, o.IBufferService)], e);\n        }();\n\n        t.DirtyRowService = s;\n      },\n      4348: function (e, t, r) {\n        var i = this && this.__spreadArray || function (e, t, r) {\n          if (r || 2 === arguments.length) for (var i, n = 0, o = t.length; n < o; n++) !i && n in t || (i || (i = Array.prototype.slice.call(t, 0, n)), i[n] = t[n]);\n          return e.concat(i || Array.prototype.slice.call(t));\n        };\n\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.InstantiationService = t.ServiceCollection = void 0;\n\n        var n = r(2585),\n            o = r(8343),\n            s = function () {\n          function e() {\n            for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];\n\n            this._entries = new Map();\n\n            for (var r = 0, i = e; r < i.length; r++) {\n              var n = i[r],\n                  o = n[0],\n                  s = n[1];\n              this.set(o, s);\n            }\n          }\n\n          return e.prototype.set = function (e, t) {\n            var r = this._entries.get(e);\n\n            return this._entries.set(e, t), r;\n          }, e.prototype.forEach = function (e) {\n            this._entries.forEach(function (t, r) {\n              return e(r, t);\n            });\n          }, e.prototype.has = function (e) {\n            return this._entries.has(e);\n          }, e.prototype.get = function (e) {\n            return this._entries.get(e);\n          }, e;\n        }();\n\n        t.ServiceCollection = s;\n\n        var a = function () {\n          function e() {\n            this._services = new s(), this._services.set(n.IInstantiationService, this);\n          }\n\n          return e.prototype.setService = function (e, t) {\n            this._services.set(e, t);\n          }, e.prototype.getService = function (e) {\n            return this._services.get(e);\n          }, e.prototype.createInstance = function (e) {\n            for (var t = [], r = 1; r < arguments.length; r++) t[r - 1] = arguments[r];\n\n            for (var n = (0, o.getServiceDependencies)(e).sort(function (e, t) {\n              return e.index - t.index;\n            }), s = [], a = 0, c = n; a < c.length; a++) {\n              var l = c[a],\n                  h = this._services.get(l.id);\n\n              if (!h) throw new Error(\"[createInstance] \" + e.name + \" depends on UNKNOWN service \" + l.id + \".\");\n              s.push(h);\n            }\n\n            var u = n.length > 0 ? n[0].index : t.length;\n            if (t.length !== u) throw new Error(\"[createInstance] First service dependency of \" + e.name + \" at position \" + (u + 1) + \" conflicts with \" + t.length + \" static arguments\");\n            return new (e.bind.apply(e, i([void 0], i(i([], t, !0), s, !0), !1)))();\n          }, e;\n        }();\n\n        t.InstantiationService = a;\n      },\n      7866: function (e, t, r) {\n        var i = this && this.__decorate || function (e, t, r, i) {\n          var n,\n              o = arguments.length,\n              s = o < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, r) : i;\n          if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.decorate) s = Reflect.decorate(e, t, r, i);else for (var a = e.length - 1; a >= 0; a--) (n = e[a]) && (s = (o < 3 ? n(s) : o > 3 ? n(t, r, s) : n(t, r)) || s);\n          return o > 3 && s && Object.defineProperty(t, r, s), s;\n        },\n            n = this && this.__param || function (e, t) {\n          return function (r, i) {\n            t(r, i, e);\n          };\n        },\n            o = this && this.__spreadArray || function (e, t, r) {\n          if (r || 2 === arguments.length) for (var i, n = 0, o = t.length; n < o; n++) !i && n in t || (i || (i = Array.prototype.slice.call(t, 0, n)), i[n] = t[n]);\n          return e.concat(i || Array.prototype.slice.call(t));\n        };\n\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.LogService = void 0;\n\n        var s = r(2585),\n            a = {\n          debug: s.LogLevelEnum.DEBUG,\n          info: s.LogLevelEnum.INFO,\n          warn: s.LogLevelEnum.WARN,\n          error: s.LogLevelEnum.ERROR,\n          off: s.LogLevelEnum.OFF\n        },\n            c = function () {\n          function e(e) {\n            var t = this;\n            this._optionsService = e, this.logLevel = s.LogLevelEnum.OFF, this._updateLogLevel(), this._optionsService.onOptionChange(function (e) {\n              \"logLevel\" === e && t._updateLogLevel();\n            });\n          }\n\n          return e.prototype._updateLogLevel = function () {\n            this.logLevel = a[this._optionsService.rawOptions.logLevel];\n          }, e.prototype._evalLazyOptionalParams = function (e) {\n            for (var t = 0; t < e.length; t++) \"function\" == typeof e[t] && (e[t] = e[t]());\n          }, e.prototype._log = function (e, t, r) {\n            this._evalLazyOptionalParams(r), e.call.apply(e, o([console, \"xterm.js: \" + t], r, !1));\n          }, e.prototype.debug = function (e) {\n            for (var t = [], r = 1; r < arguments.length; r++) t[r - 1] = arguments[r];\n\n            this.logLevel <= s.LogLevelEnum.DEBUG && this._log(console.log, e, t);\n          }, e.prototype.info = function (e) {\n            for (var t = [], r = 1; r < arguments.length; r++) t[r - 1] = arguments[r];\n\n            this.logLevel <= s.LogLevelEnum.INFO && this._log(console.info, e, t);\n          }, e.prototype.warn = function (e) {\n            for (var t = [], r = 1; r < arguments.length; r++) t[r - 1] = arguments[r];\n\n            this.logLevel <= s.LogLevelEnum.WARN && this._log(console.warn, e, t);\n          }, e.prototype.error = function (e) {\n            for (var t = [], r = 1; r < arguments.length; r++) t[r - 1] = arguments[r];\n\n            this.logLevel <= s.LogLevelEnum.ERROR && this._log(console.error, e, t);\n          }, i([n(0, s.IOptionsService)], e);\n        }();\n\n        t.LogService = c;\n      },\n      7302: function (e, t, r) {\n        var i = this && this.__assign || function () {\n          return i = Object.assign || function (e) {\n            for (var t, r = 1, i = arguments.length; r < i; r++) for (var n in t = arguments[r]) Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);\n\n            return e;\n          }, i.apply(this, arguments);\n        };\n\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.OptionsService = t.DEFAULT_OPTIONS = t.DEFAULT_BELL_SOUND = void 0;\n        var n = r(8460),\n            o = r(6114);\n        t.DEFAULT_BELL_SOUND = \"data:audio/mp3;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4LjMyLjEwNAAAAAAAAAAAAAAA//tQxAADB8AhSmxhIIEVCSiJrDCQBTcu3UrAIwUdkRgQbFAZC1CQEwTJ9mjRvBA4UOLD8nKVOWfh+UlK3z/177OXrfOdKl7pyn3Xf//WreyTRUoAWgBgkOAGbZHBgG1OF6zM82DWbZaUmMBptgQhGjsyYqc9ae9XFz280948NMBWInljyzsNRFLPWdnZGWrddDsjK1unuSrVN9jJsK8KuQtQCtMBjCEtImISdNKJOopIpBFpNSMbIHCSRpRR5iakjTiyzLhchUUBwCgyKiweBv/7UsQbg8isVNoMPMjAAAA0gAAABEVFGmgqK////9bP/6XCykxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq\", t.DEFAULT_OPTIONS = {\n          cols: 80,\n          rows: 24,\n          cursorBlink: !1,\n          cursorStyle: \"block\",\n          cursorWidth: 1,\n          customGlyphs: !0,\n          bellSound: t.DEFAULT_BELL_SOUND,\n          bellStyle: \"none\",\n          drawBoldTextInBrightColors: !0,\n          fastScrollModifier: \"alt\",\n          fastScrollSensitivity: 5,\n          fontFamily: \"courier-new, courier, monospace\",\n          fontSize: 15,\n          fontWeight: \"normal\",\n          fontWeightBold: \"bold\",\n          lineHeight: 1,\n          linkTooltipHoverDuration: 500,\n          letterSpacing: 0,\n          logLevel: \"info\",\n          scrollback: 1e3,\n          scrollSensitivity: 1,\n          screenReaderMode: !1,\n          macOptionIsMeta: !1,\n          macOptionClickForcesSelection: !1,\n          minimumContrastRatio: 1,\n          disableStdin: !1,\n          allowProposedApi: !0,\n          allowTransparency: !1,\n          tabStopWidth: 8,\n          theme: {},\n          rightClickSelectsWord: o.isMac,\n          rendererType: \"canvas\",\n          windowOptions: {},\n          windowsMode: !1,\n          wordSeparator: \" ()[]{}',\\\"`\",\n          altClickMovesCursor: !0,\n          convertEol: !1,\n          termName: \"xterm\",\n          cancelEvents: !1\n        };\n\n        var s = [\"normal\", \"bold\", \"100\", \"200\", \"300\", \"400\", \"500\", \"600\", \"700\", \"800\", \"900\"],\n            a = function () {\n          function e(e) {\n            this._onOptionChange = new n.EventEmitter();\n            var r = i({}, t.DEFAULT_OPTIONS);\n\n            for (var o in e) if (o in r) try {\n              var s = e[o];\n              r[o] = this._sanitizeAndValidateOption(o, s);\n            } catch (e) {\n              console.error(e);\n            }\n\n            this.rawOptions = r, this.options = i({}, r), this._setupOptions();\n          }\n\n          return Object.defineProperty(e.prototype, \"onOptionChange\", {\n            get: function () {\n              return this._onOptionChange.event;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), e.prototype._setupOptions = function () {\n            var e = this,\n                r = function (r) {\n              if (!(r in t.DEFAULT_OPTIONS)) throw new Error('No option with key \"' + r + '\"');\n              return e.rawOptions[r];\n            },\n                i = function (r, i) {\n              if (!(r in t.DEFAULT_OPTIONS)) throw new Error('No option with key \"' + r + '\"');\n              i = e._sanitizeAndValidateOption(r, i), e.rawOptions[r] !== i && (e.rawOptions[r] = i, e._onOptionChange.fire(r));\n            };\n\n            for (var n in this.rawOptions) {\n              var o = {\n                get: r.bind(this, n),\n                set: i.bind(this, n)\n              };\n              Object.defineProperty(this.options, n, o);\n            }\n          }, e.prototype.setOption = function (e, t) {\n            this.options[e] = t;\n          }, e.prototype._sanitizeAndValidateOption = function (e, r) {\n            switch (e) {\n              case \"bellStyle\":\n              case \"cursorStyle\":\n              case \"rendererType\":\n              case \"wordSeparator\":\n                r || (r = t.DEFAULT_OPTIONS[e]);\n                break;\n\n              case \"fontWeight\":\n              case \"fontWeightBold\":\n                if (\"number\" == typeof r && 1 <= r && r <= 1e3) break;\n                r = s.includes(r) ? r : t.DEFAULT_OPTIONS[e];\n                break;\n\n              case \"cursorWidth\":\n                r = Math.floor(r);\n\n              case \"lineHeight\":\n              case \"tabStopWidth\":\n                if (r < 1) throw new Error(e + \" cannot be less than 1, value: \" + r);\n                break;\n\n              case \"minimumContrastRatio\":\n                r = Math.max(1, Math.min(21, Math.round(10 * r) / 10));\n                break;\n\n              case \"scrollback\":\n                if ((r = Math.min(r, 4294967295)) < 0) throw new Error(e + \" cannot be less than 0, value: \" + r);\n                break;\n\n              case \"fastScrollSensitivity\":\n              case \"scrollSensitivity\":\n                if (r <= 0) throw new Error(e + \" cannot be less than or equal to 0, value: \" + r);\n\n              case \"rows\":\n              case \"cols\":\n                if (!r && 0 !== r) throw new Error(e + \" must be numeric, value: \" + r);\n            }\n\n            return r;\n          }, e.prototype.getOption = function (e) {\n            return this.options[e];\n          }, e;\n        }();\n\n        t.OptionsService = a;\n      },\n      8343: (e, t) => {\n        function r(e, t, r) {\n          t.di$target === t ? t.di$dependencies.push({\n            id: e,\n            index: r\n          }) : (t.di$dependencies = [{\n            id: e,\n            index: r\n          }], t.di$target = t);\n        }\n\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.createDecorator = t.getServiceDependencies = t.serviceRegistry = void 0, t.serviceRegistry = new Map(), t.getServiceDependencies = function (e) {\n          return e.di$dependencies || [];\n        }, t.createDecorator = function (e) {\n          if (t.serviceRegistry.has(e)) return t.serviceRegistry.get(e);\n\n          var i = function (e, t, n) {\n            if (3 !== arguments.length) throw new Error(\"@IServiceName-decorator can only be used to decorate a parameter\");\n            r(i, e, n);\n          };\n\n          return i.toString = function () {\n            return e;\n          }, t.serviceRegistry.set(e, i), i;\n        };\n      },\n      2585: (e, t, r) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.IUnicodeService = t.IOptionsService = t.ILogService = t.LogLevelEnum = t.IInstantiationService = t.IDirtyRowService = t.ICharsetService = t.ICoreService = t.ICoreMouseService = t.IBufferService = void 0;\n        var i,\n            n = r(8343);\n        t.IBufferService = (0, n.createDecorator)(\"BufferService\"), t.ICoreMouseService = (0, n.createDecorator)(\"CoreMouseService\"), t.ICoreService = (0, n.createDecorator)(\"CoreService\"), t.ICharsetService = (0, n.createDecorator)(\"CharsetService\"), t.IDirtyRowService = (0, n.createDecorator)(\"DirtyRowService\"), t.IInstantiationService = (0, n.createDecorator)(\"InstantiationService\"), (i = t.LogLevelEnum || (t.LogLevelEnum = {}))[i.DEBUG = 0] = \"DEBUG\", i[i.INFO = 1] = \"INFO\", i[i.WARN = 2] = \"WARN\", i[i.ERROR = 3] = \"ERROR\", i[i.OFF = 4] = \"OFF\", t.ILogService = (0, n.createDecorator)(\"LogService\"), t.IOptionsService = (0, n.createDecorator)(\"OptionsService\"), t.IUnicodeService = (0, n.createDecorator)(\"UnicodeService\");\n      },\n      1480: (e, t, r) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.UnicodeService = void 0;\n\n        var i = r(8460),\n            n = r(225),\n            o = function () {\n          function e() {\n            this._providers = Object.create(null), this._active = \"\", this._onChange = new i.EventEmitter();\n            var e = new n.UnicodeV6();\n            this.register(e), this._active = e.version, this._activeProvider = e;\n          }\n\n          return Object.defineProperty(e.prototype, \"onChange\", {\n            get: function () {\n              return this._onChange.event;\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(e.prototype, \"versions\", {\n            get: function () {\n              return Object.keys(this._providers);\n            },\n            enumerable: !1,\n            configurable: !0\n          }), Object.defineProperty(e.prototype, \"activeVersion\", {\n            get: function () {\n              return this._active;\n            },\n            set: function (e) {\n              if (!this._providers[e]) throw new Error('unknown Unicode version \"' + e + '\"');\n              this._active = e, this._activeProvider = this._providers[e], this._onChange.fire(e);\n            },\n            enumerable: !1,\n            configurable: !0\n          }), e.prototype.register = function (e) {\n            this._providers[e.version] = e;\n          }, e.prototype.wcwidth = function (e) {\n            return this._activeProvider.wcwidth(e);\n          }, e.prototype.getStringCellWidth = function (e) {\n            for (var t = 0, r = e.length, i = 0; i < r; ++i) {\n              var n = e.charCodeAt(i);\n\n              if (55296 <= n && n <= 56319) {\n                if (++i >= r) return t + this.wcwidth(n);\n                var o = e.charCodeAt(i);\n                56320 <= o && o <= 57343 ? n = 1024 * (n - 55296) + o - 56320 + 65536 : t += this.wcwidth(o);\n              }\n\n              t += this.wcwidth(n);\n            }\n\n            return t;\n          }, e;\n        }();\n\n        t.UnicodeService = o;\n      }\n    },\n        t = {};\n    return function r(i) {\n      var n = t[i];\n      if (void 0 !== n) return n.exports;\n      var o = t[i] = {\n        exports: {}\n      };\n      return e[i].call(o.exports, o, o.exports, r), o.exports;\n    }(4389);\n  })();\n}); //# sourceMappingURL=xterm.js.map","map":null,"metadata":{},"sourceType":"script"}